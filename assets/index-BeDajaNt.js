function Dp(e,t){for(var a=0;a<t.length;a++){const s=t[a];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const l=Object.getOwnPropertyDescriptor(s,n);l&&Object.defineProperty(e,n,l.get?l:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Df(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Cp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var a=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(a,s,n.get?n:{enumerable:!0,get:function(){return e[s]}})}),a}var Cf={exports:{}},Bi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=Symbol.for("react.transitional.element"),Rp=Symbol.for("react.fragment");function kf(e,t,a){var s=null;if(a!==void 0&&(s=""+a),t.key!==void 0&&(s=""+t.key),"key"in t){a={};for(var n in t)n!=="key"&&(a[n]=t[n])}else a=t;return t=a.ref,{$$typeof:kp,type:e,key:s,ref:t!==void 0?t:null,props:a}}Bi.Fragment=Rp;Bi.jsx=kf;Bi.jsxs=kf;Cf.exports=Bi;var i=Cf.exports,Rf={exports:{}},B={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=Symbol.for("react.transitional.element"),Up=Symbol.for("react.portal"),Mp=Symbol.for("react.fragment"),zp=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Bp=Symbol.for("react.consumer"),qp=Symbol.for("react.context"),Hp=Symbol.for("react.forward_ref"),Ip=Symbol.for("react.suspense"),$p=Symbol.for("react.memo"),Uf=Symbol.for("react.lazy"),Ec=Symbol.iterator;function Gp(e){return e===null||typeof e!="object"?null:(e=Ec&&e[Ec]||e["@@iterator"],typeof e=="function"?e:null)}var Mf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zf=Object.assign,Lf={};function Ls(e,t,a){this.props=e,this.context=t,this.refs=Lf,this.updater=a||Mf}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bf(){}Bf.prototype=Ls.prototype;function fo(e,t,a){this.props=e,this.context=t,this.refs=Lf,this.updater=a||Mf}var ho=fo.prototype=new Bf;ho.constructor=fo;zf(ho,Ls.prototype);ho.isPureReactComponent=!0;var Ac=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},qf=Object.prototype.hasOwnProperty;function mo(e,t,a,s,n,l){return a=l.ref,{$$typeof:co,type:e,key:t,ref:a!==void 0?a:null,props:l}}function Yp(e,t){return mo(e.type,t,void 0,void 0,void 0,e.props)}function po(e){return typeof e=="object"&&e!==null&&e.$$typeof===co}function Pp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var Oc=/\/+/g;function pr(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pp(""+e.key):t.toString(36)}function Tc(){}function Vp(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Tc,Tc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ja(e,t,a,s,n){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(l){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case co:case Up:r=!0;break;case Uf:return r=e._init,Ja(r(e._payload),t,a,s,n)}}if(r)return n=n(e),r=s===""?"."+pr(e,0):s,Ac(n)?(a="",r!=null&&(a=r.replace(Oc,"$&/")+"/"),Ja(n,t,a,"",function(c){return c})):n!=null&&(po(n)&&(n=Yp(n,a+(n.key==null||e&&e.key===n.key?"":(""+n.key).replace(Oc,"$&/")+"/")+r)),t.push(n)),1;r=0;var u=s===""?".":s+":";if(Ac(e))for(var o=0;o<e.length;o++)s=e[o],l=u+pr(s,o),r+=Ja(s,t,a,l,n);else if(o=Gp(e),typeof o=="function")for(e=o.call(e),o=0;!(s=e.next()).done;)s=s.value,l=u+pr(s,o++),r+=Ja(s,t,a,l,n);else if(l==="object"){if(typeof e.then=="function")return Ja(Vp(e),t,a,s,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function wl(e,t,a){if(e==null)return e;var s=[],n=0;return Ja(e,s,"","",function(l){return t.call(a,l,n++)}),s}function Xp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Qp(){}B.Children={map:wl,forEach:function(e,t,a){wl(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return wl(e,function(){t++}),t},toArray:function(e){return wl(e,function(t){return t})||[]},only:function(e){if(!po(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Ls;B.Fragment=Mp;B.Profiler=Lp;B.PureComponent=fo;B.StrictMode=zp;B.Suspense=Ip;B.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne;B.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ne.H.useMemoCache(e)}};B.cache=function(e){return function(){return e.apply(null,arguments)}};B.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=zf({},e.props),n=e.key,l=void 0;if(t!=null)for(r in t.ref!==void 0&&(l=void 0),t.key!==void 0&&(n=""+t.key),t)!qf.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(s[r]=t[r]);var r=arguments.length-2;if(r===1)s.children=a;else if(1<r){for(var u=Array(r),o=0;o<r;o++)u[o]=arguments[o+2];s.children=u}return mo(e.type,n,void 0,void 0,l,s)};B.createContext=function(e){return e={$$typeof:qp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Bp,_context:e},e};B.createElement=function(e,t,a){var s,n={},l=null;if(t!=null)for(s in t.key!==void 0&&(l=""+t.key),t)qf.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(n[s]=t[s]);var r=arguments.length-2;if(r===1)n.children=a;else if(1<r){for(var u=Array(r),o=0;o<r;o++)u[o]=arguments[o+2];n.children=u}if(e&&e.defaultProps)for(s in r=e.defaultProps,r)n[s]===void 0&&(n[s]=r[s]);return mo(e,l,void 0,void 0,null,n)};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Hp,render:e}};B.isValidElement=po;B.lazy=function(e){return{$$typeof:Uf,_payload:{_status:-1,_result:e},_init:Xp}};B.memo=function(e,t){return{$$typeof:$p,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=ne.T,a={};ne.T=a;try{var s=e(),n=ne.S;n!==null&&n(a,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(Qp,Dc)}catch(l){Dc(l)}finally{ne.T=t}};B.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()};B.use=function(e){return ne.H.use(e)};B.useActionState=function(e,t,a){return ne.H.useActionState(e,t,a)};B.useCallback=function(e,t){return ne.H.useCallback(e,t)};B.useContext=function(e){return ne.H.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e,t){return ne.H.useDeferredValue(e,t)};B.useEffect=function(e,t,a){var s=ne.H;if(typeof a=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};B.useId=function(){return ne.H.useId()};B.useImperativeHandle=function(e,t,a){return ne.H.useImperativeHandle(e,t,a)};B.useInsertionEffect=function(e,t){return ne.H.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return ne.H.useLayoutEffect(e,t)};B.useMemo=function(e,t){return ne.H.useMemo(e,t)};B.useOptimistic=function(e,t){return ne.H.useOptimistic(e,t)};B.useReducer=function(e,t,a){return ne.H.useReducer(e,t,a)};B.useRef=function(e){return ne.H.useRef(e)};B.useState=function(e){return ne.H.useState(e)};B.useSyncExternalStore=function(e,t,a){return ne.H.useSyncExternalStore(e,t,a)};B.useTransition=function(){return ne.H.useTransition()};B.version="19.1.0";Rf.exports=B;var _=Rf.exports;const Jn=Df(_),Kp=Dp({__proto__:null,default:Jn},[_]);var Hf={exports:{}},qi={},If={exports:{}},$f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,M){var z=T.length;T.push(M);e:for(;0<z;){var oe=z-1>>>1,ye=T[oe];if(0<n(ye,M))T[oe]=M,T[z]=ye,z=oe;else break e}}function a(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var M=T[0],z=T.pop();if(z!==M){T[0]=z;e:for(var oe=0,ye=T.length,yl=ye>>>1;oe<yl;){var xl=2*(oe+1)-1,mr=T[xl],xa=xl+1,bl=T[xa];if(0>n(mr,z))xa<ye&&0>n(bl,mr)?(T[oe]=bl,T[xa]=z,oe=xa):(T[oe]=mr,T[xl]=z,oe=xl);else if(xa<ye&&0>n(bl,z))T[oe]=bl,T[xa]=z,oe=xa;else break e}}return M}function n(T,M){var z=T.sortIndex-M.sortIndex;return z!==0?z:T.id-M.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var r=Date,u=r.now();e.unstable_now=function(){return r.now()-u}}var o=[],c=[],d=1,h=null,f=3,p=!1,S=!1,m=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function j(T){for(var M=a(c);M!==null;){if(M.callback===null)s(c);else if(M.startTime<=T)s(c),M.sortIndex=M.expirationTime,t(o,M);else break;M=a(c)}}function N(T){if(m=!1,j(T),!S)if(a(o)!==null)S=!0,D||(D=!0,A());else{var M=a(c);M!==null&&_e(N,M.startTime-T)}}var D=!1,v=-1,b=5,O=-1;function k(){return w?!0:!(e.unstable_now()-O<b)}function C(){if(w=!1,D){var T=e.unstable_now();O=T;var M=!0;try{e:{S=!1,m&&(m=!1,y(v),v=-1),p=!0;var z=f;try{t:{for(j(T),h=a(o);h!==null&&!(h.expirationTime>T&&k());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,f=h.priorityLevel;var ye=oe(h.expirationTime<=T);if(T=e.unstable_now(),typeof ye=="function"){h.callback=ye,j(T),M=!0;break t}h===a(o)&&s(o),j(T)}else s(o);h=a(o)}if(h!==null)M=!0;else{var yl=a(c);yl!==null&&_e(N,yl.startTime-T),M=!1}}break e}finally{h=null,f=z,p=!1}M=void 0}}finally{M?A():D=!1}}}var A;if(typeof x=="function")A=function(){x(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Y=R.port2;R.port1.onmessage=C,A=function(){Y.postMessage(null)}}else A=function(){g(C,0)};function _e(T,M){v=g(function(){T(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var z=f;f=M;try{return T()}finally{f=z}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(T,M){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=f;f=T;try{return M()}finally{f=z}},e.unstable_scheduleCallback=function(T,M,z){var oe=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?oe+z:oe):z=oe,T){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=z+ye,T={id:d++,callback:M,priorityLevel:T,startTime:z,expirationTime:ye,sortIndex:-1},z>oe?(T.sortIndex=z,t(c,T),a(o)===null&&T===a(c)&&(m?(y(v),v=-1):m=!0,_e(N,z-oe))):(T.sortIndex=ye,t(o,T),S||p||(S=!0,D||(D=!0,A()))),T},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(T){var M=f;return function(){var z=f;f=M;try{return T.apply(this,arguments)}finally{f=z}}}})($f);If.exports=$f;var Zp=If.exports,Gf={exports:{}},Re={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp=_;function Yf(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Bt(){}var ke={d:{f:Bt,r:function(){throw Error(Yf(522))},D:Bt,C:Bt,L:Bt,m:Bt,X:Bt,S:Bt,M:Bt},p:0,findDOMNode:null},Fp=Symbol.for("react.portal");function Wp(e,t,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fp,key:s==null?null:""+s,children:e,containerInfo:t,implementation:a}}var un=Jp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Hi(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Re.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ke;Re.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Yf(299));return Wp(e,t,null,a)};Re.flushSync=function(e){var t=un.T,a=ke.p;try{if(un.T=null,ke.p=2,e)return e()}finally{un.T=t,ke.p=a,ke.d.f()}};Re.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ke.d.C(e,t))};Re.prefetchDNS=function(e){typeof e=="string"&&ke.d.D(e)};Re.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,s=Hi(a,t.crossOrigin),n=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?ke.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:n,fetchPriority:l}):a==="script"&&ke.d.X(e,{crossOrigin:s,integrity:n,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Re.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Hi(t.as,t.crossOrigin);ke.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ke.d.M(e)};Re.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,s=Hi(a,t.crossOrigin);ke.d.L(e,a,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Re.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Hi(t.as,t.crossOrigin);ke.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ke.d.m(e)};Re.requestFormReset=function(e){ke.d.r(e)};Re.unstable_batchedUpdates=function(e,t){return e(t)};Re.useFormState=function(e,t,a){return un.H.useFormState(e,t,a)};Re.useFormStatus=function(){return un.H.useHostTransitionStatus()};Re.version="19.1.0";function Pf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pf)}catch(e){console.error(e)}}Pf(),Gf.exports=Re;var eg=Gf.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve=Zp,Vf=_,tg=eg;function E(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fn(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Qf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cc(e){if(Fn(e)!==e)throw Error(E(188))}function ag(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var l=n.alternate;if(l===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===a)return Cc(n),e;if(l===s)return Cc(n),t;l=l.sibling}throw Error(E(188))}if(a.return!==s.return)a=n,s=l;else{for(var r=!1,u=n.child;u;){if(u===a){r=!0,a=n,s=l;break}if(u===s){r=!0,s=n,a=l;break}u=u.sibling}if(!r){for(u=l.child;u;){if(u===a){r=!0,a=l,s=n;break}if(u===s){r=!0,s=l,a=n;break}u=u.sibling}if(!r)throw Error(E(189))}}if(a.alternate!==s)throw Error(E(190))}if(a.tag!==3)throw Error(E(188));return a.stateNode.current===a?e:t}function Kf(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Kf(e),t!==null)return t;e=e.sibling}return null}var ae=Object.assign,sg=Symbol.for("react.element"),jl=Symbol.for("react.transitional.element"),an=Symbol.for("react.portal"),as=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),su=Symbol.for("react.profiler"),ng=Symbol.for("react.provider"),Jf=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),go=Symbol.for("react.forward_ref"),nu=Symbol.for("react.suspense"),lu=Symbol.for("react.suspense_list"),vo=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),iu=Symbol.for("react.activity"),lg=Symbol.for("react.memo_cache_sentinel"),kc=Symbol.iterator;function Xs(e){return e===null||typeof e!="object"?null:(e=kc&&e[kc]||e["@@iterator"],typeof e=="function"?e:null)}var ig=Symbol.for("react.client.reference");function ru(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ig?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case as:return"Fragment";case su:return"Profiler";case Zf:return"StrictMode";case nu:return"Suspense";case lu:return"SuspenseList";case iu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case an:return"Portal";case Et:return(e.displayName||"Context")+".Provider";case Jf:return(e._context.displayName||"Context")+".Consumer";case go:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vo:return t=e.displayName||null,t!==null?t:ru(e.type)||"Memo";case Gt:t=e._payload,e=e._init;try{return ru(e(t))}catch{}}return null}var sn=Array.isArray,U=Vf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=tg.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Aa={pending:!1,data:null,method:null,action:null},uu=[],ss=-1;function xt(e){return{current:e}}function Se(e){0>ss||(e.current=uu[ss],uu[ss]=null,ss--)}function le(e,t){ss++,uu[ss]=e.current,e.current=t}var pt=xt(null),On=xt(null),aa=xt(null),ti=xt(null);function ai(e,t){switch(le(aa,t),le(On,e),le(pt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ld(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ld(t),e=m0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Se(pt),le(pt,e)}function Ss(){Se(pt),Se(On),Se(aa)}function ou(e){e.memoizedState!==null&&le(ti,e);var t=pt.current,a=m0(t,e.type);t!==a&&(le(On,e),le(pt,a))}function si(e){On.current===e&&(Se(pt),Se(On)),ti.current===e&&(Se(ti),Bn._currentValue=Aa)}var cu=Object.prototype.hasOwnProperty,yo=ve.unstable_scheduleCallback,gr=ve.unstable_cancelCallback,rg=ve.unstable_shouldYield,ug=ve.unstable_requestPaint,gt=ve.unstable_now,og=ve.unstable_getCurrentPriorityLevel,Ff=ve.unstable_ImmediatePriority,Wf=ve.unstable_UserBlockingPriority,ni=ve.unstable_NormalPriority,cg=ve.unstable_LowPriority,eh=ve.unstable_IdlePriority,dg=ve.log,fg=ve.unstable_setDisableYieldValue,Wn=null,Pe=null;function Jt(e){if(typeof dg=="function"&&fg(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Wn,e)}catch{}}var Ve=Math.clz32?Math.clz32:pg,hg=Math.log,mg=Math.LN2;function pg(e){return e>>>=0,e===0?32:31-(hg(e)/mg|0)|0}var Sl=256,_l=4194304;function ja(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ii(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,l=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var u=s&134217727;return u!==0?(s=u&~l,s!==0?n=ja(s):(r&=u,r!==0?n=ja(r):a||(a=u&~e,a!==0&&(n=ja(a))))):(u=s&~l,u!==0?n=ja(u):r!==0?n=ja(r):a||(a=s&~e,a!==0&&(n=ja(a)))),n===0?0:t!==0&&t!==n&&!(t&l)&&(l=n&-n,a=t&-t,l>=a||l===32&&(a&4194048)!==0)?t:n}function el(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function th(){var e=Sl;return Sl<<=1,!(Sl&4194048)&&(Sl=256),e}function ah(){var e=_l;return _l<<=1,!(_l&62914560)&&(_l=4194304),e}function vr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function tl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vg(e,t,a,s,n,l){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var u=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(a=r&~a;0<a;){var d=31-Ve(a),h=1<<d;u[d]=0,o[d]=-1;var f=c[d];if(f!==null)for(c[d]=null,d=0;d<f.length;d++){var p=f[d];p!==null&&(p.lane&=-536870913)}a&=~h}s!==0&&sh(e,s,0),l!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=l&~(r&~t))}function sh(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Ve(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194090}function nh(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-Ve(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function xo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bo(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function lh(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:_0(e.type))}function yg(e,t){var a=X.p;try{return X.p=e,t()}finally{X.p=a}}var ga=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ga,qe="__reactProps$"+ga,Bs="__reactContainer$"+ga,du="__reactEvents$"+ga,xg="__reactListeners$"+ga,bg="__reactHandles$"+ga,Rc="__reactResources$"+ga,al="__reactMarker$"+ga;function wo(e){delete e[Oe],delete e[qe],delete e[du],delete e[xg],delete e[bg]}function ns(e){var t=e[Oe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Bs]||a[Oe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Hd(e);e!==null;){if(a=e[Oe])return a;e=Hd(e)}return t}e=a,a=e.parentNode}return null}function qs(e){if(e=e[Oe]||e[Bs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function nn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(E(33))}function ms(e){var t=e[Rc];return t||(t=e[Rc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function we(e){e[al]=!0}var ih=new Set,rh={};function Ba(e,t){_s(e,t),_s(e+"Capture",t)}function _s(e,t){for(rh[e]=t,e=0;e<t.length;e++)ih.add(t[e])}var wg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uc={},Mc={};function jg(e){return cu.call(Mc,e)?!0:cu.call(Uc,e)?!1:wg.test(e)?Mc[e]=!0:(Uc[e]=!0,!1)}function $l(e,t,a){if(jg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Nl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function wt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}var yr,zc;function Fa(e){if(yr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);yr=t&&t[1]||"",zc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yr+e+zc}var xr=!1;function br(e,t){if(!e||xr)return"";xr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(p){var f=p}Reflect.construct(e,[],h)}else{try{h.call()}catch(p){f=p}e.call(h.prototype)}}else{try{throw Error()}catch(p){f=p}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(p){if(p&&f&&typeof p.stack=="string")return[p.stack,f.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=s.DetermineComponentFrameRoot(),r=l[0],u=l[1];if(r&&u){var o=r.split(`
`),c=u.split(`
`);for(n=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;if(s===o.length||n===c.length)for(s=o.length-1,n=c.length-1;1<=s&&0<=n&&o[s]!==c[n];)n--;for(;1<=s&&0<=n;s--,n--)if(o[s]!==c[n]){if(s!==1||n!==1)do if(s--,n--,0>n||o[s]!==c[n]){var d=`
`+o[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=n);break}}}finally{xr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Fa(a):""}function Sg(e){switch(e.tag){case 26:case 27:case 5:return Fa(e.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 15:return br(e.type,!1);case 11:return br(e.type.render,!1);case 1:return br(e.type,!0);case 31:return Fa("Activity");default:return""}}function Lc(e){try{var t="";do t+=Sg(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _g(e){var t=uh(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,l=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){s=""+r,l.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(r){s=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function li(e){e._valueTracker||(e._valueTracker=_g(e))}function oh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=uh(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ng=/[\n"\\]/g;function et(e){return e.replace(Ng,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fu(e,t,a,s,n,l,r,u){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Je(t)):e.value!==""+Je(t)&&(e.value=""+Je(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?hu(e,r,Je(t)):a!=null?hu(e,r,Je(a)):s!=null&&e.removeAttribute("value"),n==null&&l!=null&&(e.defaultChecked=!!l),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+Je(u):e.removeAttribute("name")}function ch(e,t,a,s,n,l,r,u){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||a!=null){if(!(l!=="submit"&&l!=="reset"||t!=null))return;a=a!=null?""+Je(a):"",t=t!=null?""+Je(t):a,u||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=u?e.checked:!!s,e.defaultChecked=!!s,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r)}function hu(e,t,a){t==="number"&&ii(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ps(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function dh(e,t,a){if(t!=null&&(t=""+Je(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Je(a):""}function fh(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(E(92));if(sn(s)){if(1<s.length)throw Error(E(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Je(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function Ns(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Eg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function hh(e,t,a){if(t!=null&&typeof t!="object")throw Error(E(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Bc(e,n,s)}else for(var l in t)t.hasOwnProperty(l)&&Bc(e,l,t[l])}function jo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ag=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Og=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gl(e){return Og.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var mu=null;function So(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,gs=null;function qc(e){var t=qs(e);if(t&&(e=t.stateNode)){var a=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(fu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+et(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[qe]||null;if(!n)throw Error(E(90));fu(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&oh(s)}break e;case"textarea":dh(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ps(e,!!a.multiple,t,!1)}}}var wr=!1;function mh(e,t,a){if(wr)return e(t,a);wr=!0;try{var s=e(t);return s}finally{if(wr=!1,(ls!==null||gs!==null)&&(Ji(),ls&&(t=ls,e=gs,gs=ls=null,qc(t),e)))for(t=0;t<e.length;t++)qc(e[t])}}function Tn(e,t){var a=e.stateNode;if(a===null)return null;var s=a[qe]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(E(231,t,typeof a));return a}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=!1;if(Rt)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){pu=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{pu=!1}var Ft=null,_o=null,Yl=null;function ph(){if(Yl)return Yl;var e,t=_o,a=t.length,s,n="value"in Ft?Ft.value:Ft.textContent,l=n.length;for(e=0;e<a&&t[e]===n[e];e++);var r=a-e;for(s=1;s<=r&&t[a-s]===n[l-s];s++);return Yl=n.slice(e,1<s?1-s:void 0)}function Pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function Hc(){return!1}function He(e){function t(a,s,n,l,r){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=l,this.target=r,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(a=e[u],this[u]=a?a(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?El:Hc,this.isPropagationStopped=Hc,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),t}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=He(qa),sl=ae({},qa,{view:0,detail:0}),Tg=He(sl),jr,Sr,Ks,Gi=ae({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:No,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ks&&(Ks&&e.type==="mousemove"?(jr=e.screenX-Ks.screenX,Sr=e.screenY-Ks.screenY):Sr=jr=0,Ks=e),jr)},movementY:function(e){return"movementY"in e?e.movementY:Sr}}),Ic=He(Gi),Dg=ae({},Gi,{dataTransfer:0}),Cg=He(Dg),kg=ae({},sl,{relatedTarget:0}),_r=He(kg),Rg=ae({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ug=He(Rg),Mg=ae({},qa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zg=He(Mg),Lg=ae({},qa,{data:0}),$c=He(Lg),Bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ig(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hg[e])?!!t[e]:!1}function No(){return Ig}var $g=ae({},sl,{key:function(e){if(e.key){var t=Bg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:No,charCode:function(e){return e.type==="keypress"?Pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gg=He($g),Yg=ae({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=He(Yg),Pg=ae({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:No}),Vg=He(Pg),Xg=ae({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qg=He(Xg),Kg=ae({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zg=He(Kg),Jg=ae({},qa,{newState:0,oldState:0}),Fg=He(Jg),Wg=[9,13,27,32],Eo=Rt&&"CompositionEvent"in window,on=null;Rt&&"documentMode"in document&&(on=document.documentMode);var ev=Rt&&"TextEvent"in window&&!on,gh=Rt&&(!Eo||on&&8<on&&11>=on),Yc=" ",Pc=!1;function vh(e,t){switch(e){case"keyup":return Wg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var is=!1;function tv(e,t){switch(e){case"compositionend":return yh(t);case"keypress":return t.which!==32?null:(Pc=!0,Yc);case"textInput":return e=t.data,e===Yc&&Pc?null:e;default:return null}}function av(e,t){if(is)return e==="compositionend"||!Eo&&vh(e,t)?(e=ph(),Yl=_o=Ft=null,is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gh&&t.locale!=="ko"?null:t.data;default:return null}}var sv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sv[e.type]:t==="textarea"}function xh(e,t,a,s){ls?gs?gs.push(s):gs=[s]:ls=s,t=_i(t,"onChange"),0<t.length&&(a=new $i("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var cn=null,Dn=null;function nv(e){d0(e,0)}function Yi(e){var t=nn(e);if(oh(t))return e}function Xc(e,t){if(e==="change")return t}var bh=!1;if(Rt){var Nr;if(Rt){var Er="oninput"in document;if(!Er){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),Er=typeof Qc.oninput=="function"}Nr=Er}else Nr=!1;bh=Nr&&(!document.documentMode||9<document.documentMode)}function Kc(){cn&&(cn.detachEvent("onpropertychange",wh),Dn=cn=null)}function wh(e){if(e.propertyName==="value"&&Yi(Dn)){var t=[];xh(t,Dn,e,So(e)),mh(nv,t)}}function lv(e,t,a){e==="focusin"?(Kc(),cn=t,Dn=a,cn.attachEvent("onpropertychange",wh)):e==="focusout"&&Kc()}function iv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yi(Dn)}function rv(e,t){if(e==="click")return Yi(t)}function uv(e,t){if(e==="input"||e==="change")return Yi(t)}function ov(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ke=typeof Object.is=="function"?Object.is:ov;function Cn(e,t){if(Ke(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!cu.call(t,n)||!Ke(e[n],t[n]))return!1}return!0}function Zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jc(e,t){var a=Zc(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zc(a)}}function jh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ii(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ii(e.document)}return t}function Ao(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var cv=Rt&&"documentMode"in document&&11>=document.documentMode,rs=null,gu=null,dn=null,vu=!1;function Fc(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vu||rs==null||rs!==ii(s)||(s=rs,"selectionStart"in s&&Ao(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),dn&&Cn(dn,s)||(dn=s,s=_i(gu,"onSelect"),0<s.length&&(t=new $i("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=rs)))}function ba(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var us={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Ar={},_h={};Rt&&(_h=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Ha(e){if(Ar[e])return Ar[e];if(!us[e])return e;var t=us[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in _h)return Ar[e]=t[a];return e}var Nh=Ha("animationend"),Eh=Ha("animationiteration"),Ah=Ha("animationstart"),dv=Ha("transitionrun"),fv=Ha("transitionstart"),hv=Ha("transitioncancel"),Oh=Ha("transitionend"),Th=new Map,yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yu.push("scrollEnd");function ct(e,t){Th.set(e,t),Ba(t,[e])}var Wc=new WeakMap;function tt(e,t){if(typeof e=="object"&&e!==null){var a=Wc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Lc(t)},Wc.set(e,t),t)}return{value:e,source:t,stack:Lc(t)}}var Ze=[],os=0,Oo=0;function Pi(){for(var e=os,t=Oo=os=0;t<e;){var a=Ze[t];Ze[t++]=null;var s=Ze[t];Ze[t++]=null;var n=Ze[t];Ze[t++]=null;var l=Ze[t];if(Ze[t++]=null,s!==null&&n!==null){var r=s.pending;r===null?n.next=n:(n.next=r.next,r.next=n),s.pending=n}l!==0&&Dh(a,n,l)}}function Vi(e,t,a,s){Ze[os++]=e,Ze[os++]=t,Ze[os++]=a,Ze[os++]=s,Oo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function To(e,t,a,s){return Vi(e,t,a,s),ri(e)}function Hs(e,t){return Vi(e,null,null,t),ri(e)}function Dh(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,l=e.return;l!==null;)l.childLanes|=a,s=l.alternate,s!==null&&(s.childLanes|=a),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(n=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,n&&t!==null&&(n=31-Ve(a),e=l.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),l):null}function ri(e){if(50<wn)throw wn=0,qu=null,Error(E(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var cs={};function mv(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,a,s){return new mv(e,t,a,s)}function Do(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ct(e,t){var a=e.alternate;return a===null?(a=Ye(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ch(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vl(e,t,a,s,n,l){var r=0;if(s=e,typeof e=="function")Do(e)&&(r=1);else if(typeof e=="string")r=gy(e,a,pt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case iu:return e=Ye(31,a,t,n),e.elementType=iu,e.lanes=l,e;case as:return Oa(a.children,n,l,t);case Zf:r=8,n|=24;break;case su:return e=Ye(12,a,t,n|2),e.elementType=su,e.lanes=l,e;case nu:return e=Ye(13,a,t,n),e.elementType=nu,e.lanes=l,e;case lu:return e=Ye(19,a,t,n),e.elementType=lu,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ng:case Et:r=10;break e;case Jf:r=9;break e;case go:r=11;break e;case vo:r=14;break e;case Gt:r=16,s=null;break e}r=29,a=Error(E(130,e===null?"null":typeof e,"")),s=null}return t=Ye(r,a,t,n),t.elementType=e,t.type=s,t.lanes=l,t}function Oa(e,t,a,s){return e=Ye(7,e,s,t),e.lanes=a,e}function Or(e,t,a){return e=Ye(6,e,null,t),e.lanes=a,e}function Tr(e,t,a){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ds=[],fs=0,ui=null,oi=0,Fe=[],We=0,Ta=null,At=1,Ot="";function Sa(e,t){ds[fs++]=oi,ds[fs++]=ui,ui=e,oi=t}function kh(e,t,a){Fe[We++]=At,Fe[We++]=Ot,Fe[We++]=Ta,Ta=e;var s=At;e=Ot;var n=32-Ve(s)-1;s&=~(1<<n),a+=1;var l=32-Ve(t)+n;if(30<l){var r=n-n%5;l=(s&(1<<r)-1).toString(32),s>>=r,n-=r,At=1<<32-Ve(t)+n|a<<n|s,Ot=l+e}else At=1<<l|a<<n|s,Ot=e}function Co(e){e.return!==null&&(Sa(e,1),kh(e,1,0))}function ko(e){for(;e===ui;)ui=ds[--fs],ds[fs]=null,oi=ds[--fs],ds[fs]=null;for(;e===Ta;)Ta=Fe[--We],Fe[We]=null,Ot=Fe[--We],Fe[We]=null,At=Fe[--We],Fe[We]=null}var Ce=null,re=null,V=!1,Da=null,ht=!1,xu=Error(E(519));function Ua(e){var t=Error(E(418,""));throw kn(tt(t,e)),xu}function ed(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[Oe]=e,t[qe]=s,a){case"dialog":H("cancel",t),H("close",t);break;case"iframe":case"object":case"embed":H("load",t);break;case"video":case"audio":for(a=0;a<Mn.length;a++)H(Mn[a],t);break;case"source":H("error",t);break;case"img":case"image":case"link":H("error",t),H("load",t);break;case"details":H("toggle",t);break;case"input":H("invalid",t),ch(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),li(t);break;case"select":H("invalid",t);break;case"textarea":H("invalid",t),fh(t,s.value,s.defaultValue,s.children),li(t)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||h0(t.textContent,a)?(s.popover!=null&&(H("beforetoggle",t),H("toggle",t)),s.onScroll!=null&&H("scroll",t),s.onScrollEnd!=null&&H("scrollend",t),s.onClick!=null&&(t.onclick=er),t=!0):t=!1,t||Ua(e)}function td(e){for(Ce=e.return;Ce;)switch(Ce.tag){case 5:case 13:ht=!1;return;case 27:case 3:ht=!0;return;default:Ce=Ce.return}}function Zs(e){if(e!==Ce)return!1;if(!V)return td(e),V=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Pu(e.type,e.memoizedProps)),a=!a),a&&re&&Ua(e),td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){re=ot(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}re=null}}else t===27?(t=re,va(e.type)?(e=Qu,Qu=null,re=e):re=t):re=Ce?ot(e.stateNode.nextSibling):null;return!0}function nl(){re=Ce=null,V=!1}function ad(){var e=Da;return e!==null&&(Le===null?Le=e:Le.push.apply(Le,e),Da=null),e}function kn(e){Da===null?Da=[e]:Da.push(e)}var bu=xt(null),Ia=null,Tt=null;function Vt(e,t,a){le(bu,t._currentValue),t._currentValue=a}function kt(e){e._currentValue=bu.current,Se(bu)}function wu(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function ju(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var l=n.dependencies;if(l!==null){var r=n.child;l=l.firstContext;e:for(;l!==null;){var u=l;l=n;for(var o=0;o<t.length;o++)if(u.context===t[o]){l.lanes|=a,u=l.alternate,u!==null&&(u.lanes|=a),wu(l.return,a,e),s||(r=null);break e}l=u.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(E(341));r.lanes|=a,l=r.alternate,l!==null&&(l.lanes|=a),wu(r,a,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function ll(e,t,a,s){e=null;for(var n=t,l=!1;n!==null;){if(!l){if(n.flags&524288)l=!0;else if(n.flags&262144)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(E(387));if(r=r.memoizedProps,r!==null){var u=n.type;Ke(n.pendingProps.value,r.value)||(e!==null?e.push(u):e=[u])}}else if(n===ti.current){if(r=n.alternate,r===null)throw Error(E(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Bn):e=[Bn])}n=n.return}e!==null&&ju(t,e,a,s),t.flags|=262144}function ci(e){for(e=e.firstContext;e!==null;){if(!Ke(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ma(e){Ia=e,Tt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Te(e){return Rh(Ia,e)}function Al(e,t){return Ia===null&&Ma(e),Rh(e,t)}function Rh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Tt===null){if(e===null)throw Error(E(308));Tt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Tt=Tt.next=t;return a}var pv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},gv=ve.unstable_scheduleCallback,vv=ve.unstable_NormalPriority,pe={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ro(){return{controller:new pv,data:new Map,refCount:0}}function il(e){e.refCount--,e.refCount===0&&gv(vv,function(){e.controller.abort()})}var fn=null,Su=0,Es=0,vs=null;function yv(e,t){if(fn===null){var a=fn=[];Su=0,Es=ac(),vs={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Su++,t.then(sd,sd),t}function sd(){if(--Su===0&&fn!==null){vs!==null&&(vs.status="fulfilled");var e=fn;fn=null,Es=0,vs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function xv(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var nd=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&yv(e,t),nd!==null&&nd(e,t)};var Ca=xt(null);function Uo(){var e=Ca.current;return e!==null?e:te.pooledCache}function Xl(e,t){t===null?le(Ca,Ca.current):le(Ca,t.pool)}function Uh(){var e=Uo();return e===null?null:{parent:pe._currentValue,pool:e}}var rl=Error(E(460)),Mh=Error(E(474)),Xi=Error(E(542)),_u={then:function(){}};function ld(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ol(){}function zh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ol,Ol),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rd(e),e;default:if(typeof t.status=="string")t.then(Ol,Ol);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(E(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rd(e),e}throw hn=t,rl}}var hn=null;function id(){if(hn===null)throw Error(E(459));var e=hn;return hn=null,e}function rd(e){if(e===rl||e===Xi)throw Error(E(483))}var Yt=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function na(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Z&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=ri(e),Dh(e,null,a),t}return Vi(e,s,t,a),ri(e)}function mn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,nh(e,a)}}function Dr(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};l===null?n=l=r:l=l.next=r,a=a.next}while(a!==null);l===null?n=l=t:l=l.next=t}else n=l=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Eu=!1;function pn(){if(Eu){var e=vs;if(e!==null)throw e}}function gn(e,t,a,s){Eu=!1;var n=e.updateQueue;Yt=!1;var l=n.firstBaseUpdate,r=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var o=u,c=o.next;o.next=null,r===null?l=c:r.next=c,r=o;var d=e.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==r&&(u===null?d.firstBaseUpdate=c:u.next=c,d.lastBaseUpdate=o))}if(l!==null){var h=n.baseState;r=0,d=c=o=null,u=l;do{var f=u.lane&-536870913,p=f!==u.lane;if(p?(G&f)===f:(s&f)===f){f!==0&&f===Es&&(Eu=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var S=e,m=u;f=t;var w=a;switch(m.tag){case 1:if(S=m.payload,typeof S=="function"){h=S.call(w,h,f);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=m.payload,f=typeof S=="function"?S.call(w,h,f):S,f==null)break e;h=ae({},h,f);break e;case 2:Yt=!0}}f=u.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=n.callbacks,p===null?n.callbacks=[f]:p.push(f))}else p={lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(c=d=p,o=h):d=d.next=p,r|=f;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;p=u,u=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(!0);d===null&&(o=h),n.baseState=o,n.firstBaseUpdate=c,n.lastBaseUpdate=d,l===null&&(n.shared.lanes=0),ha|=r,e.lanes=r,e.memoizedState=h}}function Lh(e,t){if(typeof e!="function")throw Error(E(191,e));e.call(t)}function Bh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Lh(a[e],t)}var As=xt(null),di=xt(0);function ud(e,t){e=zt,le(di,e),le(As,t),zt=e|t.baseLanes}function Au(){le(di,zt),le(As,As.current)}function zo(){zt=di.current,Se(As),Se(di)}var da=0,q=null,F=null,fe=null,fi=!1,ys=!1,za=!1,hi=0,Rn=0,xs=null,bv=0;function ce(){throw Error(E(321))}function Lo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ke(e[a],t[a]))return!1;return!0}function Bo(e,t,a,s,n,l){return da=l,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?pm:gm,za=!1,l=a(s,n),za=!1,ys&&(l=Hh(t,a,s,n)),qh(e),l}function qh(e){U.H=mi;var t=F!==null&&F.next!==null;if(da=0,fe=F=q=null,fi=!1,Rn=0,xs=null,t)throw Error(E(300));e===null||je||(e=e.dependencies,e!==null&&ci(e)&&(je=!0))}function Hh(e,t,a,s){q=e;var n=0;do{if(ys&&(xs=null),Rn=0,ys=!1,25<=n)throw Error(E(301));if(n+=1,fe=F=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}U.H=Av,l=t(a,s)}while(ys);return l}function wv(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?ul(t):t,e=e.useState()[0],(F!==null?F.memoizedState:null)!==e&&(q.flags|=1024),t}function qo(){var e=hi!==0;return hi=0,e}function Ho(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Io(e){if(fi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fi=!1}da=0,fe=F=q=null,ys=!1,Rn=hi=0,xs=null}function Me(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?q.memoizedState=fe=e:fe=fe.next=e,fe}function he(){if(F===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=F.next;var t=fe===null?q.memoizedState:fe.next;if(t!==null)fe=t,F=e;else{if(e===null)throw q.alternate===null?Error(E(467)):Error(E(310));F=e,e={memoizedState:F.memoizedState,baseState:F.baseState,baseQueue:F.baseQueue,queue:F.queue,next:null},fe===null?q.memoizedState=fe=e:fe=fe.next=e}return fe}function $o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var t=Rn;return Rn+=1,xs===null&&(xs=[]),e=zh(xs,e,t),t=q,(fe===null?t.memoizedState:fe.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?pm:gm),e}function Qi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===Et)return Te(e)}throw Error(E(438,String(e)))}function Go(e){var t=null,a=q.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=q.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=$o(),q.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=lg;return t.index++,a}function Ut(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=he();return Yo(t,F,e)}function Yo(e,t,a){var s=e.queue;if(s===null)throw Error(E(311));s.lastRenderedReducer=a;var n=e.baseQueue,l=s.pending;if(l!==null){if(n!==null){var r=n.next;n.next=l.next,l.next=r}t.baseQueue=n=l,s.pending=null}if(l=e.baseState,n===null)e.memoizedState=l;else{t=n.next;var u=r=null,o=null,c=t,d=!1;do{var h=c.lane&-536870913;if(h!==c.lane?(G&h)===h:(da&h)===h){var f=c.revertLane;if(f===0)o!==null&&(o=o.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Es&&(d=!0);else if((da&f)===f){c=c.next,f===Es&&(d=!0);continue}else h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(u=o=h,r=l):o=o.next=h,q.lanes|=f,ha|=f;h=c.action,za&&a(l,h),l=c.hasEagerState?c.eagerState:a(l,h)}else f={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(u=o=f,r=l):o=o.next=f,q.lanes|=h,ha|=h;c=c.next}while(c!==null&&c!==t);if(o===null?r=l:o.next=u,!Ke(l,e.memoizedState)&&(je=!0,d&&(a=vs,a!==null)))throw a;e.memoizedState=l,e.baseState=r,e.baseQueue=o,s.lastRenderedState=l}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Cr(e){var t=he(),a=t.queue;if(a===null)throw Error(E(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,l=t.memoizedState;if(n!==null){a.pending=null;var r=n=n.next;do l=e(l,r.action),r=r.next;while(r!==n);Ke(l,t.memoizedState)||(je=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),a.lastRenderedState=l}return[l,s]}function Ih(e,t,a){var s=q,n=he(),l=V;if(l){if(a===void 0)throw Error(E(407));a=a()}else a=t();var r=!Ke((F||n).memoizedState,a);r&&(n.memoizedState=a,je=!0),n=n.queue;var u=Yh.bind(null,s,n,e);if(ol(2048,8,u,[e]),n.getSnapshot!==t||r||fe!==null&&fe.memoizedState.tag&1){if(s.flags|=2048,Os(9,Ki(),Gh.bind(null,s,n,a,t),null),te===null)throw Error(E(349));l||da&124||$h(s,t,a)}return a}function $h(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=q.updateQueue,t===null?(t=$o(),q.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Gh(e,t,a,s){t.value=a,t.getSnapshot=s,Ph(t)&&Vh(e)}function Yh(e,t,a){return a(function(){Ph(t)&&Vh(e)})}function Ph(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ke(e,a)}catch{return!0}}function Vh(e){var t=Hs(e,2);t!==null&&Qe(t,e,2)}function Ou(e){var t=Me();if(typeof e=="function"){var a=e;if(e=a(),za){Jt(!0);try{a()}finally{Jt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ut,lastRenderedState:e},t}function Xh(e,t,a,s){return e.baseState=a,Yo(e,F,typeof s=="function"?s:Ut)}function jv(e,t,a,s,n){if(Zi(e))throw Error(E(485));if(e=t.action,e!==null){var l={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){l.listeners.push(r)}};U.T!==null?a(!0):l.isTransition=!1,s(l),a=t.pending,a===null?(l.next=t.pending=l,Qh(t,l)):(l.next=a.next,t.pending=a.next=l)}}function Qh(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var l=U.T,r={};U.T=r;try{var u=a(n,s),o=U.S;o!==null&&o(r,u),od(e,t,u)}catch(c){Tu(e,t,c)}finally{U.T=l}}else try{l=a(n,s),od(e,t,l)}catch(c){Tu(e,t,c)}}function od(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){cd(e,t,s)},function(s){return Tu(e,t,s)}):cd(e,t,a)}function cd(e,t,a){t.status="fulfilled",t.value=a,Kh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Qh(e,a)))}function Tu(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Kh(t),t=t.next;while(t!==s)}e.action=null}function Kh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zh(e,t){return t}function dd(e,t){if(V){var a=te.formState;if(a!==null){e:{var s=q;if(V){if(re){t:{for(var n=re,l=ht;n.nodeType!==8;){if(!l){n=null;break t}if(n=ot(n.nextSibling),n===null){n=null;break t}}l=n.data,n=l==="F!"||l==="F"?n:null}if(n){re=ot(n.nextSibling),s=n.data==="F!";break e}}Ua(s)}s=!1}s&&(t=a[0])}}return a=Me(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zh,lastRenderedState:t},a.queue=s,a=fm.bind(null,q,s),s.dispatch=a,s=Ou(!1),l=Qo.bind(null,q,!1,s.queue),s=Me(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=jv.bind(null,q,n,l,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function fd(e){var t=he();return Jh(t,F,e)}function Jh(e,t,a){if(t=Yo(e,t,Zh)[0],e=Ql(Ut)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ul(t)}catch(r){throw r===rl?Xi:r}else s=t;t=he();var n=t.queue,l=n.dispatch;return a!==t.memoizedState&&(q.flags|=2048,Os(9,Ki(),Sv.bind(null,n,a),null)),[s,l,e]}function Sv(e,t){e.action=t}function hd(e){var t=he(),a=F;if(a!==null)return Jh(t,a,e);he(),t=t.memoizedState,a=he();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Os(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=q.updateQueue,t===null&&(t=$o(),q.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Ki(){return{destroy:void 0,resource:void 0}}function Fh(){return he().memoizedState}function Kl(e,t,a,s){var n=Me();s=s===void 0?null:s,q.flags|=e,n.memoizedState=Os(1|t,Ki(),a,s)}function ol(e,t,a,s){var n=he();s=s===void 0?null:s;var l=n.memoizedState.inst;F!==null&&s!==null&&Lo(s,F.memoizedState.deps)?n.memoizedState=Os(t,l,a,s):(q.flags|=e,n.memoizedState=Os(1|t,l,a,s))}function md(e,t){Kl(8390656,8,e,t)}function Wh(e,t){ol(2048,8,e,t)}function em(e,t){return ol(4,2,e,t)}function tm(e,t){return ol(4,4,e,t)}function am(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sm(e,t,a){a=a!=null?a.concat([e]):null,ol(4,4,am.bind(null,t,e),a)}function Po(){}function nm(e,t){var a=he();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Lo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function lm(e,t){var a=he();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Lo(t,s[1]))return s[0];if(s=e(),za){Jt(!0);try{e()}finally{Jt(!1)}}return a.memoizedState=[s,t],s}function Vo(e,t,a){return a===void 0||da&1073741824?e.memoizedState=t:(e.memoizedState=a,e=Km(),q.lanes|=e,ha|=e,a)}function im(e,t,a,s){return Ke(a,t)?a:As.current!==null?(e=Vo(e,a,s),Ke(e,t)||(je=!0),e):da&42?(e=Km(),q.lanes|=e,ha|=e,t):(je=!0,e.memoizedState=a)}function rm(e,t,a,s,n){var l=X.p;X.p=l!==0&&8>l?l:8;var r=U.T,u={};U.T=u,Qo(e,!1,t,a);try{var o=n(),c=U.S;if(c!==null&&c(u,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=xv(o,s);vn(e,t,d,Xe(e))}else vn(e,t,s,Xe(e))}catch(h){vn(e,t,{then:function(){},status:"rejected",reason:h},Xe())}finally{X.p=l,U.T=r}}function _v(){}function Du(e,t,a,s){if(e.tag!==5)throw Error(E(476));var n=um(e).queue;rm(e,n,t,Aa,a===null?_v:function(){return om(e),a(s)})}function um(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Aa,baseState:Aa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ut,lastRenderedState:Aa},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ut,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function om(e){var t=um(e).next.queue;vn(e,t,{},Xe())}function Xo(){return Te(Bn)}function cm(){return he().memoizedState}function dm(){return he().memoizedState}function Nv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Xe();e=sa(a);var s=na(t,e,a);s!==null&&(Qe(s,t,a),mn(s,t,a)),t={cache:Ro()},e.payload=t;return}t=t.return}}function Ev(e,t,a){var s=Xe();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Zi(e)?hm(t,a):(a=To(e,t,a,s),a!==null&&(Qe(a,e,s),mm(a,t,s)))}function fm(e,t,a){var s=Xe();vn(e,t,a,s)}function vn(e,t,a,s){var n={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zi(e))hm(t,n);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var r=t.lastRenderedState,u=l(r,a);if(n.hasEagerState=!0,n.eagerState=u,Ke(u,r))return Vi(e,t,n,0),te===null&&Pi(),!1}catch{}finally{}if(a=To(e,t,n,s),a!==null)return Qe(a,e,s),mm(a,t,s),!0}return!1}function Qo(e,t,a,s){if(s={lane:2,revertLane:ac(),action:s,hasEagerState:!1,eagerState:null,next:null},Zi(e)){if(t)throw Error(E(479))}else t=To(e,a,s,2),t!==null&&Qe(t,e,2)}function Zi(e){var t=e.alternate;return e===q||t!==null&&t===q}function hm(e,t){ys=fi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function mm(e,t,a){if(a&4194048){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,nh(e,a)}}var mi={readContext:Te,use:Qi,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},pm={readContext:Te,use:Qi,useCallback:function(e,t){return Me().memoizedState=[e,t===void 0?null:t],e},useContext:Te,useEffect:md,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Kl(4194308,4,am.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Kl(4194308,4,e,t)},useInsertionEffect:function(e,t){Kl(4,2,e,t)},useMemo:function(e,t){var a=Me();t=t===void 0?null:t;var s=e();if(za){Jt(!0);try{e()}finally{Jt(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Me();if(a!==void 0){var n=a(t);if(za){Jt(!0);try{a(t)}finally{Jt(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Ev.bind(null,q,e),[s.memoizedState,e]},useRef:function(e){var t=Me();return e={current:e},t.memoizedState=e},useState:function(e){e=Ou(e);var t=e.queue,a=fm.bind(null,q,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Po,useDeferredValue:function(e,t){var a=Me();return Vo(a,e,t)},useTransition:function(){var e=Ou(!1);return e=rm.bind(null,q,e.queue,!0,!1),Me().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=q,n=Me();if(V){if(a===void 0)throw Error(E(407));a=a()}else{if(a=t(),te===null)throw Error(E(349));G&124||$h(s,t,a)}n.memoizedState=a;var l={value:a,getSnapshot:t};return n.queue=l,md(Yh.bind(null,s,l,e),[e]),s.flags|=2048,Os(9,Ki(),Gh.bind(null,s,l,a,t),null),a},useId:function(){var e=Me(),t=te.identifierPrefix;if(V){var a=Ot,s=At;a=(s&~(1<<32-Ve(s)-1)).toString(32)+a,t="«"+t+"R"+a,a=hi++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=bv++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Xo,useFormState:dd,useActionState:dd,useOptimistic:function(e){var t=Me();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Qo.bind(null,q,!0,a),a.dispatch=t,[e,t]},useMemoCache:Go,useCacheRefresh:function(){return Me().memoizedState=Nv.bind(null,q)}},gm={readContext:Te,use:Qi,useCallback:nm,useContext:Te,useEffect:Wh,useImperativeHandle:sm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:lm,useReducer:Ql,useRef:Fh,useState:function(){return Ql(Ut)},useDebugValue:Po,useDeferredValue:function(e,t){var a=he();return im(a,F.memoizedState,e,t)},useTransition:function(){var e=Ql(Ut)[0],t=he().memoizedState;return[typeof e=="boolean"?e:ul(e),t]},useSyncExternalStore:Ih,useId:cm,useHostTransitionStatus:Xo,useFormState:fd,useActionState:fd,useOptimistic:function(e,t){var a=he();return Xh(a,F,e,t)},useMemoCache:Go,useCacheRefresh:dm},Av={readContext:Te,use:Qi,useCallback:nm,useContext:Te,useEffect:Wh,useImperativeHandle:sm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:lm,useReducer:Cr,useRef:Fh,useState:function(){return Cr(Ut)},useDebugValue:Po,useDeferredValue:function(e,t){var a=he();return F===null?Vo(a,e,t):im(a,F.memoizedState,e,t)},useTransition:function(){var e=Cr(Ut)[0],t=he().memoizedState;return[typeof e=="boolean"?e:ul(e),t]},useSyncExternalStore:Ih,useId:cm,useHostTransitionStatus:Xo,useFormState:hd,useActionState:hd,useOptimistic:function(e,t){var a=he();return F!==null?Xh(a,F,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Go,useCacheRefresh:dm},bs=null,Un=0;function Tl(e){var t=Un;return Un+=1,bs===null&&(bs=[]),zh(bs,e,t)}function Js(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Dl(e,t){throw t.$$typeof===sg?Error(E(525)):(e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pd(e){var t=e._init;return t(e._payload)}function vm(e){function t(g,y){if(e){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function a(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function s(g){for(var y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function n(g,y){return g=Ct(g,y),g.index=0,g.sibling=null,g}function l(g,y,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=67108866,y):x):(g.flags|=67108866,y)):(g.flags|=1048576,y)}function r(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function u(g,y,x,j){return y===null||y.tag!==6?(y=Or(x,g.mode,j),y.return=g,y):(y=n(y,x),y.return=g,y)}function o(g,y,x,j){var N=x.type;return N===as?d(g,y,x.props.children,j,x.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gt&&pd(N)===y.type)?(y=n(y,x.props),Js(y,x),y.return=g,y):(y=Vl(x.type,x.key,x.props,null,g.mode,j),Js(y,x),y.return=g,y)}function c(g,y,x,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Tr(x,g.mode,j),y.return=g,y):(y=n(y,x.children||[]),y.return=g,y)}function d(g,y,x,j,N){return y===null||y.tag!==7?(y=Oa(x,g.mode,j,N),y.return=g,y):(y=n(y,x),y.return=g,y)}function h(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Or(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jl:return x=Vl(y.type,y.key,y.props,null,g.mode,x),Js(x,y),x.return=g,x;case an:return y=Tr(y,g.mode,x),y.return=g,y;case Gt:var j=y._init;return y=j(y._payload),h(g,y,x)}if(sn(y)||Xs(y))return y=Oa(y,g.mode,x,null),y.return=g,y;if(typeof y.then=="function")return h(g,Tl(y),x);if(y.$$typeof===Et)return h(g,Al(g,y),x);Dl(g,y)}return null}function f(g,y,x,j){var N=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return N!==null?null:u(g,y,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jl:return x.key===N?o(g,y,x,j):null;case an:return x.key===N?c(g,y,x,j):null;case Gt:return N=x._init,x=N(x._payload),f(g,y,x,j)}if(sn(x)||Xs(x))return N!==null?null:d(g,y,x,j,null);if(typeof x.then=="function")return f(g,y,Tl(x),j);if(x.$$typeof===Et)return f(g,y,Al(g,x),j);Dl(g,x)}return null}function p(g,y,x,j,N){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return g=g.get(x)||null,u(y,g,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case jl:return g=g.get(j.key===null?x:j.key)||null,o(y,g,j,N);case an:return g=g.get(j.key===null?x:j.key)||null,c(y,g,j,N);case Gt:var D=j._init;return j=D(j._payload),p(g,y,x,j,N)}if(sn(j)||Xs(j))return g=g.get(x)||null,d(y,g,j,N,null);if(typeof j.then=="function")return p(g,y,x,Tl(j),N);if(j.$$typeof===Et)return p(g,y,x,Al(y,j),N);Dl(y,j)}return null}function S(g,y,x,j){for(var N=null,D=null,v=y,b=y=0,O=null;v!==null&&b<x.length;b++){v.index>b?(O=v,v=null):O=v.sibling;var k=f(g,v,x[b],j);if(k===null){v===null&&(v=O);break}e&&v&&k.alternate===null&&t(g,v),y=l(k,y,b),D===null?N=k:D.sibling=k,D=k,v=O}if(b===x.length)return a(g,v),V&&Sa(g,b),N;if(v===null){for(;b<x.length;b++)v=h(g,x[b],j),v!==null&&(y=l(v,y,b),D===null?N=v:D.sibling=v,D=v);return V&&Sa(g,b),N}for(v=s(v);b<x.length;b++)O=p(v,g,b,x[b],j),O!==null&&(e&&O.alternate!==null&&v.delete(O.key===null?b:O.key),y=l(O,y,b),D===null?N=O:D.sibling=O,D=O);return e&&v.forEach(function(C){return t(g,C)}),V&&Sa(g,b),N}function m(g,y,x,j){if(x==null)throw Error(E(151));for(var N=null,D=null,v=y,b=y=0,O=null,k=x.next();v!==null&&!k.done;b++,k=x.next()){v.index>b?(O=v,v=null):O=v.sibling;var C=f(g,v,k.value,j);if(C===null){v===null&&(v=O);break}e&&v&&C.alternate===null&&t(g,v),y=l(C,y,b),D===null?N=C:D.sibling=C,D=C,v=O}if(k.done)return a(g,v),V&&Sa(g,b),N;if(v===null){for(;!k.done;b++,k=x.next())k=h(g,k.value,j),k!==null&&(y=l(k,y,b),D===null?N=k:D.sibling=k,D=k);return V&&Sa(g,b),N}for(v=s(v);!k.done;b++,k=x.next())k=p(v,g,b,k.value,j),k!==null&&(e&&k.alternate!==null&&v.delete(k.key===null?b:k.key),y=l(k,y,b),D===null?N=k:D.sibling=k,D=k);return e&&v.forEach(function(A){return t(g,A)}),V&&Sa(g,b),N}function w(g,y,x,j){if(typeof x=="object"&&x!==null&&x.type===as&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case jl:e:{for(var N=x.key;y!==null;){if(y.key===N){if(N=x.type,N===as){if(y.tag===7){a(g,y.sibling),j=n(y,x.props.children),j.return=g,g=j;break e}}else if(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gt&&pd(N)===y.type){a(g,y.sibling),j=n(y,x.props),Js(j,x),j.return=g,g=j;break e}a(g,y);break}else t(g,y);y=y.sibling}x.type===as?(j=Oa(x.props.children,g.mode,j,x.key),j.return=g,g=j):(j=Vl(x.type,x.key,x.props,null,g.mode,j),Js(j,x),j.return=g,g=j)}return r(g);case an:e:{for(N=x.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){a(g,y.sibling),j=n(y,x.children||[]),j.return=g,g=j;break e}else{a(g,y);break}else t(g,y);y=y.sibling}j=Tr(x,g.mode,j),j.return=g,g=j}return r(g);case Gt:return N=x._init,x=N(x._payload),w(g,y,x,j)}if(sn(x))return S(g,y,x,j);if(Xs(x)){if(N=Xs(x),typeof N!="function")throw Error(E(150));return x=N.call(x),m(g,y,x,j)}if(typeof x.then=="function")return w(g,y,Tl(x),j);if(x.$$typeof===Et)return w(g,y,Al(g,x),j);Dl(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,y!==null&&y.tag===6?(a(g,y.sibling),j=n(y,x),j.return=g,g=j):(a(g,y),j=Or(x,g.mode,j),j.return=g,g=j),r(g)):a(g,y)}return function(g,y,x,j){try{Un=0;var N=w(g,y,x,j);return bs=null,N}catch(v){if(v===rl||v===Xi)throw v;var D=Ye(29,v,null,g.mode);return D.lanes=j,D.return=g,D}finally{}}}var Ts=vm(!0),ym=vm(!1),nt=xt(null),vt=null;function Xt(e){var t=e.alternate;le(ge,ge.current&1),le(nt,e),vt===null&&(t===null||As.current!==null||t.memoizedState!==null)&&(vt=e)}function xm(e){if(e.tag===22){if(le(ge,ge.current),le(nt,e),vt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(vt=e)}}else Qt()}function Qt(){le(ge,ge.current),le(nt,nt.current)}function Dt(e){Se(nt),vt===e&&(vt=null),Se(ge)}var ge=xt(0);function pi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xu(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function kr(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:ae({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Cu={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Xe(),n=sa(s);n.payload=t,a!=null&&(n.callback=a),t=na(e,n,s),t!==null&&(Qe(t,e,s),mn(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Xe(),n=sa(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=na(e,n,s),t!==null&&(Qe(t,e,s),mn(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Xe(),s=sa(a);s.tag=2,t!=null&&(s.callback=t),t=na(e,s,a),t!==null&&(Qe(t,e,a),mn(t,e,a))}};function gd(e,t,a,s,n,l,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,r):t.prototype&&t.prototype.isPureReactComponent?!Cn(a,s)||!Cn(n,l):!0}function vd(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Cu.enqueueReplaceState(t,t.state,null)}function La(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=ae({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var gi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function bm(e){gi(e)}function wm(e){console.error(e)}function jm(e){gi(e)}function vi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function yd(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function ku(e,t,a){return a=sa(a),a.tag=3,a.payload={element:null},a.callback=function(){vi(e,t)},a}function Sm(e){return e=sa(e),e.tag=3,e}function _m(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var l=s.value;e.payload=function(){return n(l)},e.callback=function(){yd(t,a,s)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){yd(t,a,s),typeof n!="function"&&(la===null?la=new Set([this]):la.add(this));var u=s.stack;this.componentDidCatch(s.value,{componentStack:u!==null?u:""})})}function Ov(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&ll(t,a,n,!0),a=nt.current,a!==null){switch(a.tag){case 13:return vt===null?Hu():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===_u?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Gr(e,s,n)),!1;case 22:return a.flags|=65536,s===_u?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Gr(e,s,n)),!1}throw Error(E(435,a.tag))}return Gr(e,s,n),Hu(),!1}if(V)return t=nt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==xu&&(e=Error(E(422),{cause:s}),kn(tt(e,a)))):(s!==xu&&(t=Error(E(423),{cause:s}),kn(tt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=tt(s,a),n=ku(e.stateNode,s,n),Dr(e,n),ue!==4&&(ue=2)),!1;var l=Error(E(520),{cause:s});if(l=tt(l,a),bn===null?bn=[l]:bn.push(l),ue!==4&&(ue=2),t===null)return!0;s=tt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=ku(a.stateNode,s,e),Dr(a,e),!1;case 1:if(t=a.type,l=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(la===null||!la.has(l))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Sm(n),_m(n,e,a,s),Dr(a,n),!1}a=a.return}while(a!==null);return!1}var Nm=Error(E(461)),je=!1;function Ne(e,t,a,s){t.child=e===null?ym(t,null,a,s):Ts(t,e.child,a,s)}function xd(e,t,a,s,n){a=a.render;var l=t.ref;if("ref"in s){var r={};for(var u in s)u!=="ref"&&(r[u]=s[u])}else r=s;return Ma(t),s=Bo(e,t,a,r,l,n),u=qo(),e!==null&&!je?(Ho(e,t,n),Mt(e,t,n)):(V&&u&&Co(t),t.flags|=1,Ne(e,t,s,n),t.child)}function bd(e,t,a,s,n){if(e===null){var l=a.type;return typeof l=="function"&&!Do(l)&&l.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=l,Em(e,t,l,s,n)):(e=Vl(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!Ko(e,n)){var r=l.memoizedProps;if(a=a.compare,a=a!==null?a:Cn,a(r,s)&&e.ref===t.ref)return Mt(e,t,n)}return t.flags|=1,e=Ct(l,s),e.ref=t.ref,e.return=t,t.child=e}function Em(e,t,a,s,n){if(e!==null){var l=e.memoizedProps;if(Cn(l,s)&&e.ref===t.ref)if(je=!1,t.pendingProps=s=l,Ko(e,n))e.flags&131072&&(je=!0);else return t.lanes=e.lanes,Mt(e,t,n)}return Ru(e,t,a,s,n)}function Am(e,t,a){var s=t.pendingProps,n=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=l!==null?l.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;t.childLanes=l&~s}else t.childLanes=0,t.child=null;return wd(e,t,s,a)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xl(t,l!==null?l.cachePool:null),l!==null?ud(t,l):Au(),xm(t);else return t.lanes=t.childLanes=536870912,wd(e,t,l!==null?l.baseLanes|a:a,a)}else l!==null?(Xl(t,l.cachePool),ud(t,l),Qt(),t.memoizedState=null):(e!==null&&Xl(t,null),Au(),Qt());return Ne(e,t,n,a),t.child}function wd(e,t,a,s){var n=Uo();return n=n===null?null:{parent:pe._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&Xl(t,null),Au(),xm(t),e!==null&&ll(e,t,s,!0),null}function Zl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(E(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ru(e,t,a,s,n){return Ma(t),a=Bo(e,t,a,s,void 0,n),s=qo(),e!==null&&!je?(Ho(e,t,n),Mt(e,t,n)):(V&&s&&Co(t),t.flags|=1,Ne(e,t,a,n),t.child)}function jd(e,t,a,s,n,l){return Ma(t),t.updateQueue=null,a=Hh(t,s,a,n),qh(e),s=qo(),e!==null&&!je?(Ho(e,t,l),Mt(e,t,l)):(V&&s&&Co(t),t.flags|=1,Ne(e,t,a,l),t.child)}function Sd(e,t,a,s,n){if(Ma(t),t.stateNode===null){var l=cs,r=a.contextType;typeof r=="object"&&r!==null&&(l=Te(r)),l=new a(s,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Cu,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=s,l.state=t.memoizedState,l.refs={},Mo(t),r=a.contextType,l.context=typeof r=="object"&&r!==null?Te(r):cs,l.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(kr(t,a,r,s),l.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(r=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),r!==l.state&&Cu.enqueueReplaceState(l,l.state,null),gn(t,s,l,n),pn(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){l=t.stateNode;var u=t.memoizedProps,o=La(a,u);l.props=o;var c=l.context,d=a.contextType;r=cs,typeof d=="object"&&d!==null&&(r=Te(d));var h=a.getDerivedStateFromProps;d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u||c!==r)&&vd(t,l,s,r),Yt=!1;var f=t.memoizedState;l.state=f,gn(t,s,l,n),pn(),c=t.memoizedState,u||f!==c||Yt?(typeof h=="function"&&(kr(t,a,h,s),c=t.memoizedState),(o=Yt||gd(t,a,o,s,f,c,r))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),l.props=s,l.state=c,l.context=r,s=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,Nu(e,t),r=t.memoizedProps,d=La(a,r),l.props=d,h=t.pendingProps,f=l.context,c=a.contextType,o=cs,typeof c=="object"&&c!==null&&(o=Te(c)),u=a.getDerivedStateFromProps,(c=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r!==h||f!==o)&&vd(t,l,s,o),Yt=!1,f=t.memoizedState,l.state=f,gn(t,s,l,n),pn();var p=t.memoizedState;r!==h||f!==p||Yt||e!==null&&e.dependencies!==null&&ci(e.dependencies)?(typeof u=="function"&&(kr(t,a,u,s),p=t.memoizedState),(d=Yt||gd(t,a,d,s,f,p,o)||e!==null&&e.dependencies!==null&&ci(e.dependencies))?(c||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,p,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,p,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),l.props=s,l.state=p,l.context=o,s=d):(typeof l.componentDidUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return l=s,Zl(e,t),s=(t.flags&128)!==0,l||s?(l=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&s?(t.child=Ts(t,e.child,null,n),t.child=Ts(t,null,a,n)):Ne(e,t,a,n),t.memoizedState=l.state,e=t.child):e=Mt(e,t,n),e}function _d(e,t,a,s){return nl(),t.flags|=256,Ne(e,t,a,s),t.child}var Rr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ur(e){return{baseLanes:e,cachePool:Uh()}}function Mr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=at),e}function Om(e,t,a){var s=t.pendingProps,n=!1,l=(t.flags&128)!==0,r;if((r=l)||(r=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(V){if(n?Xt(t):Qt(),V){var u=re,o;if(o=u){e:{for(o=u,u=ht;o.nodeType!==8;){if(!u){u=null;break e}if(o=ot(o.nextSibling),o===null){u=null;break e}}u=o}u!==null?(t.memoizedState={dehydrated:u,treeContext:Ta!==null?{id:At,overflow:Ot}:null,retryLane:536870912,hydrationErrors:null},o=Ye(18,null,null,0),o.stateNode=u,o.return=t,t.child=o,Ce=t,re=null,o=!0):o=!1}o||Ua(t)}if(u=t.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return Xu(u)?t.lanes=32:t.lanes=536870912,null;Dt(t)}return u=s.children,s=s.fallback,n?(Qt(),n=t.mode,u=yi({mode:"hidden",children:u},n),s=Oa(s,n,a,null),u.return=t,s.return=t,u.sibling=s,t.child=u,n=t.child,n.memoizedState=Ur(a),n.childLanes=Mr(e,r,a),t.memoizedState=Rr,s):(Xt(t),Uu(t,u))}if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null)){if(l)t.flags&256?(Xt(t),t.flags&=-257,t=zr(e,t,a)):t.memoizedState!==null?(Qt(),t.child=e.child,t.flags|=128,t=null):(Qt(),n=s.fallback,u=t.mode,s=yi({mode:"visible",children:s.children},u),n=Oa(n,u,a,null),n.flags|=2,s.return=t,n.return=t,s.sibling=n,t.child=s,Ts(t,e.child,null,a),s=t.child,s.memoizedState=Ur(a),s.childLanes=Mr(e,r,a),t.memoizedState=Rr,t=n);else if(Xt(t),Xu(u)){if(r=u.nextSibling&&u.nextSibling.dataset,r)var c=r.dgst;r=c,s=Error(E(419)),s.stack="",s.digest=r,kn({value:s,source:null,stack:null}),t=zr(e,t,a)}else if(je||ll(e,t,a,!1),r=(a&e.childLanes)!==0,je||r){if(r=te,r!==null&&(s=a&-a,s=s&42?1:xo(s),s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane))throw o.retryLane=s,Hs(e,s),Qe(r,e,s),Nm;u.data==="$?"||Hu(),t=zr(e,t,a)}else u.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,re=ot(u.nextSibling),Ce=t,V=!0,Da=null,ht=!1,e!==null&&(Fe[We++]=At,Fe[We++]=Ot,Fe[We++]=Ta,At=e.id,Ot=e.overflow,Ta=t),t=Uu(t,s.children),t.flags|=4096);return t}return n?(Qt(),n=s.fallback,u=t.mode,o=e.child,c=o.sibling,s=Ct(o,{mode:"hidden",children:s.children}),s.subtreeFlags=o.subtreeFlags&65011712,c!==null?n=Ct(c,n):(n=Oa(n,u,a,null),n.flags|=2),n.return=t,s.return=t,s.sibling=n,t.child=s,s=n,n=t.child,u=e.child.memoizedState,u===null?u=Ur(a):(o=u.cachePool,o!==null?(c=pe._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Uh(),u={baseLanes:u.baseLanes|a,cachePool:o}),n.memoizedState=u,n.childLanes=Mr(e,r,a),t.memoizedState=Rr,s):(Xt(t),a=e.child,e=a.sibling,a=Ct(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function Uu(e,t){return t=yi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function yi(e,t){return e=Ye(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function zr(e,t,a){return Ts(t,e.child,null,a),e=Uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nd(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wu(e.return,t,a)}function Lr(e,t,a,s,n){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=a,l.tailMode=n)}function Tm(e,t,a){var s=t.pendingProps,n=s.revealOrder,l=s.tail;if(Ne(e,t,s.children,a),s=ge.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nd(e,a,t);else if(e.tag===19)Nd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(le(ge,s),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&pi(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Lr(t,!1,n,a,l);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&pi(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Lr(t,!0,a,null,l);break;case"together":Lr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ha|=t.lanes,!(a&t.childLanes))if(e!==null){if(ll(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,a=Ct(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ct(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ko(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ci(e)))}function Tv(e,t,a){switch(t.tag){case 3:ai(t,t.stateNode.containerInfo),Vt(t,pe,e.memoizedState.cache),nl();break;case 27:case 5:ou(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:Vt(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Xt(t),t.flags|=128,null):a&t.child.childLanes?Om(e,t,a):(Xt(t),e=Mt(e,t,a),e!==null?e.sibling:null);Xt(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(ll(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return Tm(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),le(ge,ge.current),s)break;return null;case 22:case 23:return t.lanes=0,Am(e,t,a);case 24:Vt(t,pe,e.memoizedState.cache)}return Mt(e,t,a)}function Dm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)je=!0;else{if(!Ko(e,a)&&!(t.flags&128))return je=!1,Tv(e,t,a);je=!!(e.flags&131072)}else je=!1,V&&t.flags&1048576&&kh(t,oi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,n=s._init;if(s=n(s._payload),t.type=s,typeof s=="function")Do(s)?(e=La(s,e),t.tag=1,t=Sd(null,t,s,e,a)):(t.tag=0,t=Ru(null,t,s,e,a));else{if(s!=null){if(n=s.$$typeof,n===go){t.tag=11,t=xd(null,t,s,e,a);break e}else if(n===vo){t.tag=14,t=bd(null,t,s,e,a);break e}}throw t=ru(s)||s,Error(E(306,t,""))}}return t;case 0:return Ru(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=La(s,t.pendingProps),Sd(e,t,s,n,a);case 3:e:{if(ai(t,t.stateNode.containerInfo),e===null)throw Error(E(387));s=t.pendingProps;var l=t.memoizedState;n=l.element,Nu(e,t),gn(t,s,null,a);var r=t.memoizedState;if(s=r.cache,Vt(t,pe,s),s!==l.cache&&ju(t,[pe],a,!0),pn(),s=r.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=_d(e,t,s,a);break e}else if(s!==n){n=tt(Error(E(424)),t),kn(n),t=_d(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(re=ot(e.firstChild),Ce=t,V=!0,Da=null,ht=!0,a=ym(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(nl(),s===n){t=Mt(e,t,a);break e}Ne(e,t,s,a)}t=t.child}return t;case 26:return Zl(e,t),e===null?(a=$d(t.type,null,t.pendingProps,null))?t.memoizedState=a:V||(a=t.type,e=t.pendingProps,s=Ni(aa.current).createElement(a),s[Oe]=t,s[qe]=e,Ae(s,a,e),we(s),t.stateNode=s):t.memoizedState=$d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ou(t),e===null&&V&&(s=t.stateNode=g0(t.type,t.pendingProps,aa.current),Ce=t,ht=!0,n=re,va(t.type)?(Qu=n,re=ot(s.firstChild)):re=n),Ne(e,t,t.pendingProps.children,a),Zl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&V&&((n=s=re)&&(s=sy(s,t.type,t.pendingProps,ht),s!==null?(t.stateNode=s,Ce=t,re=ot(s.firstChild),ht=!1,n=!0):n=!1),n||Ua(t)),ou(t),n=t.type,l=t.pendingProps,r=e!==null?e.memoizedProps:null,s=l.children,Pu(n,l)?s=null:r!==null&&Pu(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=Bo(e,t,wv,null,null,a),Bn._currentValue=n),Zl(e,t),Ne(e,t,s,a),t.child;case 6:return e===null&&V&&((e=a=re)&&(a=ny(a,t.pendingProps,ht),a!==null?(t.stateNode=a,Ce=t,re=null,e=!0):e=!1),e||Ua(t)),null;case 13:return Om(e,t,a);case 4:return ai(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ts(t,null,s,a):Ne(e,t,s,a),t.child;case 11:return xd(e,t,t.type,t.pendingProps,a);case 7:return Ne(e,t,t.pendingProps,a),t.child;case 8:return Ne(e,t,t.pendingProps.children,a),t.child;case 12:return Ne(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Vt(t,t.type,s.value),Ne(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Ma(t),n=Te(n),s=s(n),t.flags|=1,Ne(e,t,s,a),t.child;case 14:return bd(e,t,t.type,t.pendingProps,a);case 15:return Em(e,t,t.type,t.pendingProps,a);case 19:return Tm(e,t,a);case 31:return s=t.pendingProps,a=t.mode,s={mode:s.mode,children:s.children},e===null?(a=yi(s,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Ct(e.child,s),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Am(e,t,a);case 24:return Ma(t),s=Te(pe),e===null?(n=Uo(),n===null&&(n=te,l=Ro(),n.pooledCache=l,l.refCount++,l!==null&&(n.pooledCacheLanes|=a),n=l),t.memoizedState={parent:s,cache:n},Mo(t),Vt(t,pe,n)):(e.lanes&a&&(Nu(e,t),gn(t,null,null,a),pn()),n=e.memoizedState,l=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Vt(t,pe,s)):(s=l.cache,Vt(t,pe,s),s!==n.cache&&ju(t,[pe],a,!0))),Ne(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(E(156,t.tag))}function jt(e){e.flags|=4}function Ed(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!x0(t)){if(t=nt.current,t!==null&&((G&4194048)===G?vt!==null:(G&62914560)!==G&&!(G&536870912)||t!==vt))throw hn=_u,Mh;e.flags|=8192}}function Cl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ah():536870912,e.lanes|=t,Ds|=t)}function Fs(e,t){if(!V)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Dv(e,t,a){var s=t.pendingProps;switch(ko(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(t),null;case 1:return ie(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),kt(pe),Ss(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Zs(t)?jt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ad())),ie(t),null;case 26:return a=t.memoizedState,e===null?(jt(t),a!==null?(ie(t),Ed(t,a)):(ie(t),t.flags&=-16777217)):a?a!==e.memoizedState?(jt(t),ie(t),Ed(t,a)):(ie(t),t.flags&=-16777217):(e.memoizedProps!==s&&jt(t),ie(t),t.flags&=-16777217),null;case 27:si(t),a=aa.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&jt(t);else{if(!s){if(t.stateNode===null)throw Error(E(166));return ie(t),null}e=pt.current,Zs(t)?ed(t):(e=g0(n,s,a),t.stateNode=e,jt(t))}return ie(t),null;case 5:if(si(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&jt(t);else{if(!s){if(t.stateNode===null)throw Error(E(166));return ie(t),null}if(e=pt.current,Zs(t))ed(t);else{switch(n=Ni(aa.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?n.createElement("select",{is:s.is}):n.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?n.createElement(a,{is:s.is}):n.createElement(a)}}e[Oe]=t,e[qe]=s;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Ae(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&jt(t)}}return ie(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&jt(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(E(166));if(e=aa.current,Zs(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=Ce,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[Oe]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||h0(e.nodeValue,a)),e||Ua(t)}else e=Ni(e).createTextNode(s),e[Oe]=t,t.stateNode=e}return ie(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Zs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(E(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(E(317));n[Oe]=t}else nl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ie(t),n=!1}else n=ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Dt(t),t):(Dt(t),null)}if(Dt(t),t.flags&128)return t.lanes=a,t;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool);var l=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==n&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Cl(t,t.updateQueue),ie(t),null;case 4:return Ss(),e===null&&sc(t.stateNode.containerInfo),ie(t),null;case 10:return kt(t.type),ie(t),null;case 19:if(Se(ge),n=t.memoizedState,n===null)return ie(t),null;if(s=(t.flags&128)!==0,l=n.rendering,l===null)if(s)Fs(n,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=pi(e),l!==null){for(t.flags|=128,Fs(n,!1),e=l.updateQueue,t.updateQueue=e,Cl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ch(a,e),a=a.sibling;return le(ge,ge.current&1|2),t.child}e=e.sibling}n.tail!==null&&gt()>bi&&(t.flags|=128,s=!0,Fs(n,!1),t.lanes=4194304)}else{if(!s)if(e=pi(l),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Cl(t,e),Fs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!l.alternate&&!V)return ie(t),null}else 2*gt()-n.renderingStartTime>bi&&a!==536870912&&(t.flags|=128,s=!0,Fs(n,!1),t.lanes=4194304);n.isBackwards?(l.sibling=t.child,t.child=l):(e=n.last,e!==null?e.sibling=l:t.child=l,n.last=l)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=gt(),t.sibling=null,e=ge.current,le(ge,s?e&1|2:e&1),t):(ie(t),null);case 22:case 23:return Dt(t),zo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?a&536870912&&!(t.flags&128)&&(ie(t),t.subtreeFlags&6&&(t.flags|=8192)):ie(t),a=t.updateQueue,a!==null&&Cl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&Se(Ca),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),kt(pe),ie(t),null;case 25:return null;case 30:return null}throw Error(E(156,t.tag))}function Cv(e,t){switch(ko(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kt(pe),Ss(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return si(t),null;case 13:if(Dt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));nl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(ge),null;case 4:return Ss(),null;case 10:return kt(t.type),null;case 22:case 23:return Dt(t),zo(),e!==null&&Se(Ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return kt(pe),null;case 25:return null;default:return null}}function Cm(e,t){switch(ko(t),t.tag){case 3:kt(pe),Ss();break;case 26:case 27:case 5:si(t);break;case 4:Ss();break;case 13:Dt(t);break;case 19:Se(ge);break;case 10:kt(t.type);break;case 22:case 23:Dt(t),zo(),e!==null&&Se(Ca);break;case 24:kt(pe)}}function cl(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var l=a.create,r=a.inst;s=l(),r.destroy=s}a=a.next}while(a!==n)}}catch(u){W(t,t.return,u)}}function fa(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var l=n.next;s=l;do{if((s.tag&e)===e){var r=s.inst,u=r.destroy;if(u!==void 0){r.destroy=void 0,n=t;var o=a,c=u;try{c()}catch(d){W(n,o,d)}}}s=s.next}while(s!==l)}}catch(d){W(t,t.return,d)}}function km(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Bh(t,a)}catch(s){W(e,e.return,s)}}}function Rm(e,t,a){a.props=La(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){W(e,t,s)}}function yn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){W(e,t,n)}}function mt(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){W(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){W(e,t,n)}else a.current=null}function Um(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){W(e,e.return,n)}}function Br(e,t,a){try{var s=e.stateNode;Fv(s,e.type,a,t),s[qe]=t}catch(n){W(e,e.return,n)}}function Mm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&va(e.type)||e.tag===4}function qr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=er));else if(s!==4&&(s===27&&va(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Mu(e,t,a),e=e.sibling;e!==null;)Mu(e,t,a),e=e.sibling}function xi(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&va(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(xi(e,t,a),e=e.sibling;e!==null;)xi(e,t,a),e=e.sibling}function zm(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ae(t,s,a),t[Oe]=e,t[qe]=a}catch(l){W(e,e.return,l)}}var Nt=!1,de=!1,Hr=!1,Ad=typeof WeakSet=="function"?WeakSet:Set,be=null;function kv(e,t){if(e=e.containerInfo,Gu=Ti,e=Sh(e),Ao(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var r=0,u=-1,o=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==a||n!==0&&h.nodeType!==3||(u=r+n),h!==l||s!==0&&h.nodeType!==3||(o=r+s),h.nodeType===3&&(r+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===a&&++c===n&&(u=r),f===l&&++d===s&&(o=r),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}a=u===-1||o===-1?null:{start:u,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yu={focusedElem:e,selectionRange:a},Ti=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){switch(t=be,l=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,a=t,n=l.memoizedProps,l=l.memoizedState,s=a.stateNode;try{var S=La(a.type,n,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(S,l),s.__reactInternalSnapshotBeforeUpdate=e}catch(m){W(a,a.return,m)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Vu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(E(163))}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}}function Lm(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:qt(e,a),s&4&&cl(5,a);break;case 1:if(qt(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){W(a,a.return,r)}else{var n=La(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){W(a,a.return,r)}}s&64&&km(a),s&512&&yn(a,a.return);break;case 3:if(qt(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Bh(e,t)}catch(r){W(a,a.return,r)}}break;case 27:t===null&&s&4&&zm(a);case 26:case 5:qt(e,a),t===null&&s&4&&Um(a),s&512&&yn(a,a.return);break;case 12:qt(e,a);break;case 13:qt(e,a),s&4&&Hm(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Iv.bind(null,a),ly(e,a))));break;case 22:if(s=a.memoizedState!==null||Nt,!s){t=t!==null&&t.memoizedState!==null||de,n=Nt;var l=de;Nt=s,(de=t)&&!l?Ht(e,a,(a.subtreeFlags&8772)!==0):qt(e,a),Nt=n,de=l}break;case 30:break;default:qt(e,a)}}function Bm(e){var t=e.alternate;t!==null&&(e.alternate=null,Bm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&wo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,ze=!1;function St(e,t,a){for(a=a.child;a!==null;)qm(e,t,a),a=a.sibling}function qm(e,t,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:de||mt(a,t),St(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||mt(a,t);var s=se,n=ze;va(a.type)&&(se=a.stateNode,ze=!1),St(e,t,a),jn(a.stateNode),se=s,ze=n;break;case 5:de||mt(a,t);case 6:if(s=se,n=ze,se=null,St(e,t,a),se=s,ze=n,se!==null)if(ze)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(l){W(a,t,l)}else try{se.removeChild(a.stateNode)}catch(l){W(a,t,l)}break;case 18:se!==null&&(ze?(e=se,qd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),In(e)):qd(se,a.stateNode));break;case 4:s=se,n=ze,se=a.stateNode.containerInfo,ze=!0,St(e,t,a),se=s,ze=n;break;case 0:case 11:case 14:case 15:de||fa(2,a,t),de||fa(4,a,t),St(e,t,a);break;case 1:de||(mt(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Rm(a,t,s)),St(e,t,a);break;case 21:St(e,t,a);break;case 22:de=(s=de)||a.memoizedState!==null,St(e,t,a),de=s;break;default:St(e,t,a)}}function Hm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{In(e)}catch(a){W(t,t.return,a)}}function Rv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ad),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ad),t;default:throw Error(E(435,e.tag))}}function Ir(e,t){var a=Rv(e);t.forEach(function(s){var n=$v.bind(null,e,s);a.has(s)||(a.add(s),s.then(n,n))})}function Ie(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],l=e,r=t,u=r;e:for(;u!==null;){switch(u.tag){case 27:if(va(u.type)){se=u.stateNode,ze=!1;break e}break;case 5:se=u.stateNode,ze=!1;break e;case 3:case 4:se=u.stateNode.containerInfo,ze=!0;break e}u=u.return}if(se===null)throw Error(E(160));qm(l,r,n),se=null,ze=!1,l=n.alternate,l!==null&&(l.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Im(t,e),t=t.sibling}var it=null;function Im(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ie(t,e),$e(e),s&4&&(fa(3,e,e.return),cl(3,e),fa(5,e,e.return));break;case 1:Ie(t,e),$e(e),s&512&&(de||a===null||mt(a,a.return)),s&64&&Nt&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=it;if(Ie(t,e),$e(e),s&512&&(de||a===null||mt(a,a.return)),s&4){var l=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":l=n.getElementsByTagName("title")[0],(!l||l[al]||l[Oe]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=n.createElement(s),n.head.insertBefore(l,n.querySelector("head > title"))),Ae(l,s,a),l[Oe]=e,we(l),s=l;break e;case"link":var r=Yd("link","href",n).get(s+(a.href||""));if(r){for(var u=0;u<r.length;u++)if(l=r[u],l.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&l.getAttribute("rel")===(a.rel==null?null:a.rel)&&l.getAttribute("title")===(a.title==null?null:a.title)&&l.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(u,1);break t}}l=n.createElement(s),Ae(l,s,a),n.head.appendChild(l);break;case"meta":if(r=Yd("meta","content",n).get(s+(a.content||""))){for(u=0;u<r.length;u++)if(l=r[u],l.getAttribute("content")===(a.content==null?null:""+a.content)&&l.getAttribute("name")===(a.name==null?null:a.name)&&l.getAttribute("property")===(a.property==null?null:a.property)&&l.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&l.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(u,1);break t}}l=n.createElement(s),Ae(l,s,a),n.head.appendChild(l);break;default:throw Error(E(468,s))}l[Oe]=e,we(l),s=l}e.stateNode=s}else Pd(n,e.type,e.stateNode);else e.stateNode=Gd(n,s,e.memoizedProps);else l!==s?(l===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):l.count--,s===null?Pd(n,e.type,e.stateNode):Gd(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Br(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ie(t,e),$e(e),s&512&&(de||a===null||mt(a,a.return)),a!==null&&s&4&&Br(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ie(t,e),$e(e),s&512&&(de||a===null||mt(a,a.return)),e.flags&32){n=e.stateNode;try{Ns(n,"")}catch(p){W(e,e.return,p)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,Br(e,n,a!==null?a.memoizedProps:n)),s&1024&&(Hr=!0);break;case 6:if(Ie(t,e),$e(e),s&4){if(e.stateNode===null)throw Error(E(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(p){W(e,e.return,p)}}break;case 3:if(Wl=null,n=it,it=Ei(t.containerInfo),Ie(t,e),it=n,$e(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{In(t.containerInfo)}catch(p){W(e,e.return,p)}Hr&&(Hr=!1,$m(e));break;case 4:s=it,it=Ei(e.stateNode.containerInfo),Ie(t,e),$e(e),it=s;break;case 12:Ie(t,e),$e(e);break;case 13:Ie(t,e),$e(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ec=gt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ir(e,s)));break;case 22:n=e.memoizedState!==null;var o=a!==null&&a.memoizedState!==null,c=Nt,d=de;if(Nt=c||n,de=d||o,Ie(t,e),de=d,Nt=c,$e(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||o||Nt||de||_a(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){o=a=t;try{if(l=o.stateNode,n)r=l.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{u=o.stateNode;var h=o.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;u.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(p){W(o,o.return,p)}}}else if(t.tag===6){if(a===null){o=t;try{o.stateNode.nodeValue=n?"":o.memoizedProps}catch(p){W(o,o.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Ir(e,a))));break;case 19:Ie(t,e),$e(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ir(e,s)));break;case 30:break;case 21:break;default:Ie(t,e),$e(e)}}function $e(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Mm(s)){a=s;break}s=s.return}if(a==null)throw Error(E(160));switch(a.tag){case 27:var n=a.stateNode,l=qr(e);xi(e,l,n);break;case 5:var r=a.stateNode;a.flags&32&&(Ns(r,""),a.flags&=-33);var u=qr(e);xi(e,u,r);break;case 3:case 4:var o=a.stateNode.containerInfo,c=qr(e);Mu(e,c,o);break;default:throw Error(E(161))}}catch(d){W(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $m(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$m(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function qt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Lm(e,t.alternate,t),t=t.sibling}function _a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fa(4,t,t.return),_a(t);break;case 1:mt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Rm(t,t.return,a),_a(t);break;case 27:jn(t.stateNode);case 26:case 5:mt(t,t.return),_a(t);break;case 22:t.memoizedState===null&&_a(t);break;case 30:_a(t);break;default:_a(t)}e=e.sibling}}function Ht(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,l=t,r=l.flags;switch(l.tag){case 0:case 11:case 15:Ht(n,l,a),cl(4,l);break;case 1:if(Ht(n,l,a),s=l,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(c){W(s,s.return,c)}if(s=l,n=s.updateQueue,n!==null){var u=s.stateNode;try{var o=n.shared.hiddenCallbacks;if(o!==null)for(n.shared.hiddenCallbacks=null,n=0;n<o.length;n++)Lh(o[n],u)}catch(c){W(s,s.return,c)}}a&&r&64&&km(l),yn(l,l.return);break;case 27:zm(l);case 26:case 5:Ht(n,l,a),a&&s===null&&r&4&&Um(l),yn(l,l.return);break;case 12:Ht(n,l,a);break;case 13:Ht(n,l,a),a&&r&4&&Hm(n,l);break;case 22:l.memoizedState===null&&Ht(n,l,a),yn(l,l.return);break;case 30:break;default:Ht(n,l,a)}t=t.sibling}}function Zo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&il(a))}function Jo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&il(e))}function dt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gm(e,t,a,s),t=t.sibling}function Gm(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:dt(e,t,a,s),n&2048&&cl(9,t);break;case 1:dt(e,t,a,s);break;case 3:dt(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&il(e)));break;case 12:if(n&2048){dt(e,t,a,s),e=t.stateNode;try{var l=t.memoizedProps,r=l.id,u=l.onPostCommit;typeof u=="function"&&u(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){W(t,t.return,o)}}else dt(e,t,a,s);break;case 13:dt(e,t,a,s);break;case 23:break;case 22:l=t.stateNode,r=t.alternate,t.memoizedState!==null?l._visibility&2?dt(e,t,a,s):xn(e,t):l._visibility&2?dt(e,t,a,s):(l._visibility|=2,Wa(e,t,a,s,(t.subtreeFlags&10256)!==0)),n&2048&&Zo(r,t);break;case 24:dt(e,t,a,s),n&2048&&Jo(t.alternate,t);break;default:dt(e,t,a,s)}}function Wa(e,t,a,s,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var l=e,r=t,u=a,o=s,c=r.flags;switch(r.tag){case 0:case 11:case 15:Wa(l,r,u,o,n),cl(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?Wa(l,r,u,o,n):xn(l,r):(d._visibility|=2,Wa(l,r,u,o,n)),n&&c&2048&&Zo(r.alternate,r);break;case 24:Wa(l,r,u,o,n),n&&c&2048&&Jo(r.alternate,r);break;default:Wa(l,r,u,o,n)}t=t.sibling}}function xn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:xn(a,s),n&2048&&Zo(s.alternate,s);break;case 24:xn(a,s),n&2048&&Jo(s.alternate,s);break;default:xn(a,s)}t=t.sibling}}var ln=8192;function Va(e){if(e.subtreeFlags&ln)for(e=e.child;e!==null;)Ym(e),e=e.sibling}function Ym(e){switch(e.tag){case 26:Va(e),e.flags&ln&&e.memoizedState!==null&&yy(it,e.memoizedState,e.memoizedProps);break;case 5:Va(e);break;case 3:case 4:var t=it;it=Ei(e.stateNode.containerInfo),Va(e),it=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ln,ln=16777216,Va(e),ln=t):Va(e));break;default:Va(e)}}function Pm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ws(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];be=s,Xm(s,e)}Pm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vm(e),e=e.sibling}function Vm(e){switch(e.tag){case 0:case 11:case 15:Ws(e),e.flags&2048&&fa(9,e,e.return);break;case 3:Ws(e);break;case 12:Ws(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Jl(e)):Ws(e);break;default:Ws(e)}}function Jl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];be=s,Xm(s,e)}Pm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:fa(8,t,t.return),Jl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Xm(e,t){for(;be!==null;){var a=be;switch(a.tag){case 0:case 11:case 15:fa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:il(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,be=s;else e:for(a=e;be!==null;){s=be;var n=s.sibling,l=s.return;if(Bm(s),s===a){be=null;break e}if(n!==null){n.return=l,be=n;break e}be=l}}}var Uv={getCacheForType:function(e){var t=Te(pe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Mv=typeof WeakMap=="function"?WeakMap:Map,Z=0,te=null,I=null,G=0,K=0,Ge=null,Wt=!1,Is=!1,Fo=!1,zt=0,ue=0,ha=0,ka=0,Wo=0,at=0,Ds=0,bn=null,Le=null,zu=!1,ec=0,bi=1/0,wi=null,la=null,Ee=0,ia=null,Cs=null,ws=0,Lu=0,Bu=null,Qm=null,wn=0,qu=null;function Xe(){if(Z&2&&G!==0)return G&-G;if(U.T!==null){var e=Es;return e!==0?e:ac()}return lh()}function Km(){at===0&&(at=!(G&536870912)||V?th():536870912);var e=nt.current;return e!==null&&(e.flags|=32),at}function Qe(e,t,a){(e===te&&(K===2||K===9)||e.cancelPendingCommit!==null)&&(ks(e,0),ea(e,G,at,!1)),tl(e,a),(!(Z&2)||e!==te)&&(e===te&&(!(Z&2)&&(ka|=a),ue===4&&ea(e,G,at,!1)),bt(e))}function Zm(e,t,a){if(Z&6)throw Error(E(327));var s=!a&&(t&124)===0&&(t&e.expiredLanes)===0||el(e,t),n=s?Bv(e,t):$r(e,t,!0),l=s;do{if(n===0){Is&&!s&&ea(e,t,0,!1);break}else{if(a=e.current.alternate,l&&!zv(a)){n=$r(e,t,!1),l=!1;continue}if(n===2){if(l=t,e.errorRecoveryDisabledLanes&l)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var u=e;n=bn;var o=u.current.memoizedState.isDehydrated;if(o&&(ks(u,r).flags|=256),r=$r(u,r,!1),r!==2){if(Fo&&!o){u.errorRecoveryDisabledLanes|=l,ka|=l,n=4;break e}l=Le,Le=n,l!==null&&(Le===null?Le=l:Le.push.apply(Le,l))}n=r}if(l=!1,n!==2)continue}}if(n===1){ks(e,0),ea(e,t,0,!0);break}e:{switch(s=e,l=n,l){case 0:case 1:throw Error(E(345));case 4:if((t&4194048)!==t)break;case 6:ea(s,t,at,!Wt);break e;case 2:Le=null;break;case 3:case 5:break;default:throw Error(E(329))}if((t&62914560)===t&&(n=ec+300-gt(),10<n)){if(ea(s,t,at,!Wt),Ii(s,0,!0)!==0)break e;s.timeoutHandle=p0(Od.bind(null,s,a,Le,wi,zu,t,at,ka,Ds,Wt,l,2,-0,0),n);break e}Od(s,a,Le,wi,zu,t,at,ka,Ds,Wt,l,0,-0,0)}}break}while(!0);bt(e)}function Od(e,t,a,s,n,l,r,u,o,c,d,h,f,p){if(e.timeoutHandle=-1,h=t.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(Ln={stylesheets:null,count:0,unsuspend:vy},Ym(t),h=xy(),h!==null)){e.cancelPendingCommit=h(Dd.bind(null,e,t,l,a,s,n,r,u,o,d,1,f,p)),ea(e,l,r,!c);return}Dd(e,t,l,a,s,n,r,u,o)}function zv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],l=n.getSnapshot;n=n.value;try{if(!Ke(l(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ea(e,t,a,s){t&=~Wo,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var l=31-Ve(n),r=1<<l;s[l]=-1,n&=~r}a!==0&&sh(e,a,t)}function Ji(){return Z&6?!0:(dl(0),!1)}function tc(){if(I!==null){if(K===0)var e=I.return;else e=I,Tt=Ia=null,Io(e),bs=null,Un=0,e=I;for(;e!==null;)Cm(e.alternate,e),e=e.return;I=null}}function ks(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ey(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),tc(),te=e,I=a=Ct(e.current,null),G=t,K=0,Ge=null,Wt=!1,Is=el(e,t),Fo=!1,Ds=at=Wo=ka=ha=ue=0,Le=bn=null,zu=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-Ve(s),l=1<<n;t|=e[n],s&=~l}return zt=t,Pi(),a}function Jm(e,t){q=null,U.H=mi,t===rl||t===Xi?(t=id(),K=3):t===Mh?(t=id(),K=4):K=t===Nm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ge=t,I===null&&(ue=1,vi(e,tt(t,e.current)))}function Fm(){var e=U.H;return U.H=mi,e===null?mi:e}function Wm(){var e=U.A;return U.A=Uv,e}function Hu(){ue=4,Wt||(G&4194048)!==G&&nt.current!==null||(Is=!0),!(ha&134217727)&&!(ka&134217727)||te===null||ea(te,G,at,!1)}function $r(e,t,a){var s=Z;Z|=2;var n=Fm(),l=Wm();(te!==e||G!==t)&&(wi=null,ks(e,t)),t=!1;var r=ue;e:do try{if(K!==0&&I!==null){var u=I,o=Ge;switch(K){case 8:tc(),r=6;break e;case 3:case 2:case 9:case 6:nt.current===null&&(t=!0);var c=K;if(K=0,Ge=null,hs(e,u,o,c),a&&Is){r=0;break e}break;default:c=K,K=0,Ge=null,hs(e,u,o,c)}}Lv(),r=ue;break}catch(d){Jm(e,d)}while(!0);return t&&e.shellSuspendCounter++,Tt=Ia=null,Z=s,U.H=n,U.A=l,I===null&&(te=null,G=0,Pi()),r}function Lv(){for(;I!==null;)e0(I)}function Bv(e,t){var a=Z;Z|=2;var s=Fm(),n=Wm();te!==e||G!==t?(wi=null,bi=gt()+500,ks(e,t)):Is=el(e,t);e:do try{if(K!==0&&I!==null){t=I;var l=Ge;t:switch(K){case 1:K=0,Ge=null,hs(e,t,l,1);break;case 2:case 9:if(ld(l)){K=0,Ge=null,Td(t);break}t=function(){K!==2&&K!==9||te!==e||(K=7),bt(e)},l.then(t,t);break e;case 3:K=7;break e;case 4:K=5;break e;case 7:ld(l)?(K=0,Ge=null,Td(t)):(K=0,Ge=null,hs(e,t,l,7));break;case 5:var r=null;switch(I.tag){case 26:r=I.memoizedState;case 5:case 27:var u=I;if(!r||x0(r)){K=0,Ge=null;var o=u.sibling;if(o!==null)I=o;else{var c=u.return;c!==null?(I=c,Fi(c)):I=null}break t}}K=0,Ge=null,hs(e,t,l,5);break;case 6:K=0,Ge=null,hs(e,t,l,6);break;case 8:tc(),ue=6;break e;default:throw Error(E(462))}}qv();break}catch(d){Jm(e,d)}while(!0);return Tt=Ia=null,U.H=s,U.A=n,Z=a,I!==null?0:(te=null,G=0,Pi(),ue)}function qv(){for(;I!==null&&!rg();)e0(I)}function e0(e){var t=Dm(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Fi(e):I=t}function Td(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=jd(a,t,t.pendingProps,t.type,void 0,G);break;case 11:t=jd(a,t,t.pendingProps,t.type.render,t.ref,G);break;case 5:Io(t);default:Cm(a,t),t=I=Ch(t,zt),t=Dm(a,t,zt)}e.memoizedProps=e.pendingProps,t===null?Fi(e):I=t}function hs(e,t,a,s){Tt=Ia=null,Io(t),bs=null,Un=0;var n=t.return;try{if(Ov(e,n,t,a,G)){ue=1,vi(e,tt(a,e.current)),I=null;return}}catch(l){if(n!==null)throw I=n,l;ue=1,vi(e,tt(a,e.current)),I=null;return}t.flags&32768?(V||s===1?e=!0:Is||G&536870912?e=!1:(Wt=e=!0,(s===2||s===9||s===3||s===6)&&(s=nt.current,s!==null&&s.tag===13&&(s.flags|=16384))),t0(t,e)):Fi(t)}function Fi(e){var t=e;do{if(t.flags&32768){t0(t,Wt);return}e=t.return;var a=Dv(t.alternate,t,zt);if(a!==null){I=a;return}if(t=t.sibling,t!==null){I=t;return}I=t=e}while(t!==null);ue===0&&(ue=5)}function t0(e,t){do{var a=Cv(e.alternate,e);if(a!==null){a.flags&=32767,I=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){I=e;return}I=e=a}while(e!==null);ue=6,I=null}function Dd(e,t,a,s,n,l,r,u,o){e.cancelPendingCommit=null;do Wi();while(Ee!==0);if(Z&6)throw Error(E(327));if(t!==null){if(t===e.current)throw Error(E(177));if(l=t.lanes|t.childLanes,l|=Oo,vg(e,a,l,r,u,o),e===te&&(I=te=null,G=0),Cs=t,ia=e,ws=a,Lu=l,Bu=n,Qm=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Gv(ni,function(){return i0(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=U.T,U.T=null,n=X.p,X.p=2,r=Z,Z|=4;try{kv(e,t,a)}finally{Z=r,X.p=n,U.T=s}}Ee=1,a0(),s0(),n0()}}function a0(){if(Ee===1){Ee=0;var e=ia,t=Cs,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=U.T,U.T=null;var s=X.p;X.p=2;var n=Z;Z|=4;try{Im(t,e);var l=Yu,r=Sh(e.containerInfo),u=l.focusedElem,o=l.selectionRange;if(r!==u&&u&&u.ownerDocument&&jh(u.ownerDocument.documentElement,u)){if(o!==null&&Ao(u)){var c=o.start,d=o.end;if(d===void 0&&(d=c),"selectionStart"in u)u.selectionStart=c,u.selectionEnd=Math.min(d,u.value.length);else{var h=u.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var p=f.getSelection(),S=u.textContent.length,m=Math.min(o.start,S),w=o.end===void 0?m:Math.min(o.end,S);!p.extend&&m>w&&(r=w,w=m,m=r);var g=Jc(u,m),y=Jc(u,w);if(g&&y&&(p.rangeCount!==1||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var x=h.createRange();x.setStart(g.node,g.offset),p.removeAllRanges(),m>w?(p.addRange(x),p.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),p.addRange(x))}}}}for(h=[],p=u;p=p.parentNode;)p.nodeType===1&&h.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<h.length;u++){var j=h[u];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Ti=!!Gu,Yu=Gu=null}finally{Z=n,X.p=s,U.T=a}}e.current=t,Ee=2}}function s0(){if(Ee===2){Ee=0;var e=ia,t=Cs,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=U.T,U.T=null;var s=X.p;X.p=2;var n=Z;Z|=4;try{Lm(e,t.alternate,t)}finally{Z=n,X.p=s,U.T=a}}Ee=3}}function n0(){if(Ee===4||Ee===3){Ee=0,ug();var e=ia,t=Cs,a=ws,s=Qm;t.subtreeFlags&10256||t.flags&10256?Ee=5:(Ee=0,Cs=ia=null,l0(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(la=null),bo(a),t=t.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Wn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=U.T,n=X.p,X.p=2,U.T=null;try{for(var l=e.onRecoverableError,r=0;r<s.length;r++){var u=s[r];l(u.value,{componentStack:u.stack})}}finally{U.T=t,X.p=n}}ws&3&&Wi(),bt(e),n=e.pendingLanes,a&4194090&&n&42?e===qu?wn++:(wn=0,qu=e):wn=0,dl(0)}}function l0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,il(t)))}function Wi(e){return a0(),s0(),n0(),i0()}function i0(){if(Ee!==5)return!1;var e=ia,t=Lu;Lu=0;var a=bo(ws),s=U.T,n=X.p;try{X.p=32>a?32:a,U.T=null,a=Bu,Bu=null;var l=ia,r=ws;if(Ee=0,Cs=ia=null,ws=0,Z&6)throw Error(E(331));var u=Z;if(Z|=4,Vm(l.current),Gm(l,l.current,r,a),Z=u,dl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Wn,l)}catch{}return!0}finally{X.p=n,U.T=s,l0(e,t)}}function Cd(e,t,a){t=tt(a,t),t=ku(e.stateNode,t,2),e=na(e,t,2),e!==null&&(tl(e,2),bt(e))}function W(e,t,a){if(e.tag===3)Cd(e,e,a);else for(;t!==null;){if(t.tag===3){Cd(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(la===null||!la.has(s))){e=tt(a,e),a=Sm(2),s=na(t,a,2),s!==null&&(_m(a,s,t,e),tl(s,2),bt(s));break}}t=t.return}}function Gr(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Mv;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(Fo=!0,n.add(a),e=Hv.bind(null,e,t,a),t.then(e,e))}function Hv(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(G&a)===a&&(ue===4||ue===3&&(G&62914560)===G&&300>gt()-ec?!(Z&2)&&ks(e,0):Wo|=a,Ds===G&&(Ds=0)),bt(e)}function r0(e,t){t===0&&(t=ah()),e=Hs(e,t),e!==null&&(tl(e,t),bt(e))}function Iv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),r0(e,a)}function $v(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(E(314))}s!==null&&s.delete(t),r0(e,a)}function Gv(e,t){return yo(e,t)}var ji=null,es=null,Iu=!1,Si=!1,Yr=!1,Ra=0;function bt(e){e!==es&&e.next===null&&(es===null?ji=es=e:es=es.next=e),Si=!0,Iu||(Iu=!0,Pv())}function dl(e,t){if(!Yr&&Si){Yr=!0;do for(var a=!1,s=ji;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var l=0;else{var r=s.suspendedLanes,u=s.pingedLanes;l=(1<<31-Ve(42|e)+1)-1,l&=n&~(r&~u),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(a=!0,kd(s,l))}else l=G,l=Ii(s,s===te?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(l&3)||el(s,l)||(a=!0,kd(s,l));s=s.next}while(a);Yr=!1}}function Yv(){u0()}function u0(){Si=Iu=!1;var e=0;Ra!==0&&(Wv()&&(e=Ra),Ra=0);for(var t=gt(),a=null,s=ji;s!==null;){var n=s.next,l=o0(s,t);l===0?(s.next=null,a===null?ji=n:a.next=n,n===null&&(es=a)):(a=s,(e!==0||l&3)&&(Si=!0)),s=n}dl(e)}function o0(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var r=31-Ve(l),u=1<<r,o=n[r];o===-1?(!(u&a)||u&s)&&(n[r]=gg(u,t)):o<=t&&(e.expiredLanes|=u),l&=~u}if(t=te,a=G,a=Ii(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(K===2||K===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&gr(s),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||el(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&gr(s),bo(a)){case 2:case 8:a=Wf;break;case 32:a=ni;break;case 268435456:a=eh;break;default:a=ni}return s=c0.bind(null,e),a=yo(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&gr(s),e.callbackPriority=2,e.callbackNode=null,2}function c0(e,t){if(Ee!==0&&Ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wi()&&e.callbackNode!==a)return null;var s=G;return s=Ii(e,e===te?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Zm(e,s,t),o0(e,gt()),e.callbackNode!=null&&e.callbackNode===a?c0.bind(null,e):null)}function kd(e,t){if(Wi())return null;Zm(e,t,!0)}function Pv(){ty(function(){Z&6?yo(Ff,Yv):u0()})}function ac(){return Ra===0&&(Ra=th()),Ra}function Rd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gl(""+e)}function Ud(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Vv(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var l=Rd((n[qe]||null).action),r=s.submitter;r&&(t=(t=r[qe]||null)?Rd(t.formAction):r.getAttribute("formAction"),t!==null&&(l=t,r=null));var u=new $i("action","action",null,s,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ra!==0){var o=r?Ud(n,r):new FormData(n);Du(a,{pending:!0,data:o,method:n.method,action:l},null,o)}}else typeof l=="function"&&(u.preventDefault(),o=r?Ud(n,r):new FormData(n),Du(a,{pending:!0,data:o,method:n.method,action:l},l,o))},currentTarget:n}]})}}for(var Pr=0;Pr<yu.length;Pr++){var Vr=yu[Pr],Xv=Vr.toLowerCase(),Qv=Vr[0].toUpperCase()+Vr.slice(1);ct(Xv,"on"+Qv)}ct(Nh,"onAnimationEnd");ct(Eh,"onAnimationIteration");ct(Ah,"onAnimationStart");ct("dblclick","onDoubleClick");ct("focusin","onFocus");ct("focusout","onBlur");ct(dv,"onTransitionRun");ct(fv,"onTransitionStart");ct(hv,"onTransitionCancel");ct(Oh,"onTransitionEnd");_s("onMouseEnter",["mouseout","mouseover"]);_s("onMouseLeave",["mouseout","mouseover"]);_s("onPointerEnter",["pointerout","pointerover"]);_s("onPointerLeave",["pointerout","pointerover"]);Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mn));function d0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var r=s.length-1;0<=r;r--){var u=s[r],o=u.instance,c=u.currentTarget;if(u=u.listener,o!==l&&n.isPropagationStopped())break e;l=u,n.currentTarget=c;try{l(n)}catch(d){gi(d)}n.currentTarget=null,l=o}else for(r=0;r<s.length;r++){if(u=s[r],o=u.instance,c=u.currentTarget,u=u.listener,o!==l&&n.isPropagationStopped())break e;l=u,n.currentTarget=c;try{l(n)}catch(d){gi(d)}n.currentTarget=null,l=o}}}}function H(e,t){var a=t[du];a===void 0&&(a=t[du]=new Set);var s=e+"__bubble";a.has(s)||(f0(t,e,2,!1),a.add(s))}function Xr(e,t,a){var s=0;t&&(s|=4),f0(a,e,s,t)}var kl="_reactListening"+Math.random().toString(36).slice(2);function sc(e){if(!e[kl]){e[kl]=!0,ih.forEach(function(a){a!=="selectionchange"&&(Kv.has(a)||Xr(a,!1,e),Xr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kl]||(t[kl]=!0,Xr("selectionchange",!1,t))}}function f0(e,t,a,s){switch(_0(t)){case 2:var n=jy;break;case 8:n=Sy;break;default:n=rc}a=n.bind(null,t,a,e),n=void 0,!pu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Qr(e,t,a,s,n){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var r=s.tag;if(r===3||r===4){var u=s.stateNode.containerInfo;if(u===n)break;if(r===4)for(r=s.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;u!==null;){if(r=ns(u),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){s=l=r;continue e}u=u.parentNode}}s=s.return}mh(function(){var c=l,d=So(a),h=[];e:{var f=Th.get(e);if(f!==void 0){var p=$i,S=e;switch(e){case"keypress":if(Pl(a)===0)break e;case"keydown":case"keyup":p=Gg;break;case"focusin":S="focus",p=_r;break;case"focusout":S="blur",p=_r;break;case"beforeblur":case"afterblur":p=_r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Vg;break;case Nh:case Eh:case Ah:p=Ug;break;case Oh:p=Qg;break;case"scroll":case"scrollend":p=Tg;break;case"wheel":p=Zg;break;case"copy":case"cut":case"paste":p=zg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Gc;break;case"toggle":case"beforetoggle":p=Fg}var m=(t&4)!==0,w=!m&&(e==="scroll"||e==="scrollend"),g=m?f!==null?f+"Capture":null:f;m=[];for(var y=c,x;y!==null;){var j=y;if(x=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||x===null||g===null||(j=Tn(y,g),j!=null&&m.push(zn(y,j,x))),w)break;y=y.return}0<m.length&&(f=new p(f,S,null,a,d),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&a!==mu&&(S=a.relatedTarget||a.fromElement)&&(ns(S)||S[Bs]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(S=a.relatedTarget||a.toElement,p=c,S=S?ns(S):null,S!==null&&(w=Fn(S),m=S.tag,S!==w||m!==5&&m!==27&&m!==6)&&(S=null)):(p=null,S=c),p!==S)){if(m=Ic,j="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=Gc,j="onPointerLeave",g="onPointerEnter",y="pointer"),w=p==null?f:nn(p),x=S==null?f:nn(S),f=new m(j,y+"leave",p,a,d),f.target=w,f.relatedTarget=x,j=null,ns(d)===c&&(m=new m(g,y+"enter",S,a,d),m.target=x,m.relatedTarget=w,j=m),w=j,p&&S)t:{for(m=p,g=S,y=0,x=m;x;x=Xa(x))y++;for(x=0,j=g;j;j=Xa(j))x++;for(;0<y-x;)m=Xa(m),y--;for(;0<x-y;)g=Xa(g),x--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Xa(m),g=Xa(g)}m=null}else m=null;p!==null&&Md(h,f,p,m,!1),S!==null&&w!==null&&Md(h,w,S,m,!0)}}e:{if(f=c?nn(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=Xc;else if(Vc(f))if(bh)N=uv;else{N=iv;var D=lv}else p=f.nodeName,!p||p.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&jo(c.elementType)&&(N=Xc):N=rv;if(N&&(N=N(e,c))){xh(h,N,a,d);break e}D&&D(e,f,c),e==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&hu(f,"number",f.value)}switch(D=c?nn(c):window,e){case"focusin":(Vc(D)||D.contentEditable==="true")&&(rs=D,gu=c,dn=null);break;case"focusout":dn=gu=rs=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,Fc(h,a,d);break;case"selectionchange":if(cv)break;case"keydown":case"keyup":Fc(h,a,d)}var v;if(Eo)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else is?vh(e,a)&&(b="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(b="onCompositionStart");b&&(gh&&a.locale!=="ko"&&(is||b!=="onCompositionStart"?b==="onCompositionEnd"&&is&&(v=ph()):(Ft=d,_o="value"in Ft?Ft.value:Ft.textContent,is=!0)),D=_i(c,b),0<D.length&&(b=new $c(b,e,null,a,d),h.push({event:b,listeners:D}),v?b.data=v:(v=yh(a),v!==null&&(b.data=v)))),(v=ev?tv(e,a):av(e,a))&&(b=_i(c,"onBeforeInput"),0<b.length&&(D=new $c("onBeforeInput","beforeinput",null,a,d),h.push({event:D,listeners:b}),D.data=v)),Vv(h,e,c,a,d)}d0(h,t)})}function zn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function _i(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,l=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||l===null||(n=Tn(e,a),n!=null&&s.unshift(zn(e,n,l)),n=Tn(e,t),n!=null&&s.push(zn(e,n,l))),e.tag===3)return s;e=e.return}return[]}function Xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Md(e,t,a,s,n){for(var l=t._reactName,r=[];a!==null&&a!==s;){var u=a,o=u.alternate,c=u.stateNode;if(u=u.tag,o!==null&&o===s)break;u!==5&&u!==26&&u!==27||c===null||(o=c,n?(c=Tn(a,l),c!=null&&r.unshift(zn(a,c,o))):n||(c=Tn(a,l),c!=null&&r.push(zn(a,c,o)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var Zv=/\r\n?/g,Jv=/\u0000|\uFFFD/g;function zd(e){return(typeof e=="string"?e:""+e).replace(Zv,`
`).replace(Jv,"")}function h0(e,t){return t=zd(t),zd(e)===t}function er(){}function J(e,t,a,s,n,l){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ns(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ns(e,""+s);break;case"className":Nl(e,"class",s);break;case"tabIndex":Nl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Nl(e,a,s);break;case"style":hh(e,s,l);break;case"data":if(t!=="object"){Nl(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Gl(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(a==="formAction"?(t!=="input"&&J(e,t,"name",n.name,n,null),J(e,t,"formEncType",n.formEncType,n,null),J(e,t,"formMethod",n.formMethod,n,null),J(e,t,"formTarget",n.formTarget,n,null)):(J(e,t,"encType",n.encType,n,null),J(e,t,"method",n.method,n,null),J(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Gl(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=er);break;case"onScroll":s!=null&&H("scroll",e);break;case"onScrollEnd":s!=null&&H("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(E(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(E(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Gl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":H("beforetoggle",e),H("toggle",e),$l(e,"popover",s);break;case"xlinkActuate":wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":wt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":wt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":wt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":wt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":$l(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ag.get(a)||a,$l(e,a,s))}}function $u(e,t,a,s,n,l){switch(a){case"style":hh(e,s,l);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(E(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(E(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ns(e,s):(typeof s=="number"||typeof s=="bigint")&&Ns(e,""+s);break;case"onScroll":s!=null&&H("scroll",e);break;case"onScrollEnd":s!=null&&H("scrollend",e);break;case"onClick":s!=null&&(e.onclick=er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),l=e[qe]||null,l=l!=null?l[a]:null,typeof l=="function"&&e.removeEventListener(t,l,n),typeof s=="function")){typeof l!="function"&&l!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):$l(e,a,s)}}}function Ae(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":H("error",e),H("load",e);var s=!1,n=!1,l;for(l in a)if(a.hasOwnProperty(l)){var r=a[l];if(r!=null)switch(l){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(E(137,t));default:J(e,t,l,r,a,null)}}n&&J(e,t,"srcSet",a.srcSet,a,null),s&&J(e,t,"src",a.src,a,null);return;case"input":H("invalid",e);var u=l=r=n=null,o=null,c=null;for(s in a)if(a.hasOwnProperty(s)){var d=a[s];if(d!=null)switch(s){case"name":n=d;break;case"type":r=d;break;case"checked":o=d;break;case"defaultChecked":c=d;break;case"value":l=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(E(137,t));break;default:J(e,t,s,d,a,null)}}ch(e,l,u,o,c,r,n,!1),li(e);return;case"select":H("invalid",e),s=r=l=null;for(n in a)if(a.hasOwnProperty(n)&&(u=a[n],u!=null))switch(n){case"value":l=u;break;case"defaultValue":r=u;break;case"multiple":s=u;default:J(e,t,n,u,a,null)}t=l,a=r,e.multiple=!!s,t!=null?ps(e,!!s,t,!1):a!=null&&ps(e,!!s,a,!0);return;case"textarea":H("invalid",e),l=n=s=null;for(r in a)if(a.hasOwnProperty(r)&&(u=a[r],u!=null))switch(r){case"value":s=u;break;case"defaultValue":n=u;break;case"children":l=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(E(91));break;default:J(e,t,r,u,a,null)}fh(e,s,n,l),li(e);return;case"option":for(o in a)if(a.hasOwnProperty(o)&&(s=a[o],s!=null))switch(o){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:J(e,t,o,s,a,null)}return;case"dialog":H("beforetoggle",e),H("toggle",e),H("cancel",e),H("close",e);break;case"iframe":case"object":H("load",e);break;case"video":case"audio":for(s=0;s<Mn.length;s++)H(Mn[s],e);break;case"image":H("error",e),H("load",e);break;case"details":H("toggle",e);break;case"embed":case"source":case"link":H("error",e),H("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in a)if(a.hasOwnProperty(c)&&(s=a[c],s!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(E(137,t));default:J(e,t,c,s,a,null)}return;default:if(jo(t)){for(d in a)a.hasOwnProperty(d)&&(s=a[d],s!==void 0&&$u(e,t,d,s,a,void 0));return}}for(u in a)a.hasOwnProperty(u)&&(s=a[u],s!=null&&J(e,t,u,s,a,null))}function Fv(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,l=null,r=null,u=null,o=null,c=null,d=null;for(p in a){var h=a[p];if(a.hasOwnProperty(p)&&h!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":o=h;default:s.hasOwnProperty(p)||J(e,t,p,null,s,h)}}for(var f in s){var p=s[f];if(h=a[f],s.hasOwnProperty(f)&&(p!=null||h!=null))switch(f){case"type":l=p;break;case"name":n=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":r=p;break;case"defaultValue":u=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(E(137,t));break;default:p!==h&&J(e,t,f,p,s,h)}}fu(e,r,u,o,c,d,l,n);return;case"select":p=r=u=f=null;for(l in a)if(o=a[l],a.hasOwnProperty(l)&&o!=null)switch(l){case"value":break;case"multiple":p=o;default:s.hasOwnProperty(l)||J(e,t,l,null,s,o)}for(n in s)if(l=s[n],o=a[n],s.hasOwnProperty(n)&&(l!=null||o!=null))switch(n){case"value":f=l;break;case"defaultValue":u=l;break;case"multiple":r=l;default:l!==o&&J(e,t,n,l,s,o)}t=u,a=r,s=p,f!=null?ps(e,!!a,f,!1):!!s!=!!a&&(t!=null?ps(e,!!a,t,!0):ps(e,!!a,a?[]:"",!1));return;case"textarea":p=f=null;for(u in a)if(n=a[u],a.hasOwnProperty(u)&&n!=null&&!s.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:J(e,t,u,null,s,n)}for(r in s)if(n=s[r],l=a[r],s.hasOwnProperty(r)&&(n!=null||l!=null))switch(r){case"value":f=n;break;case"defaultValue":p=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(E(91));break;default:n!==l&&J(e,t,r,n,s,l)}dh(e,f,p);return;case"option":for(var S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!s.hasOwnProperty(S))switch(S){case"selected":e.selected=!1;break;default:J(e,t,S,null,s,f)}for(o in s)if(f=s[o],p=a[o],s.hasOwnProperty(o)&&f!==p&&(f!=null||p!=null))switch(o){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:J(e,t,o,f,s,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in a)f=a[m],a.hasOwnProperty(m)&&f!=null&&!s.hasOwnProperty(m)&&J(e,t,m,null,s,f);for(c in s)if(f=s[c],p=a[c],s.hasOwnProperty(c)&&f!==p&&(f!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(E(137,t));break;default:J(e,t,c,f,s,p)}return;default:if(jo(t)){for(var w in a)f=a[w],a.hasOwnProperty(w)&&f!==void 0&&!s.hasOwnProperty(w)&&$u(e,t,w,void 0,s,f);for(d in s)f=s[d],p=a[d],!s.hasOwnProperty(d)||f===p||f===void 0&&p===void 0||$u(e,t,d,f,s,p);return}}for(var g in a)f=a[g],a.hasOwnProperty(g)&&f!=null&&!s.hasOwnProperty(g)&&J(e,t,g,null,s,f);for(h in s)f=s[h],p=a[h],!s.hasOwnProperty(h)||f===p||f==null&&p==null||J(e,t,h,f,s,p)}var Gu=null,Yu=null;function Ni(e){return e.nodeType===9?e:e.ownerDocument}function Ld(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kr=null;function Wv(){var e=window.event;return e&&e.type==="popstate"?e===Kr?!1:(Kr=e,!0):(Kr=null,!1)}var p0=typeof setTimeout=="function"?setTimeout:void 0,ey=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,ty=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(e){return Bd.resolve(null).then(e).catch(ay)}:p0;function ay(e){setTimeout(function(){throw e})}function va(e){return e==="head"}function qd(e,t){var a=t,s=0,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(0<s&&8>s){a=s;var r=e.ownerDocument;if(a&1&&jn(r.documentElement),a&2&&jn(r.body),a&4)for(a=r.head,jn(a),r=a.firstChild;r;){var u=r.nextSibling,o=r.nodeName;r[al]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=u}}if(n===0){e.removeChild(l),In(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:s=a.charCodeAt(0)-48;else s=0;a=l}while(a);In(t)}function Vu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vu(a),wo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function sy(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[al])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=ot(e.nextSibling),e===null)break}return null}function ny(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ot(e.nextSibling),e===null))return null;return e}function Xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function ly(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Qu=null;function Hd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function g0(e,t,a){switch(t=Ni(a),e){case"html":if(e=t.documentElement,!e)throw Error(E(452));return e;case"head":if(e=t.head,!e)throw Error(E(453));return e;case"body":if(e=t.body,!e)throw Error(E(454));return e;default:throw Error(E(451))}}function jn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);wo(e)}var lt=new Map,Id=new Set;function Ei(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Lt=X.d;X.d={f:iy,r:ry,D:uy,C:oy,L:cy,m:dy,X:hy,S:fy,M:my};function iy(){var e=Lt.f(),t=Ji();return e||t}function ry(e){var t=qs(e);t!==null&&t.tag===5&&t.type==="form"?om(t):Lt.r(e)}var $s=typeof document>"u"?null:document;function v0(e,t,a){var s=$s;if(s&&typeof t=="string"&&t){var n=et(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Id.has(n)||(Id.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),Ae(t,"link",e),we(t),s.head.appendChild(t)))}}function uy(e){Lt.D(e),v0("dns-prefetch",e,null)}function oy(e,t){Lt.C(e,t),v0("preconnect",e,t)}function cy(e,t,a){Lt.L(e,t,a);var s=$s;if(s&&e&&t){var n='link[rel="preload"][as="'+et(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+et(a.imageSizes)+'"]')):n+='[href="'+et(e)+'"]';var l=n;switch(t){case"style":l=Rs(e);break;case"script":l=Gs(e)}lt.has(l)||(e=ae({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),lt.set(l,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(fl(l))||t==="script"&&s.querySelector(hl(l))||(t=s.createElement("link"),Ae(t,"link",e),we(t),s.head.appendChild(t)))}}function dy(e,t){Lt.m(e,t);var a=$s;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+et(s)+'"][href="'+et(e)+'"]',l=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Gs(e)}if(!lt.has(l)&&(e=ae({rel:"modulepreload",href:e},t),lt.set(l,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(l)))return}s=a.createElement("link"),Ae(s,"link",e),we(s),a.head.appendChild(s)}}}function fy(e,t,a){Lt.S(e,t,a);var s=$s;if(s&&e){var n=ms(s).hoistableStyles,l=Rs(e);t=t||"default";var r=n.get(l);if(!r){var u={loading:0,preload:null};if(r=s.querySelector(fl(l)))u.loading=5;else{e=ae({rel:"stylesheet",href:e,"data-precedence":t},a),(a=lt.get(l))&&nc(e,a);var o=r=s.createElement("link");we(o),Ae(o,"link",e),o._p=new Promise(function(c,d){o.onload=c,o.onerror=d}),o.addEventListener("load",function(){u.loading|=1}),o.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Fl(r,t,s)}r={type:"stylesheet",instance:r,count:1,state:u},n.set(l,r)}}}function hy(e,t){Lt.X(e,t);var a=$s;if(a&&e){var s=ms(a).hoistableScripts,n=Gs(e),l=s.get(n);l||(l=a.querySelector(hl(n)),l||(e=ae({src:e,async:!0},t),(t=lt.get(n))&&lc(e,t),l=a.createElement("script"),we(l),Ae(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},s.set(n,l))}}function my(e,t){Lt.M(e,t);var a=$s;if(a&&e){var s=ms(a).hoistableScripts,n=Gs(e),l=s.get(n);l||(l=a.querySelector(hl(n)),l||(e=ae({src:e,async:!0,type:"module"},t),(t=lt.get(n))&&lc(e,t),l=a.createElement("script"),we(l),Ae(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},s.set(n,l))}}function $d(e,t,a,s){var n=(n=aa.current)?Ei(n):null;if(!n)throw Error(E(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Rs(a.href),a=ms(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Rs(a.href);var l=ms(n).hoistableStyles,r=l.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,r),(l=n.querySelector(fl(e)))&&!l._p&&(r.instance=l,r.state.loading=5),lt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},lt.set(e,a),l||py(n,e,a,r.state))),t&&s===null)throw Error(E(528,""));return r}if(t&&s!==null)throw Error(E(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Gs(a),a=ms(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(E(444,e))}}function Rs(e){return'href="'+et(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function y0(e){return ae({},e,{"data-precedence":e.precedence,precedence:null})}function py(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ae(t,"link",a),we(t),e.head.appendChild(t))}function Gs(e){return'[src="'+et(e)+'"]'}function hl(e){return"script[async]"+e}function Gd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+et(a.href)+'"]');if(s)return t.instance=s,we(s),s;var n=ae({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),we(s),Ae(s,"style",n),Fl(s,a.precedence,e),t.instance=s;case"stylesheet":n=Rs(a.href);var l=e.querySelector(fl(n));if(l)return t.state.loading|=4,t.instance=l,we(l),l;s=y0(a),(n=lt.get(n))&&nc(s,n),l=(e.ownerDocument||e).createElement("link"),we(l);var r=l;return r._p=new Promise(function(u,o){r.onload=u,r.onerror=o}),Ae(l,"link",s),t.state.loading|=4,Fl(l,a.precedence,e),t.instance=l;case"script":return l=Gs(a.src),(n=e.querySelector(hl(l)))?(t.instance=n,we(n),n):(s=a,(n=lt.get(l))&&(s=ae({},a),lc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),we(n),Ae(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(E(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,Fl(s,a.precedence,e));return t.instance}function Fl(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,l=n,r=0;r<s.length;r++){var u=s[r];if(u.dataset.precedence===t)l=u;else if(l!==n)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Wl=null;function Yd(e,t,a){if(Wl===null){var s=new Map,n=Wl=new Map;n.set(a,s)}else n=Wl,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var l=a[n];if(!(l[al]||l[Oe]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var r=l.getAttribute(t)||"";r=e+r;var u=s.get(r);u?u.push(l):s.set(r,[l])}}return s}function Pd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function gy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function x0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ln=null;function vy(){}function yy(e,t,a){if(Ln===null)throw Error(E(475));var s=Ln;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var n=Rs(a.href),l=e.querySelector(fl(n));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Ai.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=l,we(l);return}l=e.ownerDocument||e,a=y0(a),(n=lt.get(n))&&nc(a,n),l=l.createElement("link"),we(l);var r=l;r._p=new Promise(function(u,o){r.onload=u,r.onerror=o}),Ae(l,"link",a),t.instance=l}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=Ai.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function xy(){if(Ln===null)throw Error(E(475));var e=Ln;return e.stylesheets&&e.count===0&&Ku(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Ku(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ai(){if(this.count--,this.count===0){if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oi=null;function Ku(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oi=new Map,t.forEach(by,e),Oi=null,Ai.call(e))}function by(e,t){if(!(t.state.loading&4)){var a=Oi.get(e);if(a)var s=a.get(null);else{a=new Map,Oi.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<n.length;l++){var r=n[l];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),s=r)}s&&a.set(null,s)}n=t.instance,r=n.getAttribute("data-precedence"),l=a.get(r)||s,l===s&&a.set(null,n),a.set(r,n),this.count++,s=Ai.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),l?l.parentNode.insertBefore(n,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Bn={$$typeof:Et,Provider:null,Consumer:null,_currentValue:Aa,_currentValue2:Aa,_threadCount:0};function wy(e,t,a,s,n,l,r,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=l,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function b0(e,t,a,s,n,l,r,u,o,c,d,h){return e=new wy(e,t,a,r,u,o,c,h),t=1,l===!0&&(t|=24),l=Ye(3,null,null,t),e.current=l,l.stateNode=e,t=Ro(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:s,isDehydrated:a,cache:t},Mo(l),e}function w0(e){return e?(e=cs,e):cs}function j0(e,t,a,s,n,l){n=w0(n),s.context===null?s.context=n:s.pendingContext=n,s=sa(t),s.payload={element:a},l=l===void 0?null:l,l!==null&&(s.callback=l),a=na(e,s,t),a!==null&&(Qe(a,e,t),mn(a,e,t))}function Vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ic(e,t){Vd(e,t),(e=e.alternate)&&Vd(e,t)}function S0(e){if(e.tag===13){var t=Hs(e,67108864);t!==null&&Qe(t,e,67108864),ic(e,67108864)}}var Ti=!0;function jy(e,t,a,s){var n=U.T;U.T=null;var l=X.p;try{X.p=2,rc(e,t,a,s)}finally{X.p=l,U.T=n}}function Sy(e,t,a,s){var n=U.T;U.T=null;var l=X.p;try{X.p=8,rc(e,t,a,s)}finally{X.p=l,U.T=n}}function rc(e,t,a,s){if(Ti){var n=Zu(s);if(n===null)Qr(e,t,s,Di,a),Xd(e,s);else if(Ny(n,e,t,a,s))s.stopPropagation();else if(Xd(e,s),t&4&&-1<_y.indexOf(e)){for(;n!==null;){var l=qs(n);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var r=ja(l.pendingLanes);if(r!==0){var u=l;for(u.pendingLanes|=2,u.entangledLanes|=2;r;){var o=1<<31-Ve(r);u.entanglements[1]|=o,r&=~o}bt(l),!(Z&6)&&(bi=gt()+500,dl(0))}}break;case 13:u=Hs(l,2),u!==null&&Qe(u,l,2),Ji(),ic(l,2)}if(l=Zu(s),l===null&&Qr(e,t,s,Di,a),l===n)break;n=l}n!==null&&s.stopPropagation()}else Qr(e,t,s,null,a)}}function Zu(e){return e=So(e),uc(e)}var Di=null;function uc(e){if(Di=null,e=ns(e),e!==null){var t=Fn(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Qf(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Di=e,null}function _0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(og()){case Ff:return 2;case Wf:return 8;case ni:case cg:return 32;case eh:return 268435456;default:return 32}default:return 32}}var Ju=!1,ra=null,ua=null,oa=null,qn=new Map,Hn=new Map,Kt=[],_y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xd(e,t){switch(e){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(t.pointerId)}}function en(e,t,a,s,n,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:l,targetContainers:[n]},t!==null&&(t=qs(t),t!==null&&S0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Ny(e,t,a,s,n){switch(t){case"focusin":return ra=en(ra,e,t,a,s,n),!0;case"dragenter":return ua=en(ua,e,t,a,s,n),!0;case"mouseover":return oa=en(oa,e,t,a,s,n),!0;case"pointerover":var l=n.pointerId;return qn.set(l,en(qn.get(l)||null,e,t,a,s,n)),!0;case"gotpointercapture":return l=n.pointerId,Hn.set(l,en(Hn.get(l)||null,e,t,a,s,n)),!0}return!1}function N0(e){var t=ns(e.target);if(t!==null){var a=Fn(t);if(a!==null){if(t=a.tag,t===13){if(t=Qf(a),t!==null){e.blockedOn=t,yg(e.priority,function(){if(a.tag===13){var s=Xe();s=xo(s);var n=Hs(a,s);n!==null&&Qe(n,a,s),ic(a,s)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ei(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Zu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);mu=s,a.target.dispatchEvent(s),mu=null}else return t=qs(a),t!==null&&S0(t),e.blockedOn=a,!1;t.shift()}return!0}function Qd(e,t,a){ei(e)&&a.delete(t)}function Ey(){Ju=!1,ra!==null&&ei(ra)&&(ra=null),ua!==null&&ei(ua)&&(ua=null),oa!==null&&ei(oa)&&(oa=null),qn.forEach(Qd),Hn.forEach(Qd)}function Rl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ju||(Ju=!0,ve.unstable_scheduleCallback(ve.unstable_NormalPriority,Ey)))}var Ul=null;function Kd(e){Ul!==e&&(Ul=e,ve.unstable_scheduleCallback(ve.unstable_NormalPriority,function(){Ul===e&&(Ul=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(uc(s||a)===null)continue;break}var l=qs(a);l!==null&&(e.splice(t,3),t-=3,Du(l,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function In(e){function t(o){return Rl(o,e)}ra!==null&&Rl(ra,e),ua!==null&&Rl(ua,e),oa!==null&&Rl(oa,e),qn.forEach(t),Hn.forEach(t);for(var a=0;a<Kt.length;a++){var s=Kt[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Kt.length&&(a=Kt[0],a.blockedOn===null);)N0(a),a.blockedOn===null&&Kt.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],l=a[s+1],r=n[qe]||null;if(typeof l=="function")r||Kd(a);else if(r){var u=null;if(l&&l.hasAttribute("formAction")){if(n=l,r=l[qe]||null)u=r.formAction;else if(uc(n)!==null)continue}else u=r.action;typeof u=="function"?a[s+1]=u:(a.splice(s,3),s-=3),Kd(a)}}}function oc(e){this._internalRoot=e}tr.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));var a=t.current,s=Xe();j0(a,s,e,t,null,null)};tr.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;j0(e.current,2,null,e,null,null),Ji(),t[Bs]=null}};function tr(e){this._internalRoot=e}tr.prototype.unstable_scheduleHydration=function(e){if(e){var t=lh();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Kt.length&&t!==0&&t<Kt[a].priority;a++);Kt.splice(a,0,e),a===0&&N0(e)}};var Zd=Vf.version;if(Zd!=="19.1.0")throw Error(E(527,Zd,"19.1.0"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=ag(t),e=e!==null?Kf(e):null,e=e===null?null:e.stateNode,e};var Ay={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Wn=Ml.inject(Ay),Pe=Ml}catch{}}qi.createRoot=function(e,t){if(!Xf(e))throw Error(E(299));var a=!1,s="",n=bm,l=wm,r=jm,u=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(u=t.unstable_transitionCallbacks)),t=b0(e,1,!1,null,null,a,s,n,l,r,u,null),e[Bs]=t.current,sc(e),new oc(t)};qi.hydrateRoot=function(e,t,a){if(!Xf(e))throw Error(E(299));var s=!1,n="",l=bm,r=wm,u=jm,o=null,c=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(l=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(u=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(o=a.unstable_transitionCallbacks),a.formState!==void 0&&(c=a.formState)),t=b0(e,1,!0,t,a??null,s,n,l,r,u,o,c),t.context=w0(null),a=t.current,s=Xe(),s=xo(s),n=sa(s),n.callback=null,na(a,n,s),a=s,t.current.lanes=a,tl(t,a),bt(t),e[Bs]=t.current,sc(e),new tr(t)};qi.version="19.1.0";function E0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E0)}catch(e){console.error(e)}}E0(),Hf.exports=qi;var Oy=Hf.exports;const A0=Df(Oy);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},$n.apply(this,arguments)}var ta;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ta||(ta={}));const Jd="popstate";function Ty(e){e===void 0&&(e={});function t(n,l){let{pathname:r="/",search:u="",hash:o=""}=$a(n.location.hash.substr(1));return!r.startsWith("/")&&!r.startsWith(".")&&(r="/"+r),Fu("",{pathname:r,search:u,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(n,l){let r=n.document.querySelector("base"),u="";if(r&&r.getAttribute("href")){let o=n.location.href,c=o.indexOf("#");u=c===-1?o:o.slice(0,c)}return u+"#"+(typeof l=="string"?l:Ci(l))}function s(n,l){cc(n.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return Cy(t,a,s,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dy(){return Math.random().toString(36).substr(2,8)}function Fd(e,t){return{usr:e.state,key:e.key,idx:t}}function Fu(e,t,a,s){return a===void 0&&(a=null),$n({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$a(t):t,{state:a,key:t&&t.key||s||Dy()})}function Ci(e){let{pathname:t="/",search:a="",hash:s=""}=e;return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function $a(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Cy(e,t,a,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:l=!1}=s,r=n.history,u=ta.Pop,o=null,c=d();c==null&&(c=0,r.replaceState($n({},r.state,{idx:c}),""));function d(){return(r.state||{idx:null}).idx}function h(){u=ta.Pop;let w=d(),g=w==null?null:w-c;c=w,o&&o({action:u,location:m.location,delta:g})}function f(w,g){u=ta.Push;let y=Fu(m.location,w,g);a&&a(y,w),c=d()+1;let x=Fd(y,c),j=m.createHref(y);try{r.pushState(x,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(j)}l&&o&&o({action:u,location:m.location,delta:1})}function p(w,g){u=ta.Replace;let y=Fu(m.location,w,g);a&&a(y,w),c=d();let x=Fd(y,c),j=m.createHref(y);r.replaceState(x,"",j),l&&o&&o({action:u,location:m.location,delta:0})}function S(w){let g=n.location.origin!=="null"?n.location.origin:n.location.href,y=typeof w=="string"?w:Ci(w);return y=y.replace(/ $/,"%20"),me(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return u},get location(){return e(n,r)},listen(w){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(Jd,h),o=w,()=>{n.removeEventListener(Jd,h),o=null}},createHref(w){return t(n,w)},createURL:S,encodeLocation(w){let g=S(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return r.go(w)}};return m}var Wd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wd||(Wd={}));function ky(e,t,a){return a===void 0&&(a="/"),Ry(e,t,a)}function Ry(e,t,a,s){let n=typeof t=="string"?$a(t):t,l=dc(n.pathname||"/",a);if(l==null)return null;let r=O0(e);Uy(r);let u=null;for(let o=0;u==null&&o<r.length;++o){let c=Vy(l);u=Gy(r[o],c)}return u}function O0(e,t,a,s){t===void 0&&(t=[]),a===void 0&&(a=[]),s===void 0&&(s="");let n=(l,r,u)=>{let o={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:r,route:l};o.relativePath.startsWith("/")&&(me(o.relativePath.startsWith(s),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(s.length));let c=ca([s,o.relativePath]),d=a.concat(o);l.children&&l.children.length>0&&(me(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),O0(l.children,t,d,c)),!(l.path==null&&!l.index)&&t.push({path:c,score:Iy(c,l.index),routesMeta:d})};return e.forEach((l,r)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))n(l,r);else for(let o of T0(l.path))n(l,r,o)}),t}function T0(e){let t=e.split("/");if(t.length===0)return[];let[a,...s]=t,n=a.endsWith("?"),l=a.replace(/\?$/,"");if(s.length===0)return n?[l,""]:[l];let r=T0(s.join("/")),u=[];return u.push(...r.map(o=>o===""?l:[l,o].join("/"))),n&&u.push(...r),u.map(o=>e.startsWith("/")&&o===""?"/":o)}function Uy(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:$y(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const My=/^:[\w-]+$/,zy=3,Ly=2,By=1,qy=10,Hy=-2,ef=e=>e==="*";function Iy(e,t){let a=e.split("/"),s=a.length;return a.some(ef)&&(s+=Hy),t&&(s+=Ly),a.filter(n=>!ef(n)).reduce((n,l)=>n+(My.test(l)?zy:l===""?By:qy),s)}function $y(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function Gy(e,t,a){let{routesMeta:s}=e,n={},l="/",r=[];for(let u=0;u<s.length;++u){let o=s[u],c=u===s.length-1,d=l==="/"?t:t.slice(l.length)||"/",h=Yy({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},d),f=o.route;if(!h)return null;Object.assign(n,h.params),r.push({params:n,pathname:ca([l,h.pathname]),pathnameBase:Zy(ca([l,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(l=ca([l,h.pathnameBase]))}return r}function Yy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,s]=Py(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let l=n[0],r=l.replace(/(.)\/+$/,"$1"),u=n.slice(1);return{params:s.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=u[h]||"";r=l.slice(0,l.length-m.length).replace(/(.)\/+$/,"$1")}const S=u[h];return p&&!S?c[f]=void 0:c[f]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:r,pattern:e}}function Py(e,t,a){t===void 0&&(t=!1),a===void 0&&(a=!0),cc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,u,o)=>(s.push({paramName:u,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function Vy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=e.charAt(a);return s&&s!=="/"?null:e.slice(a)||"/"}function Xy(e,t){t===void 0&&(t="/");let{pathname:a,search:s="",hash:n=""}=typeof e=="string"?$a(e):e;return{pathname:a?a.startsWith("/")?a:Qy(a,t):t,search:Jy(s),hash:Fy(n)}}function Qy(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Zr(e,t,a,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ky(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function D0(e,t){let a=Ky(e);return t?a.map((s,n)=>n===a.length-1?s.pathname:s.pathnameBase):a.map(s=>s.pathnameBase)}function C0(e,t,a,s){s===void 0&&(s=!1);let n;typeof e=="string"?n=$a(e):(n=$n({},e),me(!n.pathname||!n.pathname.includes("?"),Zr("?","pathname","search",n)),me(!n.pathname||!n.pathname.includes("#"),Zr("#","pathname","hash",n)),me(!n.search||!n.search.includes("#"),Zr("#","search","hash",n)));let l=e===""||n.pathname==="",r=l?"/":n.pathname,u;if(r==null)u=a;else{let h=t.length-1;if(!s&&r.startsWith("..")){let f=r.split("/");for(;f[0]==="..";)f.shift(),h-=1;n.pathname=f.join("/")}u=h>=0?t[h]:"/"}let o=Xy(n,u),c=r&&r!=="/"&&r.endsWith("/"),d=(l||r===".")&&a.endsWith("/");return!o.pathname.endsWith("/")&&(c||d)&&(o.pathname+="/"),o}const ca=e=>e.join("/").replace(/\/\/+/g,"/"),Zy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const k0=["post","put","patch","delete"];new Set(k0);const ex=["get",...k0];new Set(ex);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Gn.apply(this,arguments)}const fc=_.createContext(null),tx=_.createContext(null),Ga=_.createContext(null),ar=_.createContext(null),Ya=_.createContext({outlet:null,matches:[],isDataRoute:!1}),R0=_.createContext(null);function ax(e,t){let{relative:a}=t===void 0?{}:t;ml()||me(!1);let{basename:s,navigator:n}=_.useContext(Ga),{hash:l,pathname:r,search:u}=M0(e,{relative:a}),o=r;return s!=="/"&&(o=r==="/"?s:ca([s,r])),n.createHref({pathname:o,search:u,hash:l})}function ml(){return _.useContext(ar)!=null}function Ys(){return ml()||me(!1),_.useContext(ar).location}function U0(e){_.useContext(Ga).static||_.useLayoutEffect(e)}function hc(){let{isDataRoute:e}=_.useContext(Ya);return e?px():sx()}function sx(){ml()||me(!1);let e=_.useContext(fc),{basename:t,future:a,navigator:s}=_.useContext(Ga),{matches:n}=_.useContext(Ya),{pathname:l}=Ys(),r=JSON.stringify(D0(n,a.v7_relativeSplatPath)),u=_.useRef(!1);return U0(()=>{u.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!u.current)return;if(typeof c=="number"){s.go(c);return}let h=C0(c,JSON.parse(r),l,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ca([t,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[t,s,r,l,e])}function M0(e,t){let{relative:a}=t===void 0?{}:t,{future:s}=_.useContext(Ga),{matches:n}=_.useContext(Ya),{pathname:l}=Ys(),r=JSON.stringify(D0(n,s.v7_relativeSplatPath));return _.useMemo(()=>C0(e,JSON.parse(r),l,a==="path"),[e,r,l,a])}function nx(e,t){return lx(e,t)}function lx(e,t,a,s){ml()||me(!1);let{navigator:n}=_.useContext(Ga),{matches:l}=_.useContext(Ya),r=l[l.length-1],u=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let c=Ys(),d;if(t){var h;let w=typeof t=="string"?$a(t):t;o==="/"||(h=w.pathname)!=null&&h.startsWith(o)||me(!1),d=w}else d=c;let f=d.pathname||"/",p=f;if(o!=="/"){let w=o.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let S=ky(e,{pathname:p}),m=cx(S&&S.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:ca([o,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?o:ca([o,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,a,s);return t&&m?_.createElement(ar.Provider,{value:{location:Gn({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ta.Pop}},m):m}function ix(){let e=mx(),t=Wy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),a?_.createElement("pre",{style:n},a):null,null)}const rx=_.createElement(ix,null);class ux extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?_.createElement(Ya.Provider,{value:this.props.routeContext},_.createElement(R0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ox(e){let{routeContext:t,match:a,children:s}=e,n=_.useContext(fc);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),_.createElement(Ya.Provider,{value:t},s)}function cx(e,t,a,s){var n;if(t===void 0&&(t=[]),a===void 0&&(a=null),s===void 0&&(s=null),e==null){var l;if(!a)return null;if(a.errors)e=a.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let r=e,u=(n=a)==null?void 0:n.errors;if(u!=null){let d=r.findIndex(h=>h.route.id&&(u==null?void 0:u[h.route.id])!==void 0);d>=0||me(!1),r=r.slice(0,Math.min(r.length,d+1))}let o=!1,c=-1;if(a&&s&&s.v7_partialHydration)for(let d=0;d<r.length;d++){let h=r[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=a,S=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||S){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((d,h,f)=>{let p,S=!1,m=null,w=null;a&&(p=u&&h.route.id?u[h.route.id]:void 0,m=h.route.errorElement||rx,o&&(c<0&&f===0?(gx("route-fallback"),S=!0,w=null):c===f&&(S=!0,w=h.route.hydrateFallbackElement||null)));let g=t.concat(r.slice(0,f+1)),y=()=>{let x;return p?x=m:S?x=w:h.route.Component?x=_.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,_.createElement(ox,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:a!=null},children:x})};return a&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(ux,{location:a.location,revalidation:a.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var z0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(z0||{}),L0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(L0||{});function dx(e){let t=_.useContext(fc);return t||me(!1),t}function fx(e){let t=_.useContext(tx);return t||me(!1),t}function hx(e){let t=_.useContext(Ya);return t||me(!1),t}function B0(e){let t=hx(),a=t.matches[t.matches.length-1];return a.route.id||me(!1),a.route.id}function mx(){var e;let t=_.useContext(R0),a=fx(),s=B0();return t!==void 0?t:(e=a.errors)==null?void 0:e[s]}function px(){let{router:e}=dx(z0.UseNavigateStable),t=B0(L0.UseNavigateStable),a=_.useRef(!1);return U0(()=>{a.current=!0}),_.useCallback(function(n,l){l===void 0&&(l={}),a.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Gn({fromRouteId:t},l)))},[e,t])}const tf={};function gx(e,t,a){tf[e]||(tf[e]=!0)}function vx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ut(e){me(!1)}function yx(e){let{basename:t="/",children:a=null,location:s,navigationType:n=ta.Pop,navigator:l,static:r=!1,future:u}=e;ml()&&me(!1);let o=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:o,navigator:l,static:r,future:Gn({v7_relativeSplatPath:!1},u)}),[o,u,l,r]);typeof s=="string"&&(s=$a(s));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:S="default"}=s,m=_.useMemo(()=>{let w=dc(d,o);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:S},navigationType:n}},[o,d,h,f,p,S,n]);return m==null?null:_.createElement(Ga.Provider,{value:c},_.createElement(ar.Provider,{children:a,value:m}))}function q0(e){let{children:t,location:a}=e;return nx(Wu(t),a)}new Promise(()=>{});function Wu(e,t){t===void 0&&(t=[]);let a=[];return _.Children.forEach(e,(s,n)=>{if(!_.isValidElement(s))return;let l=[...t,n];if(s.type===_.Fragment){a.push.apply(a,Wu(s.props.children,l));return}s.type!==ut&&me(!1),!s.props.index||!s.props.children||me(!1);let r={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(r.children=Wu(s.props.children,l)),a.push(r)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},eo.apply(this,arguments)}function xx(e,t){if(e==null)return{};var a={},s=Object.keys(e),n,l;for(l=0;l<s.length;l++)n=s[l],!(t.indexOf(n)>=0)&&(a[n]=e[n]);return a}function bx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wx(e,t){return e.button===0&&(!t||t==="_self")&&!bx(e)}const jx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sx="6";try{window.__reactRouterVersion=Sx}catch{}const _x="startTransition",af=Kp[_x];function H0(e){let{basename:t,children:a,future:s,window:n}=e,l=_.useRef();l.current==null&&(l.current=Ty({window:n,v5Compat:!0}));let r=l.current,[u,o]=_.useState({action:r.action,location:r.location}),{v7_startTransition:c}=s||{},d=_.useCallback(h=>{c&&af?af(()=>o(h)):o(h)},[o,c]);return _.useLayoutEffect(()=>r.listen(d),[r,d]),_.useEffect(()=>vx(s),[s]),_.createElement(yx,{basename:t,children:a,location:u.location,navigationType:u.action,navigator:r,future:s})}const Nx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I0=_.forwardRef(function(t,a){let{onClick:s,relative:n,reloadDocument:l,replace:r,state:u,target:o,to:c,preventScrollReset:d,viewTransition:h}=t,f=xx(t,jx),{basename:p}=_.useContext(Ga),S,m=!1;if(typeof c=="string"&&Ex.test(c)&&(S=c,Nx))try{let x=new URL(window.location.href),j=c.startsWith("//")?new URL(x.protocol+c):new URL(c),N=dc(j.pathname,p);j.origin===x.origin&&N!=null?c=N+j.search+j.hash:m=!0}catch{}let w=ax(c,{relative:n}),g=Ax(c,{replace:r,state:u,target:o,preventScrollReset:d,relative:n,viewTransition:h});function y(x){s&&s(x),x.defaultPrevented||g(x)}return _.createElement("a",eo({},f,{href:S||w,onClick:m||l?s:y,ref:a,target:o}))});var sf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sf||(sf={}));var nf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nf||(nf={}));function Ax(e,t){let{target:a,replace:s,state:n,preventScrollReset:l,relative:r,viewTransition:u}=t===void 0?{}:t,o=hc(),c=Ys(),d=M0(e,{relative:r});return _.useCallback(h=>{if(wx(h,a)){h.preventDefault();let f=s!==void 0?s:Ci(c)===Ci(d);o(e,{replace:f,state:n,preventScrollReset:l,relative:r,viewTransition:u})}},[c,o,d,s,n,a,e,l,r,u])}var ki=(e=>(e.SIDAMA="Sidama",e.YIRGACHEFFE="Yirgacheffe",e.GUJI="Guji",e.HARRAR="Harrar",e.LIMU="Limu",e.OTHER="Other",e))(ki||{}),Us=(e=>(e.LEAD="Lead",e.ACTIVE="Active",e.REPEAT="Repeat",e.DORMANT="Dormant",e))(Us||{}),Ri=(e=>(e.ORGANIC="Organic",e.FAIR_TRADE="Fair Trade",e.RAINFOREST_ALLIANCE="Rainforest Alliance",e.UTZ="UTZ Certified",e))(Ri||{}),Ms=(e=>(e.PENDING="Pending",e.SHIPPED="Shipped",e.DELIVERED="Delivered",e))(Ms||{}),mc=(e=>(e.LC="Letter of Credit",e.WIRE="Wire Transfer",e.CASH="Cash",e))(mc||{}),P=(e=>(e.PAID="Paid",e.PARTIAL="Partial",e.UNPAID="Unpaid",e.OVERDUE="Overdue",e))(P||{}),Yn=(e=>(e.LOGISTICS="Logistics",e.FARMER_PAYMENT="Farmer Payment",e.ADMIN="Admin",e.PACKAGING="Packaging",e.MARKETING="Marketing",e.OTHER="Other",e))(Yn||{});const Ox="modulepreload",Tx=function(e){return"/coffee-manager-dashboard/"+e},lf={},pl=function(t,a,s){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),u=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));n=Promise.allSettled(a.map(o=>{if(o=Tx(o),o in lf)return;lf[o]=!0;const c=o.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Ox,c||(h.as="script"),h.crossOrigin="",h.href=o,u&&h.setAttribute("nonce",u),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function l(r){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=r,window.dispatchEvent(u),!u.defaultPrevented)throw r}return n.then(r=>{for(const u of r||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})},Dx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>pl(async()=>{const{default:s}=await Promise.resolve().then(()=>Ps);return{default:s}},void 0).then(({default:s})=>s(...a)):t=fetch,(...a)=>t(...a)};class pc extends Error{constructor(t,a="FunctionsError",s){super(t),this.name=a,this.context=s}}class Cx extends pc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kx extends pc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Rx extends pc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var to;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(to||(to={}));var Ux=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function u(d){try{c(s.next(d))}catch(h){r(h)}}function o(d){try{c(s.throw(d))}catch(h){r(h)}}function c(d){d.done?l(d.value):n(d.value).then(u,o)}c((s=s.apply(e,t||[])).next())})};class Mx{constructor(t,{headers:a={},customFetch:s,region:n=to.Any}={}){this.url=t,this.headers=a,this.region=n,this.fetch=Dx(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,a={}){var s;return Ux(this,void 0,void 0,function*(){try{const{headers:n,method:l,body:r}=a;let u={},{region:o}=a;o||(o=this.region),o&&o!=="any"&&(u["x-region"]=o);let c;r&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=r):typeof r=="string"?(u["Content-Type"]="text/plain",c=r):typeof FormData<"u"&&r instanceof FormData?c=r:(u["Content-Type"]="application/json",c=JSON.stringify(r)));const d=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),n),body:c}).catch(S=>{throw new Cx(S)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new kx(d);if(!d.ok)throw new Rx(d);let f=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}var Be={},gc={},sr={},gl={},nr={},lr={},zx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zs=zx();const Lx=zs.fetch,$0=zs.fetch.bind(zs),G0=zs.Headers,Bx=zs.Request,qx=zs.Response,Ps=Object.freeze(Object.defineProperty({__proto__:null,Headers:G0,Request:Bx,Response:qx,default:$0,fetch:Lx},Symbol.toStringTag,{value:"Module"})),Hx=Cp(Ps);var ir={};Object.defineProperty(ir,"__esModule",{value:!0});let Ix=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ir.default=Ix;var Y0=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lr,"__esModule",{value:!0});const $x=Y0(Hx),Gx=Y0(ir);let Yx=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=$x.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,a){return this.headers=Object.assign({},this.headers),this.headers[t]=a,this}then(t,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var r,u,o;let c=null,d=null,h=null,f=l.status,p=l.statusText;if(l.ok){if(this.method!=="HEAD"){const g=await l.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const m=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),w=(u=l.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");m&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await l.text();try{c=JSON.parse(m),Array.isArray(c)&&l.status===404&&(d=[],c=null,f=200,p="OK")}catch{l.status===404&&m===""?(f=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((o=c==null?void 0:c.details)===null||o===void 0)&&o.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new Gx.default(c)}return{error:c,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(n=n.catch(l=>{var r,u,o;return{error:{message:`${(r=l==null?void 0:l.name)!==null&&r!==void 0?r:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(o=l==null?void 0:l.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,a)}returns(){return this}overrideTypes(){return this}};lr.default=Yx;var Px=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nr,"__esModule",{value:!0});const Vx=Px(lr);let Xx=class extends Vx.default{select(t){let a=!1;const s=(t??"*").split("").map(n=>/\s/.test(n)&&!a?"":(n==='"'&&(a=!a),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:a=!0,nullsFirst:s,foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.order`:"order",u=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${u?`${u},`:""}${t}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:a,referencedTable:s=a}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,a,{foreignTable:s,referencedTable:n=s}={}){const l=typeof n>"u"?"offset":`${n}.offset`,r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(r,`${a-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:a=!1,settings:s=!1,buffers:n=!1,wal:l=!1,format:r="text"}={}){var u;const o=[t?"analyze":null,a?"verbose":null,s?"settings":null,n?"buffers":null,l?"wal":null].filter(Boolean).join("|"),c=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${c}"; options=${o};`,r==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};nr.default=Xx;var Qx=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gl,"__esModule",{value:!0});const Kx=Qx(nr);let Zx=class extends Kx.default{eq(t,a){return this.url.searchParams.append(t,`eq.${a}`),this}neq(t,a){return this.url.searchParams.append(t,`neq.${a}`),this}gt(t,a){return this.url.searchParams.append(t,`gt.${a}`),this}gte(t,a){return this.url.searchParams.append(t,`gte.${a}`),this}lt(t,a){return this.url.searchParams.append(t,`lt.${a}`),this}lte(t,a){return this.url.searchParams.append(t,`lte.${a}`),this}like(t,a){return this.url.searchParams.append(t,`like.${a}`),this}likeAllOf(t,a){return this.url.searchParams.append(t,`like(all).{${a.join(",")}}`),this}likeAnyOf(t,a){return this.url.searchParams.append(t,`like(any).{${a.join(",")}}`),this}ilike(t,a){return this.url.searchParams.append(t,`ilike.${a}`),this}ilikeAllOf(t,a){return this.url.searchParams.append(t,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(t,a){return this.url.searchParams.append(t,`ilike(any).{${a.join(",")}}`),this}is(t,a){return this.url.searchParams.append(t,`is.${a}`),this}in(t,a){const s=Array.from(new Set(a)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cs.{${a.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(a)}`),this}containedBy(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cd.{${a.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(a)}`),this}rangeGt(t,a){return this.url.searchParams.append(t,`sr.${a}`),this}rangeGte(t,a){return this.url.searchParams.append(t,`nxl.${a}`),this}rangeLt(t,a){return this.url.searchParams.append(t,`sl.${a}`),this}rangeLte(t,a){return this.url.searchParams.append(t,`nxr.${a}`),this}rangeAdjacent(t,a){return this.url.searchParams.append(t,`adj.${a}`),this}overlaps(t,a){return typeof a=="string"?this.url.searchParams.append(t,`ov.${a}`):this.url.searchParams.append(t,`ov.{${a.join(",")}}`),this}textSearch(t,a,{config:s,type:n}={}){let l="";n==="plain"?l="pl":n==="phrase"?l="ph":n==="websearch"&&(l="w");const r=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${l}fts${r}.${a}`),this}match(t){return Object.entries(t).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(t,a,s){return this.url.searchParams.append(t,`not.${a}.${s}`),this}or(t,{foreignTable:a,referencedTable:s=a}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,a,s){return this.url.searchParams.append(t,`${a}.${s}`),this}};gl.default=Zx;var Jx=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sr,"__esModule",{value:!0});const tn=Jx(gl);let Fx=class{constructor(t,{headers:a={},schema:s,fetch:n}){this.url=t,this.headers=a,this.schema=s,this.fetch=n}select(t,{head:a=!1,count:s}={}){const n=a?"HEAD":"GET";let l=!1;const r=(t??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",r),s&&(this.headers.Prefer=`count=${s}`),new tn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:a,defaultToNull:s=!0}={}){const n="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const r=t.reduce((u,o)=>u.concat(Object.keys(o)),[]);if(r.length>0){const u=[...new Set(r)].map(o=>`"${o}"`);this.url.searchParams.set("columns",u.join(","))}}return new tn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:a,ignoreDuplicates:s=!1,count:n,defaultToNull:l=!0}={}){const r="POST",u=[`resolution=${s?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&u.push(this.headers.Prefer),n&&u.push(`count=${n}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(t)){const o=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(o.length>0){const c=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new tn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:a}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),a&&n.push(`count=${a}`),this.headers.Prefer=n.join(","),new tn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const a="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new tn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};sr.default=Fx;var rr={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.version=void 0;ur.version="0.0.0-automated";Object.defineProperty(rr,"__esModule",{value:!0});rr.DEFAULT_HEADERS=void 0;const Wx=ur;rr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Wx.version}`};var P0=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gc,"__esModule",{value:!0});const eb=P0(sr),tb=P0(gl),ab=rr;let sb=class V0{constructor(t,{headers:a={},schema:s,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},ab.DEFAULT_HEADERS),a),this.schemaName=s,this.fetch=n}from(t){const a=new URL(`${this.url}/${t}`);return new eb.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new V0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:s=!1,get:n=!1,count:l}={}){let r;const u=new URL(`${this.url}/rpc/${t}`);let o;s||n?(r=s?"HEAD":"GET",Object.entries(a).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{u.searchParams.append(d,h)})):(r="POST",o=a);const c=Object.assign({},this.headers);return l&&(c.Prefer=`count=${l}`),new tb.default({method:r,url:u,headers:c,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};gc.default=sb;var Vs=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const X0=Vs(gc);Be.PostgrestClient=X0.default;const Q0=Vs(sr);Be.PostgrestQueryBuilder=Q0.default;const K0=Vs(gl);Be.PostgrestFilterBuilder=K0.default;const Z0=Vs(nr);Be.PostgrestTransformBuilder=Z0.default;const J0=Vs(lr);Be.PostgrestBuilder=J0.default;const F0=Vs(ir);Be.PostgrestError=F0.default;var nb=Be.default={PostgrestClient:X0.default,PostgrestQueryBuilder:Q0.default,PostgrestFilterBuilder:K0.default,PostgrestTransformBuilder:Z0.default,PostgrestBuilder:J0.default,PostgrestError:F0.default};const{PostgrestClient:lb,PostgrestQueryBuilder:Aw,PostgrestFilterBuilder:Ow,PostgrestTransformBuilder:Tw,PostgrestBuilder:Dw,PostgrestError:Cw}=nb;let ao;typeof window>"u"?ao=require("ws"):ao=window.WebSocket;const ib="2.11.10",rb={"X-Client-Info":`realtime-js/${ib}`},ub="1.0.0",W0=1e4,ob=1e3;var js;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(js||(js={}));var De;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(De||(De={}));var rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rt||(rt={}));var so;(function(e){e.websocket="websocket"})(so||(so={}));var Ea;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ea||(Ea={}));class cb{constructor(){this.HEADER_LENGTH=1}decode(t,a){return t.constructor===ArrayBuffer?a(this._binaryDecode(t)):a(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const a=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,a,s)}_decodeBroadcast(t,a,s){const n=a.getUint8(1),l=a.getUint8(2);let r=this.HEADER_LENGTH+2;const u=s.decode(t.slice(r,r+n));r=r+n;const o=s.decode(t.slice(r,r+l));r=r+l;const c=JSON.parse(s.decode(t.slice(r,t.byteLength)));return{ref:null,topic:u,event:o,payload:c}}}class ep{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const rf=(e,t,a={})=>{var s;const n=(s=a.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((l,r)=>(l[r]=db(r,e,t,n),l),{})},db=(e,t,a,s)=>{const n=t.find(u=>u.name===e),l=n==null?void 0:n.type,r=a[e];return l&&!s.includes(l)?tp(l,r):no(r)},tp=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return pb(t,a)}switch(e){case ee.bool:return fb(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return hb(t);case ee.json:case ee.jsonb:return mb(t);case ee.timestamp:return gb(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return no(t);default:return no(t)}},no=e=>e,fb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pb=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,s=e[a];if(e[0]==="{"&&s==="}"){let l;const r=e.slice(1,a);try{l=JSON.parse("["+r+"]")}catch{l=r?r.split(","):[]}return l.map(u=>tp(t,u))}return e},gb=e=>typeof e=="string"?e.replace(" ","T"):e,ap=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Jr{constructor(t,a,s={},n=W0){this.channel=t,this.event=a,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var s;return this._hasReceived(t)&&a((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var uf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uf||(uf={}));class Sn{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:l,onLeave:r,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sn.syncState(this.state,n,l,r),this.pendingDiffs.forEach(o=>{this.state=Sn.syncDiff(this.state,o,l,r)}),this.pendingDiffs=[],u()}),this.channel._on(s.diff,{},n=>{const{onJoin:l,onLeave:r,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Sn.syncDiff(this.state,n,l,r),u())}),this.onJoin((n,l,r)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:l,newPresences:r})}),this.onLeave((n,l,r)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:l,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,s,n){const l=this.cloneDeep(t),r=this.transformState(a),u={},o={};return this.map(l,(c,d)=>{r[c]||(o[c]=d)}),this.map(r,(c,d)=>{const h=l[c];if(h){const f=d.map(w=>w.presence_ref),p=h.map(w=>w.presence_ref),S=d.filter(w=>p.indexOf(w.presence_ref)<0),m=h.filter(w=>f.indexOf(w.presence_ref)<0);S.length>0&&(u[c]=S),m.length>0&&(o[c]=m)}else u[c]=d}),this.syncDiff(l,{joins:u,leaves:o},s,n)}static syncDiff(t,a,s,n){const{joins:l,leaves:r}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(l,(u,o)=>{var c;const d=(c=t[u])!==null&&c!==void 0?c:[];if(t[u]=this.cloneDeep(o),d.length>0){const h=t[u].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[u].unshift(...f)}s(u,d,o)}),this.map(r,(u,o)=>{let c=t[u];if(!c)return;const d=o.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[u]=c,n(u,c,o),c.length===0&&delete t[u]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(s=>a(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,s)=>{const n=t[s];return"metas"in n?a[s]=n.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):a[s]=n,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var of;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(of||(of={}));var cf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cf||(cf={}));var _t;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_t||(_t={}));class vc{constructor(t,a={config:{}},s){this.topic=t,this.params=a,this.socket=s,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Jr(this,rt.join,this.params,this.timeout),this.rejoinTimer=new ep(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(n,l)=>{this._trigger(this._replyEventName(l),n)}),this.presence=new Sn(this),this.broadcastEndpointURL=ap(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,a=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:r,private:u}}=this.params;this._onError(d=>t==null?void 0:t(_t.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(_t.CLOSED));const o={},c={broadcast:l,presence:r,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&n!==void 0?n:[],private:u};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},o)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(_t.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,S=[];for(let m=0;m<p;m++){const w=f[m],{filter:{event:g,schema:y,table:x,filter:j}}=w,N=d&&d[m];if(N&&N.event===g&&N.schema===y&&N.table===x&&N.filter===j)S.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=De.errored,t==null||t(_t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(_t.SUBSCRIBED);return}}).receive("error",d=>{this.state=De.errored,t==null||t(_t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,s){return this._on(t,a,s)}async send(t,a={}){var s,n;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var r,u,o;const c=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(u=(r=this.params)===null||r===void 0?void 0:r.config)===null||u===void 0?void 0:u.broadcast)===null||o===void 0)&&o.ack)&&l("ok"),c.receive("ok",()=>l("ok")),c.receive("error",()=>l("error")),c.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=De.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(s=>{const n=new Jr(this,rt.leave,{},t);n.receive("ok",()=>{a(),s("ok")}).receive("timeout",()=>{a(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,a,s){const n=new AbortController,l=setTimeout(()=>n.abort(),s),r=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:n.signal}));return clearTimeout(l),r}_push(t,a,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Jr(this,t,a,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,a,s){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,s){var n,l;const r=t.toLocaleLowerCase(),{close:u,error:o,leave:c,join:d}=rt;if(s&&[u,o,c,d].indexOf(r)>=0&&s!==this._joinRef())return;let f=this._onMessage(r,a,s);if(a&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var S,m,w;return((S=p.filter)===null||S===void 0?void 0:S.event)==="*"||((w=(m=p.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===r}).map(p=>p.callback(f,s)):(l=this.bindings[r])===null||l===void 0||l.filter(p=>{var S,m,w,g,y,x;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in p){const j=p.id,N=(S=p.filter)===null||S===void 0?void 0:S.event;return j&&((m=a.ids)===null||m===void 0?void 0:m.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=a.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((x=a==null?void 0:a.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===r}).map(p=>{if(typeof f=="object"&&"ids"in f){const S=f.data,{schema:m,table:w,commit_timestamp:g,type:y,errors:x}=S;f=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:g,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(S))}p.callback(f,s)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,s){const n=t.toLocaleLowerCase(),l={type:n,filter:a,callback:s};return this.bindings[n]?this.bindings[n].push(l):this.bindings[n]=[l],this}_off(t,a){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var l;return!(((l=n.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&vc.isEqual(n.filter,a))}),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const s in t)if(t[s]!==a[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rt.close,{},t)}_onError(t){this._on(rt.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=rf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=rf(t.columns,t.old_record)),a}}const df=()=>{},vb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yb{constructor(t,a){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=rb,this.params={},this.timeout=W0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=df,this.ref=0,this.logger=df,this.conn=null,this.sendBuffer=[],this.serializer=new cb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let r;return l?r=l:typeof fetch>"u"?r=(...u)=>pl(async()=>{const{default:o}=await Promise.resolve().then(()=>Ps);return{default:o}},void 0).then(({default:o})=>o(...u)):r=fetch,(...u)=>r(...u)},this.endPoint=`${t}/${so.websocket}`,this.httpEndpoint=ap(t),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.headers&&(this.headers=Object.assign(Object.assign({},this.headers),a.headers)),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const n=(s=a==null?void 0:a.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(l,r)=>r(JSON.stringify(l)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ep(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ao),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new xb(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ub}))}disconnect(t,a){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels=this.channels.filter(s=>s._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,s){this.logger(t,a,s)}connectionState(){switch(this.conn&&this.conn.readyState){case js.connecting:return Ea.Connecting;case js.open:return Ea.Open;case js.closing:return Ea.Closing;default:return Ea.Closed}}isConnected(){return this.connectionState()===Ea.Open}channel(t,a={config:{}}){const s=`realtime:${t}`,n=this.getChannels().find(l=>l.topic===s);if(n)return n;{const l=new vc(`realtime:${t}`,a,this);return this.channels.push(l),l}}push(t){const{topic:a,event:s,payload:n,ref:l}=t,r=()=>{this.encode(t,u=>{var o;(o=this.conn)===null||o===void 0||o.send(u)})};this.log("push",`${a} ${s} (${l})`,n),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let a=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(s=>{a&&s.updateJoinPayload({access_token:a,version:this.headers&&this.headers["X-Client-Info"]}),s.joinedOnce&&s._isJoined()&&s._push(rt.access_token,{access_token:a})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(ob,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,a=>{let{topic:s,event:n,payload:l,ref:r}=a;s==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${n} ${r&&"("+r+")"||""}`,l),Array.from(this.channels).filter(u=>u._isMember(s)).forEach(u=>u._trigger(n,l,r)),this.stateChangeCallbacks.message.forEach(u=>u(a))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(rt.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const s=t.match(/\?/)?"&":"?",n=new URLSearchParams(a);return`${t}${s}${n}`}_workerObjectUrl(t){let a;if(t)a=t;else{const s=new Blob([vb],{type:"application/javascript"});a=URL.createObjectURL(s)}return a}}class xb{constructor(t,a,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=js.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class yc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class bb extends yc{constructor(t,a){super(t),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class lo extends yc{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}var wb=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function u(d){try{c(s.next(d))}catch(h){r(h)}}function o(d){try{c(s.throw(d))}catch(h){r(h)}}function c(d){d.done?l(d.value):n(d.value).then(u,o)}c((s=s.apply(e,t||[])).next())})};const sp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>pl(async()=>{const{default:s}=await Promise.resolve().then(()=>Ps);return{default:s}},void 0).then(({default:s})=>s(...a)):t=fetch,(...a)=>t(...a)},jb=()=>wb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pl(()=>Promise.resolve().then(()=>Ps),void 0)).Response:Response}),io=e=>{if(Array.isArray(e))return e.map(a=>io(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,s])=>{const n=a.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[n]=io(s)}),t};var Pa=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function u(d){try{c(s.next(d))}catch(h){r(h)}}function o(d){try{c(s.throw(d))}catch(h){r(h)}}function c(d){d.done?l(d.value):n(d.value).then(u,o)}c((s=s.apply(e,t||[])).next())})};const Fr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sb=(e,t,a)=>Pa(void 0,void 0,void 0,function*(){const s=yield jb();e instanceof s&&!(a!=null&&a.noResolveJson)?e.json().then(n=>{t(new bb(Fr(n),e.status||500))}).catch(n=>{t(new lo(Fr(n),n))}):t(new lo(Fr(e),e))}),_b=(e,t,a,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),a))};function vl(e,t,a,s,n,l){return Pa(this,void 0,void 0,function*(){return new Promise((r,u)=>{e(a,_b(t,s,n,l)).then(o=>{if(!o.ok)throw o;return s!=null&&s.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>Sb(o,u,s))})})}function Ui(e,t,a,s){return Pa(this,void 0,void 0,function*(){return vl(e,"GET",t,a,s)})}function Pt(e,t,a,s,n){return Pa(this,void 0,void 0,function*(){return vl(e,"POST",t,s,n,a)})}function Nb(e,t,a,s,n){return Pa(this,void 0,void 0,function*(){return vl(e,"PUT",t,s,n,a)})}function Eb(e,t,a,s){return Pa(this,void 0,void 0,function*(){return vl(e,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),s)})}function np(e,t,a,s,n){return Pa(this,void 0,void 0,function*(){return vl(e,"DELETE",t,s,n,a)})}var Ue=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function u(d){try{c(s.next(d))}catch(h){r(h)}}function o(d){try{c(s.throw(d))}catch(h){r(h)}}function c(d){d.done?l(d.value):n(d.value).then(u,o)}c((s=s.apply(e,t||[])).next())})};const Ab={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ff={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ob{constructor(t,a={},s,n){this.url=t,this.headers=a,this.bucketId=s,this.fetch=sp(n)}uploadOrUpdate(t,a,s,n){return Ue(this,void 0,void 0,function*(){try{let l;const r=Object.assign(Object.assign({},ff),n);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",r.cacheControl),o&&l.append("metadata",this.encodeMetadata(o)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",r.cacheControl),o&&l.append("metadata",this.encodeMetadata(o))):(l=s,u["cache-control"]=`max-age=${r.cacheControl}`,u["content-type"]=r.contentType,o&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),n!=null&&n.headers&&(u=Object.assign(Object.assign({},u),n.headers));const c=this._removeEmptyFolders(a),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:l,headers:u},r!=null&&r.duplex?{duplex:r.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(xe(l))return{data:null,error:l};throw l}})}upload(t,a,s){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,s)})}uploadToSignedUrl(t,a,s,n){return Ue(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),r=this._getFinalPath(l),u=new URL(this.url+`/object/upload/sign/${r}`);u.searchParams.set("token",a);try{let o;const c=Object.assign({upsert:ff.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",c.cacheControl)):(o=s,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(u.toString(),{method:"PUT",body:o,headers:d}),f=yield h.json();return h.ok?{data:{path:l,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(xe(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,a){return Ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const n=Object.assign({},this.headers);a!=null&&a.upsert&&(n["x-upsert"]="true");const l=yield Pt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),r=new URL(this.url+l.url),u=r.searchParams.get("token");if(!u)throw new yc("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:u},error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}update(t,a,s){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,s)})}move(t,a,s){return Ue(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}copy(t,a,s){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}createSignedUrl(t,a,s){return Ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),l=yield Pt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:a},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${r}`)},{data:l,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}createSignedUrls(t,a,s){return Ue(this,void 0,void 0,function*(){try{const n=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${l}`):null})),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}download(t,a){return Ue(this,void 0,void 0,function*(){const n=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),r=l?`?${l}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield Ui(this.fetch,`${this.url}/${n}/${u}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(xe(u))return{data:null,error:u};throw u}})}info(t){return Ue(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const s=yield Ui(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:io(s),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}exists(t){return Ue(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield Eb(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(xe(s)&&s instanceof lo){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,a){const s=this._getFinalPath(t),n=[],l=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";l!==""&&n.push(l);const u=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});o!==""&&n.push(o);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${c}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield np(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}list(t,a,s){return Ue(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ab),a),{prefix:t||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const Tb="2.7.1",Db={"X-Client-Info":`storage-js/${Tb}`};var Qa=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function u(d){try{c(s.next(d))}catch(h){r(h)}}function o(d){try{c(s.throw(d))}catch(h){r(h)}}function c(d){d.done?l(d.value):n(d.value).then(u,o)}c((s=s.apply(e,t||[])).next())})};class Cb{constructor(t,a={},s){this.url=t,this.headers=Object.assign(Object.assign({},Db),a),this.fetch=sp(s)}listBuckets(){return Qa(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xe(t))return{data:null,error:t};throw t}})}getBucket(t){return Qa(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}createBucket(t,a={public:!1}){return Qa(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}updateBucket(t,a){return Qa(this,void 0,void 0,function*(){try{return{data:yield Nb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Qa(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}deleteBucket(t){return Qa(this,void 0,void 0,function*(){try{return{data:yield np(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}}class kb extends Cb{constructor(t,a={},s){super(t,a,s)}from(t){return new Ob(this.url,this.headers,t,this.fetch)}}const Rb="2.49.10";let rn="";typeof Deno<"u"?rn="deno":typeof document<"u"?rn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rn="react-native":rn="node";const Ub={"X-Client-Info":`supabase-js-${rn}/${Rb}`},Mb={headers:Ub},zb={schema:"public"},Lb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bb={};var qb=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function u(d){try{c(s.next(d))}catch(h){r(h)}}function o(d){try{c(s.throw(d))}catch(h){r(h)}}function c(d){d.done?l(d.value):n(d.value).then(u,o)}c((s=s.apply(e,t||[])).next())})};const Hb=e=>{let t;return e?t=e:typeof fetch>"u"?t=$0:t=fetch,(...a)=>t(...a)},Ib=()=>typeof Headers>"u"?G0:Headers,$b=(e,t,a)=>{const s=Hb(a),n=Ib();return(l,r)=>qb(void 0,void 0,void 0,function*(){var u;const o=(u=yield t())!==null&&u!==void 0?u:e;let c=new n(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),s(l,Object.assign(Object.assign({},r),{headers:c}))})};var Gb=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function u(d){try{c(s.next(d))}catch(h){r(h)}}function o(d){try{c(s.throw(d))}catch(h){r(h)}}function c(d){d.done?l(d.value):n(d.value).then(u,o)}c((s=s.apply(e,t||[])).next())})};function Yb(e){return e.endsWith("/")?e:e+"/"}function Pb(e,t){var a,s;const{db:n,auth:l,realtime:r,global:u}=e,{db:o,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},c),l),realtime:Object.assign(Object.assign({},d),r),global:Object.assign(Object.assign(Object.assign({},h),u),{headers:Object.assign(Object.assign({},(a=h==null?void 0:h.headers)!==null&&a!==void 0?a:{}),(s=u==null?void 0:u.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Gb(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const lp="2.69.1",ts=30*1e3,ro=3,Wr=ro*ts,Vb="http://localhost:9999",Xb="supabase.auth.token",Qb={"X-Client-Info":`gotrue-js/${lp}`},uo="X-Supabase-Api-Version",ip={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zb=6e5;class xc extends Error{constructor(t,a,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=s}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Jb extends xc{constructor(t,a,s){super(t,a,s),this.name="AuthApiError",this.status=a,this.code=s}}function Fb(e){return L(e)&&e.name==="AuthApiError"}class rp extends xc{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class ya extends xc{constructor(t,a,s,n){super(t,s,n),this.name=a,this.status=s}}class It extends ya{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wb(e){return L(e)&&e.name==="AuthSessionMissingError"}class eu extends ya{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zl extends ya{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ll extends ya{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function e1(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class hf extends ya{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oo extends ya{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function tu(e){return L(e)&&e.name==="AuthRetryableFetchError"}class mf extends ya{constructor(t,a,s){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=s}}class _n extends ya{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const pf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gf=` 	
\r=`.split(""),t1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gf.length;t+=1)e[gf[t].charCodeAt(0)]=-2;for(let t=0;t<pf.length;t+=1)e[pf[t].charCodeAt(0)]=t;return e})();function up(e,t,a){const s=t1[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vf(e){const t=[],a=r=>{t.push(String.fromCodePoint(r))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},l=r=>{n1(r,s,a)};for(let r=0;r<e.length;r+=1)up(e.charCodeAt(r),n,l);return t.join("")}function a1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function s1(e,t){for(let a=0;a<e.length;a+=1){let s=e.charCodeAt(a);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(e.charCodeAt(a+1)-56320&65535|n)+65536,a+=1}a1(s,t)}}function n1(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function l1(e){const t=[],a={queue:0,queuedBits:0},s=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)up(e.charCodeAt(n),a,s);return new Uint8Array(t)}function i1(e){const t=[];return s1(e,a=>t.push(a)),new Uint8Array(t)}function r1(e){return Math.round(Date.now()/1e3)+e}function u1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ft=()=>typeof window<"u"&&typeof document<"u",wa={tested:!1,writable:!1},Nn=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wa.tested)return wa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wa.tested=!0,wa.writable=!0}catch{wa.tested=!0,wa.writable=!1}return wa.writable};function o1(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((n,l)=>{t[l]=n})}catch{}return a.searchParams.forEach((s,n)=>{t[n]=s}),t}const op=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>pl(async()=>{const{default:s}=await Promise.resolve().then(()=>Ps);return{default:s}},void 0).then(({default:s})=>s(...a)):t=fetch,(...a)=>t(...a)},c1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cp=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},Bl=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},ql=async(e,t)=>{await e.removeItem(t)};class or{constructor(){this.promise=new or.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}or.promiseConstructor=Promise;function au(e){const t=e.split(".");if(t.length!==3)throw new _n("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Kb.test(t[s]))throw new _n("JWT not in base64url format");return{header:JSON.parse(vf(t[0])),payload:JSON.parse(vf(t[1])),signature:l1(t[2]),raw:{header:t[0],payload:t[1]}}}async function d1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function f1(e,t){return new Promise((s,n)=>{(async()=>{for(let l=0;l<1/0;l++)try{const r=await e(l);if(!t(l,null,r)){s(r);return}}catch(r){if(!t(l,r)){n(r);return}}})()})}function h1(e){return("0"+e.toString(16)).substr(-2)}function m1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=a.length;let n="";for(let l=0;l<56;l++)n+=a.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(t),Array.from(t,h1).join("")}async function p1(e){const a=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",a),n=new Uint8Array(s);return Array.from(n).map(l=>String.fromCharCode(l)).join("")}async function g1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await p1(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ka(e,t,a=!1){const s=m1();let n=s;a&&(n+="/PASSWORD_RECOVERY"),await cp(e,`${t}-code-verifier`,n);const l=await g1(s);return[l,s===l?"plain":"s256"]}const v1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y1(e){const t=e.headers.get(uo);if(!t||!t.match(v1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function x1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function b1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var w1=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(a[s[n]]=e[s[n]]);return a};const Na=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),j1=[502,503,504];async function yf(e){var t;if(!c1(e))throw new oo(Na(e),0);if(j1.includes(e.status))throw new oo(Na(e),e.status);let a;try{a=await e.json()}catch(l){throw new rp(Na(l),l)}let s;const n=y1(e);if(n&&n.getTime()>=ip["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?s=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(s=a.error_code),s){if(s==="weak_password")throw new mf(Na(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new It}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0))throw new mf(Na(a),e.status,a.weak_password.reasons);throw new Jb(Na(a),e.status||500,s)}const S1=(e,t,a,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),a))};async function $(e,t,a,s){var n;const l=Object.assign({},s==null?void 0:s.headers);l[uo]||(l[uo]=ip["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const r=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(r.redirect_to=s.redirectTo);const u=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await _1(e,t,a+u,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(o):{data:Object.assign({},o),error:null}}async function _1(e,t,a,s,n,l){const r=S1(t,s,n,l);let u;try{u=await e(a,Object.assign({},r))}catch(o){throw console.error(o),new oo(Na(o),0)}if(u.ok||await yf(u),s!=null&&s.noResolveJson)return u;try{return await u.json()}catch(o){await yf(o)}}function $t(e){var t;let a=null;O1(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=r1(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:s},error:null}}function xf(e){const t=$t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function N1(e){return{data:e,error:null}}function E1(e){const{action_link:t,email_otp:a,hashed_token:s,redirect_to:n,verification_type:l}=e,r=w1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:a,hashed_token:s,redirect_to:n,verification_type:l},o=Object.assign({},r);return{data:{properties:u,user:o},error:null}}function A1(e){return e}function O1(e){return e.access_token&&e.refresh_token&&e.expires_in}var T1=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(a[s[n]]=e[s[n]]);return a};class D1{constructor({url:t="",headers:a={},fetch:s}){this.url=t,this.headers=a,this.fetch=op(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,a="global"){try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,a={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Zt})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:a}=t,s=T1(t,["options"]),n=Object.assign(Object.assign({},s),a);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:E1,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(L(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zt})}catch(a){if(L(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,s,n,l,r,u,o;try{const c={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(l=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:""},xform:A1});if(d.error)throw d.error;const h=await d.json(),f=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,p=(o=(u=d.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(S=>{const m=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(S.split(";")[1].split("=")[1]);c[`${w}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zt})}catch(a){if(L(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Zt})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,a=!1){try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Zt})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:a,error:s}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:a,error:s}}catch(a){if(L(a))return{data:null,error:a};throw a}}async _deleteFactor(t){try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(L(a))return{data:null,error:a};throw a}}}const C1={getItem:e=>Nn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Nn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Nn()&&globalThis.localStorage.removeItem(e)}};function bf(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}function k1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Za={debug:!!(globalThis&&Nn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class R1 extends dp{}async function U1(e,t,a){Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Za.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await a()}finally{Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new R1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Za.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}k1();const M1={url:Vb,storageKey:Xb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wf(e,t,a){return await a()}class Pn{constructor(t){var a,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pn.nextInstanceID,Pn.nextInstanceID+=1,this.instanceID>0&&ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},M1),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new D1({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=op(n.fetch),this.lock=n.lock||wf,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ft()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=U1:this.lock=wf,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Nn()?this.storage=C1:(this.memoryStorage={},this.storage=bf(this.memoryStorage)):(this.memoryStorage={},this.storage=bf(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lp}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const a=o1(window.location.href);let s="none";if(this._isImplicitGrantCallback(a)?s="implicit":await this._isPKCECallback(a)&&(s="pkce"),ft()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:l}=await this._getSessionFromURL(a,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),e1(l)){const o=(t=l.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:r,redirectType:u}=n;return this._debug("#_initialize()","detected session in URL",r,"redirect type",u),await this._saveSession(r),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return L(a)?{error:a}:{error:new rp("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,s,n;try{const l=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:$t}),{data:r,error:u}=l;if(u||!r)return{data:{user:null,session:null},error:u};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var a,s,n;try{let l;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,S=null;this.flowType==="pkce"&&([p,S]=await Ka(this.storage,this.storageKey)),l=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:S},xform:$t})}else if("phone"in t){const{phone:d,password:h,options:f}=t;l=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$t})}else throw new zl("You must provide either an email or phone number and a password");const{data:r,error:u}=l;if(u||!r)return{data:{user:null,session:null},error:u};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let a;if("email"in t){const{email:l,password:r,options:u}=t;a=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:r,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:xf})}else if("phone"in t){const{phone:l,password:r,options:u}=t;a=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:r,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:xf})}else throw new zl("You must provide either an email or phone number and a password");const{data:s,error:n}=a;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new eu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(t){var a,s,n,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const a=await Bl(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(a??"").split("/");try{const{data:l,error:r}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:$t});if(await ql(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new eu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:n??null}),error:r})}catch(l){if(L(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:a,provider:s,token:n,access_token:l,nonce:r}=t,u=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:l,nonce:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$t}),{data:o,error:c}=u;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new eu}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:c})}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(t){var a,s,n,l,r;try{if("email"in t){const{email:u,options:o}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ka(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(a=o==null?void 0:o.data)!==null&&a!==void 0?a:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:u,options:o}=t,{data:c,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(l=o==null?void 0:o.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new zl("You must provide either an email or phone number.")}catch(u){if(L(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var a,s;try{let n,l;"options"in t&&(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo,l=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:r,error:u}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:n,xform:$t});if(u)throw u;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,c=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var a,s,n;try{let l=null,r=null;return this.flowType==="pkce"&&([l,r]=await Ka(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:r}),headers:this.headers,xform:N1})}catch(l){if(L(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:s}=t;if(s)throw s;if(!a)throw new It;const{error:n}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:s,type:n,options:l}=t,{error:r}=await $(this.fetch,"POST",a,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:s,type:n,options:l}=t,{data:r,error:u}=await $(this.fetch,"POST",a,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:u}}throw new zl("You must provide either an email or phone number and a type")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await a()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=a();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await Bl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Wr:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let r=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,c,d)=>(!r&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,c,d))})}return{data:{session:t},error:null}}const{session:n,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zt}):await this._useSession(async a=>{var s,n,l;const{data:r,error:u}=a;if(u)throw u;return!(!((s=r.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&l!==void 0?l:void 0,xform:Zt})})}catch(a){if(L(a))return Wb(a)&&(await this._removeSession(),await ql(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async s=>{const{data:n,error:l}=s;if(l)throw l;if(!n.session)throw new It;const r=n.session;let u=null,o=null;this.flowType==="pkce"&&t.email!=null&&([u,o]=await Ka(this.storage,this.storageKey));const{data:c,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:o}),jwt:r.access_token,xform:Zt});if(d)throw d;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new It;const a=Date.now()/1e3;let s=a,n=!0,l=null;const{payload:r}=au(t.access_token);if(r.exp&&(s=r.exp,n=s<=a),n){const{session:u,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!u)return{data:{user:null,session:null},error:null};l=u}else{const{data:u,error:o}=await this._getUser(t.access_token);if(o)throw o;l={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:s-a,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(a){if(L(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var s;if(!t){const{data:r,error:u}=a;if(u)throw u;t=(s=r.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new It;const{session:n,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(t,a){try{if(!ft())throw new Ll("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ll(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new hf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ll("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hf("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:l,refresh_token:r,expires_in:u,expires_at:o,token_type:c}=t;if(!l||!u||!r||!c)throw new Ll("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(u);let f=d+h;o&&(f=parseInt(o));const p=f-d;p*1e3<=ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const S=f-h;d-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,f,d):d-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,f,d);const{data:m,error:w}=await this._getUser(l);if(w)throw w;const g={provider_token:s,provider_refresh_token:n,access_token:l,expires_in:h,expires_at:f,refresh_token:r,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(s){if(L(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await Bl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var s;const{data:n,error:l}=a;if(l)return{error:l};const r=(s=n.session)===null||s===void 0?void 0:s.access_token;if(r){const{error:u}=await this.admin.signOut(r,t);if(u&&!(Fb(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await ql(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const a=u1(),s={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async a=>{var s,n;try{const{data:{session:l},error:r}=a;if(r)throw r;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,a={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Ka(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(l){if(L(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:a,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(a){if(L(a))return{data:null,error:a};throw a}}async linkIdentity(t){var a;try{const{data:s,error:n}=await this._useSession(async l=>{var r,u,o,c,d;const{data:h,error:f}=l;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return ft()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(L(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async a=>{var s,n;const{data:l,error:r}=a;if(r)throw r;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(a){if(L(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const s=Date.now();return await f1(async n=>(n>0&&await d1(200*Math.pow(2,n-1)),this._debug(a,"refreshing attempt",n),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$t})),(n,l)=>{const r=200*Math.pow(2,n);return l&&tu(l)&&Date.now()+r-s<ts})}catch(s){if(this._debug(a,"error",s),L(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",s),ft()&&!a.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await Bl(this.storage,this.storageKey);if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const n=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Wr;if(this._debug(a,`session has${n?"":" not"} expired with margin of ${Wr}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),tu(l)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var a,s;if(!t)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new or;const{data:l,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!l.session)throw new It;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const u={session:l.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(l){if(this._debug(n,"error",l),L(l)){const r={session:null,error:l};return tu(l)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(r),r}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,a,s=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",a,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:a});const l=[],r=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,a)}catch(o){l.push(o)}});if(await Promise.all(r),l.length>0){for(let u=0;u<l.length;u+=1)console.error(l[u]);throw l[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await cp(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ql(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ts);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:s}}=a;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-t)/ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ts}ms, refresh threshold is ${ro} ticks`),n<=ro&&await this._callRefreshToken(s.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,s){const n=[`provider=${encodeURIComponent(a)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,r]=await Ka(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(r)}`});n.push(u.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);n.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var s;const{data:n,error:l}=a;return l?{data:null,error:l}:await $(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(L(a))return{data:null,error:a};throw a}}async _enroll(t){try{return await this._useSession(async a=>{var s,n;const{data:l,error:r}=a;if(r)return{data:null,error:r};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:c}=await $(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((n=o==null?void 0:o.totp)===null||n===void 0)&&n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(a){if(L(a))return{data:null,error:a};throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:n,error:l}=a;if(l)return{data:null,error:l};const{data:r,error:u}=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:u})})}catch(a){if(L(a))return{data:null,error:a};throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:n,error:l}=a;return l?{data:null,error:l}:await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(L(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(t){const{data:a,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){const{data:{user:t},error:a}=await this.getUser();if(a)return{data:null,error:a};const s=(t==null?void 0:t.factors)||[],n=s.filter(r=>r.factor_type==="totp"&&r.status==="verified"),l=s.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:s,totp:n,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var a,s;const{data:{session:n},error:l}=t;if(l)return{data:null,error:l};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=au(n.access_token);let u=null;r.aal&&(u=r.aal);let o=u;((s=(a=n.user.factors)===null||a===void 0?void 0:a.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(o="aal2");const d=r.amr||[];return{data:{currentLevel:u,nextLevel:o,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,a={keys:[]}){let s=a.keys.find(r=>r.kid===t);if(s||(s=this.jwks.keys.find(r=>r.kid===t),s&&this.jwks_cached_at+Zb>Date.now()))return s;const{data:n,error:l}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!n.keys||n.keys.length===0)throw new _n("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),s=n.keys.find(r=>r.kid===t),!s)throw new _n("No matching signing key found in JWKS");return s}async getClaims(t,a={keys:[]}){try{let s=t;if(!s){const{data:p,error:S}=await this.getSession();if(S||!p.session)return{data:null,error:S};s=p.session.access_token}const{header:n,payload:l,signature:r,raw:{header:u,payload:o}}=au(s);if(x1(l.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:l,header:n,signature:r},error:null}}const c=b1(n.alg),d=await this.fetchJwk(n.kid,a),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,r,i1(`${u}.${o}`)))throw new _n("Invalid JWT signature");return{data:{claims:l,header:n,signature:r},error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}}Pn.nextInstanceID=0;const z1=Pn;class L1 extends z1{constructor(t){super(t)}}var B1=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function u(d){try{c(s.next(d))}catch(h){r(h)}}function o(d){try{c(s.throw(d))}catch(h){r(h)}}function c(d){d.done?l(d.value):n(d.value).then(u,o)}c((s=s.apply(e,t||[])).next())})};class q1{constructor(t,a,s){var n,l,r;if(this.supabaseUrl=t,this.supabaseKey=a,!t)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const u=Yb(t),o=new URL(u);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:zb,realtime:Bb,auth:Object.assign(Object.assign({},Lb),{storageKey:c}),global:Mb},h=Pb(s??{},d);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(l=h.global.headers)!==null&&l!==void 0?l:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=h.auth)!==null&&r!==void 0?r:{},this.headers,h.global.fetch),this.fetch=$b(a,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new lb(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Mx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kb(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,a={},s={}){return this.rest.rpc(t,a,s)}channel(t,a={config:{}}){return this.realtime.channel(t,a)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,a;return B1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(a=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:a,detectSessionInUrl:s,storage:n,storageKey:l,flowType:r,lock:u,debug:o},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L1({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:l,autoRefreshToken:t,persistSession:a,detectSessionInUrl:s,storage:n,flowType:r,lock:u,debug:o,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new yb(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,s)=>{this._handleTokenChanged(a,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,a,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const H1=(e,t,a)=>new q1(e,t,a),I1="https://ewcfggvvuzmzdbzpfkjq.supabase.co",$1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV3Y2ZnZ3Z2dXptemRienBma2pxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxMzAwMjMsImV4cCI6MjA2NDcwNjAyM30.bS1vAokazyIodQ_Eou86ANuGrVKSEb7matsPELhUh9o",yt=H1(I1,$1);window.supabase=yt;const ma=({isOpen:e,onClose:t,title:a,children:s,size:n="md"})=>{if(!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 transition-opacity duration-300 ease-in-out",children:[i.jsxs("div",{className:`bg-surface rounded-lg shadow-xl w-full ${l[n]} p-6 transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modalShow`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary",children:a}),i.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Close modal",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{children:s})]}),i.jsx("style",{children:`
        @keyframes modalShow {
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animate-modalShow {
          animation: modalShow 0.3s forwards;
        }
      `})]})};Object.values(ki).map(e=>({value:e,label:e}));Object.values(Us).map(e=>({value:e,label:e}));Object.values(Ri).map(e=>({value:e,label:e}));const fp=Object.values(Ms).map(e=>({value:e,label:e})),G1=Object.values(mc).map(e=>({value:e,label:e})),hp=Object.values(P).map(e=>({value:e,label:e})),mp=Object.values(Yn).map(e=>({value:e,label:e})),Y1=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),bc=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),pp=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),Vn=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Mi=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),gp=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75c0 .621-.504 1.125-1.125 1.125h-2.25A1.125 1.125 0 013 21v-7.875zM12.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v12.375c0 .621-.504 1.125-1.125 1.125h-2.25A1.125 1.125 0 0112.75 21V8.625zM21 4.125C21 3.504 21.504 3 22.125 3h2.25c.621 0 1.125.504 1.125 1.125v16.875A1.125 1.125 0 0124.375 21h-2.25A1.125 1.125 0 0121 19.875V4.125z"})}),Xn=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),cr=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),wc=e=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),En=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jf=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),P1=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),V1=()=>{const[e,t]=_.useState([]),[a,s]=_.useState(!1),[n,l]=_.useState(!1),[r,u]=_.useState(!1),[o,c]=_.useState(null),[d,h]=_.useState(null);_.useEffect(()=>{f()},[]);const f=async()=>{const{data:w,error:g}=await yt.from("customers").select("*");!g&&w?t(w):console.error("Error fetching customers:",g)},p=()=>{c(null),s(!0)},S=w=>{c(w),s(!0)},m=w=>{h(w),l(!0)};return i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold mb-6 flex items-center",children:[i.jsx(bc,{className:"w-8 h-8 mr-2"})," CRM Dashboard"]}),i.jsxs("button",{onClick:p,className:"bg-primary text-white px-4 py-2 rounded-md mb-4",children:[i.jsx(Xn,{className:"w-5 h-5 inline mr-2"})," Add Customer"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(w=>i.jsxs("div",{className:"p-4 bg-white rounded-md shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:w.companyName}),i.jsxs("p",{className:"text-sm",children:[w.contactPerson," | ",w.email]}),i.jsxs("div",{className:"mt-3 space-x-2",children:[i.jsxs("button",{onClick:()=>S(w),className:"text-blue-600",children:[i.jsx(cr,{className:"w-4 h-4 inline"})," Edit"]}),i.jsxs("button",{onClick:()=>m(w.id),className:"text-green-600",children:[i.jsx(Xn,{className:"w-4 h-4 inline"})," Log Interaction"]})]})]},w.id))}),i.jsx(ma,{isOpen:a,onClose:()=>s(!1),title:o?"Edit Customer":"Add Customer"}),i.jsx(ma,{isOpen:n,onClose:()=>l(!1),title:"Log Interaction"})]})},Sf={customerId:"",product:"",grade:"",quantityKg:0,unitPrice:0,shippingStatus:Ms.PENDING,orderDate:new Date().toISOString().split("T")[0]},X1=({order:e,customers:t,onSave:a,onClose:s})=>{const[n,l]=_.useState(()=>e?{...e}:Sf);_.useEffect(()=>{l(e?{...e}:Sf)},[e]);const r=o=>{const{name:c,value:d}=o.target,h=c==="quantityKg"||c==="unitPrice"?parseFloat(d):d;l(f=>({...f,[c]:h}))},u=o=>{if(o.preventDefault(),n.customerId===""){alert("Please select a customer.");return}a(n)};return i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"customerId",className:"block text-sm font-medium text-gray-700",children:"Customer"}),i.jsxs("select",{name:"customerId",id:"customerId",value:n.customerId,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",disabled:!0,children:"Select Customer"}),t.map(o=>i.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700",children:"Product (e.g., Green Coffee Beans)"}),i.jsx("input",{type:"text",name:"product",id:"product",value:n.product,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"grade",className:"block text-sm font-medium text-gray-700",children:"Grade (e.g., G1, G2)"}),i.jsx("input",{type:"text",name:"grade",id:"grade",value:n.grade,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"quantityKg",className:"block text-sm font-medium text-gray-700",children:"Quantity (kg)"}),i.jsx("input",{type:"number",name:"quantityKg",id:"quantityKg",value:n.quantityKg,onChange:r,required:!0,min:"0",step:"0.1",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"unitPrice",className:"block text-sm font-medium text-gray-700",children:"Unit Price (USD)"}),i.jsx("input",{type:"number",name:"unitPrice",id:"unitPrice",value:n.unitPrice,onChange:r,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"orderDate",className:"block text-sm font-medium text-gray-700",children:"Order Date"}),i.jsx("input",{type:"date",name:"orderDate",id:"orderDate",value:n.orderDate,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"shippingStatus",className:"block text-sm font-medium text-gray-700",children:"Shipping Status"}),i.jsx("select",{name:"shippingStatus",id:"shippingStatus",value:n.shippingStatus,onChange:r,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:fp.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),i.jsx("div",{children:i.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Total Amount: USD ",(n.quantityKg*n.unitPrice).toFixed(2)]})}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Order"})]})]})},Q1=()=>{const{salesOrders:e,addSalesOrder:t,updateSalesOrder:a,customers:s,generateInvoiceForOrder:n,invoices:l}=fr(),[r,u]=_.useState(!1),[o,c]=_.useState(!1),[d,h]=_.useState(void 0),[f,p]=_.useState(""),[S,m]=_.useState(""),w=()=>{h(void 0),u(!0)},g=v=>{h(v),u(!0)},y=v=>{h(v),c(!0)},x=v=>{"id"in v?a(v):t(v),u(!1)},j=v=>{if(n(v),d&&d.id===v.id){const b=e.find(O=>O.id===v.id);b&&h(b)}},N=v=>{var b;return((b=s.find(O=>O.id===v))==null?void 0:b.companyName)||"Unknown Customer"},D=e.filter(v=>{const b=f?v.customerId===f:!0,O=S?v.shippingStatus===S:!0;return b&&O});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(pp,{className:"w-8 h-8 mr-2"}),"Sales Log"]}),i.jsxs("button",{onClick:w,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Xn,{className:"w-5 h-5 mr-2"})," Create New Order"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCustomer",className:"block text-sm font-medium text-gray-700",children:"Filter by Customer"}),i.jsxs("select",{id:"filterCustomer",value:f,onChange:v=>p(v.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Customers"}),s.map(v=>i.jsx("option",{value:v.id,children:v.companyName},v.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterShippingStatus",className:"block text-sm font-medium text-gray-700",children:"Filter by Shipping Status"}),i.jsxs("select",{id:"filterShippingStatus",value:S,onChange:v=>m(v.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Statuses"}),fp.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))]})]})]})}),D.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No sales orders found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipping Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(v=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[v.id.substring(0,8),"..."]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N(v.customerId)}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[v.product," (",v.grade,")"]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",v.totalAmount.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.orderDate).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v.shippingStatus===Ms.DELIVERED?"bg-green-100 text-green-800":v.shippingStatus===Ms.SHIPPED?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:v.shippingStatus})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>y(v),className:"text-accent hover:text-primary",children:i.jsx(wc,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>g(v),className:"text-secondary hover:text-primary",children:i.jsx(cr,{className:"w-5 h-5 inline"})}),!v.linkedInvoiceId&&i.jsx("button",{onClick:()=>j(v),title:"Generate Invoice",className:"text-green-600 hover:text-green-800",children:i.jsx(Vn,{className:"w-5 h-5 inline"})})]})]},v.id))})]})}),i.jsx(ma,{isOpen:r,onClose:()=>u(!1),title:d?"Edit Sales Order":"Create New Sales Order",size:"lg",children:i.jsx(X1,{order:d,customers:s,onSave:x,onClose:()=>u(!1)})}),d&&i.jsx(ma,{isOpen:o,onClose:()=>c(!1),title:"Order Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Order ID:"})," ",d.id]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Customer:"})," ",N(d.customerId)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Product:"})," ",d.product," (Grade: ",d.grade,")"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Quantity:"})," ",d.quantityKg," kg"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Unit Price:"})," USD ",d.unitPrice.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Total Amount:"})," USD ",d.totalAmount.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Order Date:"})," ",new Date(d.orderDate).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Shipping Status:"})," ",d.shippingStatus]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Linked Invoice ID:"})," ",d.linkedInvoiceId||"N/A"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Documents:"}),d.documents.length>0?i.jsx("ul",{className:"list-disc list-inside ml-4",children:d.documents.map(v=>i.jsxs("li",{children:[v.name," (",v.type,")"]},v.name))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded."}),i.jsxs("div",{className:"mt-2",children:[i.jsx("label",{htmlFor:"docUpload",className:"text-sm text-gray-600",children:"Upload Document (mock):"}),i.jsx("input",{type:"file",id:"docUpload",className:"text-sm",onChange:()=>alert("File upload is a demo feature.")})]})]}),!d.linkedInvoiceId&&i.jsx("div",{className:"pt-4 border-t mt-4",children:i.jsxs("button",{onClick:()=>{var b;j(d);const v={...d,linkedInvoiceId:((b=l.find(O=>O.orderId===d.id))==null?void 0:b.id)||"pending..."};h(v)},className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center justify-center",children:[i.jsx(Vn,{className:"w-5 h-5 mr-2"})," Generate Invoice"]})})]})})]})},_f={orderId:"",customerId:"",dateIssued:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],amountDue:0,amountPaid:0,paymentMethod:void 0,datePaid:void 0,status:P.UNPAID},K1=({invoice:e,customers:t,salesOrders:a,onSave:s,onClose:n})=>{var h;const[l,r]=_.useState(()=>e?{...e}:_f);_.useEffect(()=>{r(e?{...e}:_f)},[e]);const u=f=>{const p=f.target.value,S=a.find(m=>m.id===p);S&&r(m=>({...m,orderId:S.id,customerId:S.customerId,amountDue:S.totalAmount}))},o=f=>{const{name:p,value:S}=f.target,m=p==="amountDue"||p==="amountPaid"?parseFloat(S):S;if(r(w=>({...w,[p]:m})),p==="amountPaid"&&l.amountDue>0){const w=parseFloat(S);w===0?r(g=>({...g,status:P.UNPAID})):w<l.amountDue?r(g=>({...g,status:P.PARTIAL})):r(g=>({...g,status:P.PAID}))}},c=f=>{if(f.preventDefault(),l.orderId===""||l.customerId===""){alert("Please select an order and customer.");return}s(l)},d=!!e;return i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"orderId",className:"block text-sm font-medium text-gray-700",children:"Related Order"}),i.jsxs("select",{name:"orderId",id:"orderId",value:l.orderId,onChange:u,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",disabled:d,children:[i.jsx("option",{value:"",disabled:!0,children:"Select Order"}),a.filter(f=>!f.linkedInvoiceId||e&&f.id===e.orderId).map(f=>{var p;return i.jsxs("option",{value:f.id,children:[f.id.substring(0,8),"... - ",(p=t.find(S=>S.id===f.customerId))==null?void 0:p.companyName]},f.id)})]}),d&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Order cannot be changed after invoice creation."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Customer"}),i.jsx("input",{type:"text",value:((h=t.find(f=>f.id===l.customerId))==null?void 0:h.companyName)||"N/A",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm p-2"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dateIssued",className:"block text-sm font-medium text-gray-700",children:"Date Issued"}),i.jsx("input",{type:"date",name:"dateIssued",id:"dateIssued",value:l.dateIssued,onChange:o,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700",children:"Due Date"}),i.jsx("input",{type:"date",name:"dueDate",id:"dueDate",value:l.dueDate,onChange:o,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amountDue",className:"block text-sm font-medium text-gray-700",children:"Amount Due (USD)"}),i.jsx("input",{type:"number",name:"amountDue",id:"amountDue",value:l.amountDue,onChange:o,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm p-2",readOnly:d})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700",children:"Amount Paid (USD)"}),i.jsx("input",{type:"number",name:"amountPaid",id:"amountPaid",value:l.amountPaid,onChange:o,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),i.jsxs("select",{name:"paymentMethod",id:"paymentMethod",value:l.paymentMethod||"",onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",children:"Select Method"}),G1.map(f=>i.jsx("option",{value:f.value,children:f.label},f.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"datePaid",className:"block text-sm font-medium text-gray-700",children:"Date Paid"}),i.jsx("input",{type:"date",name:"datePaid",id:"datePaid",value:l.datePaid||"",onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsx("select",{name:"status",id:"status",value:l.status,onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:hp.map(f=>i.jsx("option",{value:f.value,children:f.label},f.value))})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Invoice"})]})]})},Z1=()=>{const{invoices:e,addInvoice:t,updateInvoice:a,customers:s,salesOrders:n}=fr(),[l,r]=_.useState(!1),[u,o]=_.useState(!1),[c,d]=_.useState(void 0),[h,f]=_.useState(""),[p,S]=_.useState(""),m=()=>{d(void 0),r(!0)},w=v=>{d(v),r(!0)},g=v=>{d(v),o(!0)},y=v=>{"id"in v?a(v):t(v),r(!1)},x=v=>{var b;return((b=s.find(O=>O.id===v))==null?void 0:b.companyName)||"Unknown Customer"},j=new Date().toISOString().split("T")[0],N=e.map(v=>(v.status===P.UNPAID||v.status===P.PARTIAL)&&v.dueDate<j?{...v,status:P.OVERDUE}:v).filter(v=>{const b=h?v.status===h:!0,O=p?v.customerId===p:!0;return b&&O}),D=v=>{switch(v){case P.PAID:return"bg-green-100 text-green-800";case P.PARTIAL:return"bg-yellow-100 text-yellow-800";case P.UNPAID:return"bg-red-100 text-red-800";case P.OVERDUE:return"bg-pink-200 text-pink-800 font-bold";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(Vn,{className:"w-8 h-8 mr-2"}),"Invoices & Payments"]}),i.jsxs("button",{onClick:m,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Xn,{className:"w-5 h-5 mr-2"})," Create New Invoice"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterStatus",className:"block text-sm font-medium text-gray-700",children:"Filter by Status"}),i.jsxs("select",{id:"filterStatus",value:h,onChange:v=>f(v.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Statuses"}),hp.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCustomer",className:"block text-sm font-medium text-gray-700",children:"Filter by Customer"}),i.jsxs("select",{id:"filterCustomer",value:p,onChange:v=>S(v.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Customers"}),s.map(v=>i.jsx("option",{value:v.id,children:v.companyName},v.id))]})]})]})}),N.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No invoices found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Due"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Paid"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(v=>i.jsxs("tr",{className:`hover:bg-gray-50 ${v.status===P.UNPAID||v.status===P.OVERDUE?"border-l-4 border-red-500":v.status===P.PARTIAL?"border-l-4 border-yellow-500":""}`,children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.invoiceNumber}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x(v.customerId)}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",v.amountDue.toFixed(2)]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",v.amountPaid.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.dueDate).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(v.status)}`,children:v.status})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>g(v),className:"text-accent hover:text-primary",children:i.jsx(wc,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>w(v),className:"text-secondary hover:text-primary",children:i.jsx(cr,{className:"w-5 h-5 inline"})})]})]},v.id))})]})}),i.jsx(ma,{isOpen:l,onClose:()=>r(!1),title:c?"Edit Invoice":"Create New Invoice",size:"lg",children:i.jsx(K1,{invoice:c,customers:s,salesOrders:n,onSave:y,onClose:()=>r(!1)})}),c&&i.jsx(ma,{isOpen:u,onClose:()=>o(!1),title:"Invoice Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Invoice Number:"})," ",c.invoiceNumber]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Order ID:"})," ",c.orderId]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Customer:"})," ",x(c.customerId)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Date Issued:"})," ",new Date(c.dateIssued).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Due Date:"})," ",new Date(c.dueDate).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount Due:"})," USD ",c.amountDue.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount Paid:"})," USD ",c.amountPaid.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Remaining Balance:"})," USD ",(c.amountDue-c.amountPaid).toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Payment Method:"})," ",c.paymentMethod||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Date Paid:"})," ",c.datePaid?new Date(c.datePaid).toLocaleDateString():"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"})," ",i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${D(c.status)}`,children:c.status})]}),c.status===P.OVERDUE&&i.jsx("p",{className:"text-red-600 font-bold",children:"This invoice is overdue!"})]})})]})},Nf={expenseType:Yn.LOGISTICS,date:new Date().toISOString().split("T")[0],amount:0,paidTo:"",relatedOrderId:void 0,receiptUrl:void 0,isApproved:!1,description:""},J1=({expense:e,salesOrders:t,onSave:a,onClose:s})=>{const[n,l]=_.useState(()=>e?{...e}:Nf);_.useEffect(()=>{l(e?{...e}:Nf)},[e]);const r=o=>{const{name:c,value:d,type:h}=o.target;if(h==="checkbox"){const{checked:f}=o.target;l(p=>({...p,[c]:f}))}else{const f=c==="amount"?parseFloat(d):d;l(p=>({...p,[c]:f}))}},u=o=>{o.preventDefault(),a(n)};return i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"expenseType",className:"block text-sm font-medium text-gray-700",children:"Expense Type"}),i.jsx("select",{name:"expenseType",id:"expenseType",value:n.expenseType,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:mp.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),i.jsx("input",{type:"date",name:"date",id:"date",value:n.date,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount (USD)"}),i.jsx("input",{type:"number",name:"amount",id:"amount",value:n.amount,onChange:r,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"paidTo",className:"block text-sm font-medium text-gray-700",children:"Paid To"}),i.jsx("input",{type:"text",name:"paidTo",id:"paidTo",value:n.paidTo,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"relatedOrderId",className:"block text-sm font-medium text-gray-700",children:"Related Order (Optional)"}),i.jsxs("select",{name:"relatedOrderId",id:"relatedOrderId",value:n.relatedOrderId||"",onChange:r,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",children:"None"}),t.map(o=>i.jsxs("option",{value:o.id,children:[o.id.substring(0,8),"... (",o.product,")"]},o.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),i.jsx("textarea",{name:"description",id:"description",value:n.description,onChange:r,rows:2,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"receiptUrl",className:"block text-sm font-medium text-gray-700",children:"Upload Receipt (mock)"}),i.jsx("input",{type:"file",name:"receiptUrl",id:"receiptUrl",onChange:()=>alert("File upload is a demo feature. Path will not be stored."),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-accent file:text-primary hover:file:bg-secondary"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"isApproved",id:"isApproved",checked:n.isApproved,onChange:r,className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-accent"}),i.jsx("label",{htmlFor:"isApproved",className:"ml-2 block text-sm text-gray-900",children:"Mark as Approved"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Expense"})]})]})},F1=()=>{const{expenses:e,addExpense:t,updateExpense:a,salesOrders:s}=fr(),[n,l]=_.useState(!1),[r,u]=_.useState(!1),[o,c]=_.useState(void 0),[d,h]=_.useState(""),[f,p]=_.useState(""),[S,m]=_.useState(""),w=()=>{c(void 0),l(!0)},g=b=>{c(b),l(!0)},y=b=>{c(b),u(!0)},x=b=>{"id"in b?a(b):t(b),l(!1)},j=b=>{a({...b,isApproved:!b.isApproved})},N=e.filter(b=>{const O=d?b.expenseType===d:!0,k=f?b.date.startsWith(f):!0,C=S?b.relatedOrderId===S:!0;return O&&k&&C}).sort((b,O)=>new Date(O.date).getTime()-new Date(b.date).getTime()),D=N.reduce((b,O)=>{const k=O.date.substring(0,7);return b[k]=(b[k]||0)+O.amount,b},{}),v=N.reduce((b,O)=>{const k=O.date.substring(0,4);return b[k]=(b[k]||0)+O.amount,b},{});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(Mi,{className:"w-8 h-8 mr-2"}),"Expenses Management"]}),i.jsxs("button",{onClick:w,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Xn,{className:"w-5 h-5 mr-2"})," Log New Expense"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCategory",className:"block text-sm font-medium text-gray-700",children:"Filter by Category"}),i.jsxs("select",{id:"filterCategory",value:d,onChange:b=>h(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Categories"}),mp.map(b=>i.jsx("option",{value:b.value,children:b.label},b.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-gray-700",children:"Filter by Date (YYYY or YYYY-MM)"}),i.jsx("input",{type:"text",id:"filterDate",placeholder:"e.g. 2024 or 2024-07",value:f,onChange:b=>p(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterOrder",className:"block text-sm font-medium text-gray-700",children:"Filter by Related Order"}),i.jsxs("select",{id:"filterOrder",value:S,onChange:b=>m(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Orders"}),s.map(b=>i.jsxs("option",{value:b.id,children:[b.id.substring(0,8),"... (",b.product,")"]},b.id))]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Monthly Summary"}),Object.keys(D).length>0?i.jsx("ul",{className:"text-sm space-y-1",children:Object.entries(D).map(([b,O])=>i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[b,":"]})," ",i.jsxs("span",{className:"font-medium",children:["USD ",O.toFixed(2)]})]},b))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No expenses for summary."})]}),i.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Yearly Summary"}),Object.keys(v).length>0?i.jsx("ul",{className:"text-sm space-y-1",children:Object.entries(v).map(([b,O])=>i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[b,":"]})," ",i.jsxs("span",{className:"font-medium",children:["USD ",O.toFixed(2)]})]},b))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No expenses for summary."})]})]}),N.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No expenses found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid To"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(b=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(b.date).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.expenseType}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",b.amount.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.paidTo}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsx("button",{onClick:()=>j(b),className:`p-1 rounded-full ${b.isApproved?"text-success":"text-error"}`,children:b.isApproved?i.jsx(En,{className:"w-5 h-5"}):i.jsx(jf,{className:"w-5 h-5"})})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>y(b),className:"text-accent hover:text-primary",children:i.jsx(wc,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>g(b),className:"text-secondary hover:text-primary",children:i.jsx(cr,{className:"w-5 h-5 inline"})})]})]},b.id))})]})}),i.jsx(ma,{isOpen:n,onClose:()=>l(!1),title:o?"Edit Expense":"Log New Expense",size:"lg",children:i.jsx(J1,{expense:o,salesOrders:s,onSave:x,onClose:()=>l(!1)})}),o&&i.jsx(ma,{isOpen:r,onClose:()=>u(!1),title:"Expense Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Date:"})," ",new Date(o.date).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Type:"})," ",o.expenseType]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount:"})," USD ",o.amount.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Paid To:"})," ",o.paidTo]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Description:"})," ",o.description||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Related Order ID:"})," ",o.relatedOrderId||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Approved:"})," ",o.isApproved?i.jsx(En,{className:"w-5 h-5 inline text-success"}):i.jsx(jf,{className:"w-5 h-5 inline text-error"})]}),o.receiptUrl&&i.jsxs("p",{children:[i.jsx("strong",{children:"Receipt:"})," ",i.jsx("a",{href:o.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"View Receipt (mock)"})]}),!o.isApproved&&o.amount>1e3&&i.jsx("div",{className:"pt-4 border-t mt-4",children:i.jsxs("button",{onClick:()=>{j(o),c(b=>b?{...b,isApproved:!b.isApproved}:void 0)},className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center justify-center",children:[i.jsx(En,{className:"w-5 h-5 mr-2"})," Approve Expense"]})})]})})]})},Hl=({title:e,value:t,icon:a,color:s="bg-primary"})=>i.jsxs("div",{className:`${s} text-white p-6 rounded-xl shadow-lg flex items-center space-x-4 transform hover:scale-105 transition-transform duration-200`,children:[i.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full",children:Jn.cloneElement(a,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm uppercase tracking-wide",children:e}),i.jsx("p",{className:"text-3xl font-bold",children:typeof t=="number"&&!e.toLowerCase().includes("customer")&&!e.toLowerCase().includes("active")?`USD ${t.toFixed(2)}`:t})]})]}),W1=()=>{const{salesOrders:e,invoices:t,expenses:a,customers:s,updateExpense:n}=fr(),l=e.reduce((m,w)=>{const g=t.find(y=>y.orderId===w.id);return g&&(g.status===P.PAID||g.status===P.PARTIAL)?m+g.amountPaid:m},0),r=t.filter(m=>m.status===P.UNPAID||m.status===P.PARTIAL||m.status===P.OVERDUE).reduce((m,w)=>m+(w.amountDue-w.amountPaid),0),u=a.filter(m=>new Date(m.date).getMonth()===new Date().getMonth()&&new Date(m.date).getFullYear()===new Date().getFullYear()&&m.isApproved).reduce((m,w)=>m+w.amount,0),o=s.map(m=>{const w=e.filter(g=>g.customerId===m.id).reduce((g,y)=>{const x=t.find(j=>j.orderId===y.id&&(j.status===P.PAID||j.status===P.PARTIAL));return g+(x?x.amountPaid:0)},0);return{name:m.companyName,totalSales:w}}).filter(m=>m.totalSales>0).sort((m,w)=>w.totalSales-m.totalSales).slice(0,5),c=new Date,d=new Date;d.setDate(c.getDate()-30);const h=t.filter(m=>(m.status===P.UNPAID||m.status===P.PARTIAL||m.status===P.OVERDUE)&&new Date(m.dueDate)<d&&new Date(m.dueDate)<c),f=a.filter(m=>!m.isApproved&&m.amount>500),p=e.map(m=>{const w=a.filter(j=>j.relatedOrderId===m.id&&j.isApproved).reduce((j,N)=>j+N.amount,0),g=t.find(j=>j.orderId===m.id&&(j.status===P.PAID||j.status===P.PARTIAL)),y=g?g.amountPaid:0,x=y-w;return{orderId:m.id,product:m.product,profit:x,totalRevenue:y,totalExpenses:w}}).filter(m=>m.totalRevenue>0||m.totalExpenses>0),S=m=>{const w=a.find(g=>g.id===m);w&&n({...w,isApproved:!w.isApproved})};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(gp,{className:"w-8 h-8 mr-2"}),"Manager Dashboard"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsx(Hl,{title:"Monthly Revenue (Paid/Partial)",value:l,icon:i.jsx(Vn,{}),color:"bg-green-500"}),i.jsx(Hl,{title:"Outstanding Payments",value:r,icon:i.jsx(Mi,{}),color:"bg-yellow-500"}),i.jsx(Hl,{title:"Total Approved Expenses (This Month)",value:u,icon:i.jsx(Mi,{}),color:"bg-red-500"}),i.jsx(Hl,{title:"Active Customers",value:s.filter(m=>m.status===Us.ACTIVE||m.status===Us.REPEAT).length,icon:i.jsx(bc,{}),color:"bg-blue-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Profit Per Shipment (Based on Paid Invoices & Approved Expenses)"}),p.length>0?i.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:p.map(m=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md text-sm",children:[i.jsxs("p",{className:"font-medium",children:[m.product," (Order: ",m.orderId.substring(0,6),"...)"]}),i.jsxs("p",{children:["Revenue (Paid): ",i.jsxs("span",{className:"text-green-600",children:["USD ",m.totalRevenue.toFixed(2)]})]}),i.jsxs("p",{children:["Approved Expenses: ",i.jsxs("span",{className:"text-red-600",children:["USD ",m.totalExpenses.toFixed(2)]})]}),i.jsxs("p",{children:["Profit: ",i.jsxs("span",{className:`font-bold ${m.profit>=0?"text-green-700":"text-red-700"}`,children:["USD ",m.profit.toFixed(2)]})]})]},m.orderId))}):i.jsx("p",{className:"text-gray-500",children:"No shipment data with paid invoices to display profit."})]}),i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Top Performing Customers (by Paid Sales)"}),o.length>0?i.jsx("ul",{className:"space-y-2",children:o.map(m=>i.jsxs("li",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-md text-sm",children:[i.jsx("span",{className:"font-medium text-secondary",children:m.name}),i.jsxs("span",{className:"text-green-600 font-semibold",children:["USD ",m.totalSales.toFixed(2)]})]},m.name))}):i.jsx("p",{className:"text-gray-500",children:"No customer sales data (paid invoices) available."})]})]}),i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsxs("h2",{className:"text-xl font-semibold text-primary mb-4 flex items-center",children:[i.jsx(P1,{className:"w-6 h-6 mr-2 text-red-500"})," Alerts & Approvals"]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-yellow-600 mb-2",children:"Unpaid Invoices (Older than 30 days past due)"}),h.length>0?i.jsx("ul",{className:"space-y-2 text-sm",children:h.map(m=>{var w;return i.jsxs("li",{className:"p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded-md",children:["Invoice ",i.jsx("span",{className:"font-semibold",children:m.invoiceNumber})," for ",(w=s.find(g=>g.id===m.customerId))==null?void 0:w.companyName," (USD ",(m.amountDue-m.amountPaid).toFixed(2),") due on ",new Date(m.dueDate).toLocaleDateString(),"."]},m.id)})}):i.jsx("p",{className:"text-gray-500 text-sm",children:"No invoices older than 30 days past due."})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-blue-600 mb-2",children:["High-Value Expenses Awaiting Approval (>","USD 500",")"]}),f.length>0?i.jsx("ul",{className:"space-y-2 text-sm",children:f.map(m=>i.jsxs("li",{className:"p-3 bg-blue-50 border-l-4 border-blue-400 rounded-md flex justify-between items-center",children:[i.jsxs("div",{children:["Expense for ",i.jsx("span",{className:"font-semibold",children:m.paidTo})," (USD ",m.amount.toFixed(2),") on ",new Date(m.date).toLocaleDateString()," - ",m.description,"."]}),i.jsxs("button",{onClick:()=>S(m.id),className:"bg-green-500 text-white px-3 py-1 rounded-md hover:bg-green-600 text-xs flex items-center",children:[i.jsx(En,{className:"w-4 h-4 mr-1"})," Approve"]})]},m.id))}):i.jsx("p",{className:"text-gray-500 text-sm",children:"No high-value expenses awaiting approval."})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-lg font-medium text-green-600 mb-2",children:"Recently Approved High-Value Expenses"}),a.filter(m=>m.isApproved&&m.amount>500).slice(-5).reverse().map(m=>i.jsxs("li",{className:"p-3 bg-green-50 border-l-4 border-green-400 rounded-md flex justify-between items-center text-sm",children:[i.jsxs("div",{children:["Expense for ",i.jsx("span",{className:"font-semibold",children:m.paidTo})," (USD ",m.amount.toFixed(2),") on ",new Date(m.date).toLocaleDateString()," - ",m.description,"."]}),i.jsxs("span",{className:"text-green-700 flex items-center",children:[i.jsx(En,{className:"w-4 h-4 mr-1"})," Approved"]})]},m.id)),a.filter(m=>m.isApproved&&m.amount>500).length===0&&i.jsx("p",{className:"text-gray-500 text-sm",children:"No high-value expenses recently approved."})]})]})]})};var vp=(e=>(e.SIDAMA="Sidama",e.YIRGACHEFFE="Yirgacheffe",e.GUJI="Guji",e.HARRAR="Harrar",e.LIMU="Limu",e.OTHER="Other",e))(vp||{}),zi=(e=>(e.LEAD="Lead",e.ACTIVE="Active",e.REPEAT="Repeat",e.DORMANT="Dormant",e))(zi||{}),yp=(e=>(e.ORGANIC="Organic",e.FAIR_TRADE="Fair Trade",e.RAINFOREST_ALLIANCE="Rainforest Alliance",e.UTZ="UTZ Certified",e))(yp||{}),Qn=(e=>(e.PENDING="Pending",e.SHIPPED="Shipped",e.DELIVERED="Delivered",e))(Qn||{}),jc=(e=>(e.LC="Letter of Credit",e.WIRE="Wire Transfer",e.CASH="Cash",e))(jc||{}),Q=(e=>(e.PAID="Paid",e.PARTIAL="Partial",e.UNPAID="Unpaid",e.OVERDUE="Overdue",e))(Q||{}),Sc=(e=>(e.LOGISTICS="Logistics",e.FARMER_PAYMENT="Farmer Payment",e.ADMIN="Admin",e.PACKAGING="Packaging",e.MARKETING="Marketing",e.OTHER="Other",e))(Sc||{});Object.values(vp).map(e=>({value:e,label:e}));Object.values(zi).map(e=>({value:e,label:e}));Object.values(yp).map(e=>({value:e,label:e}));const xp=Object.values(Qn).map(e=>({value:e,label:e})),ew=Object.values(jc).map(e=>({value:e,label:e})),bp=Object.values(Q).map(e=>({value:e,label:e})),wp=Object.values(Sc).map(e=>({value:e,label:e})),jp=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),_c=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),Sp=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),Kn=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Li=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),_p=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75c0 .621-.504 1.125-1.125 1.125h-2.25A1.125 1.125 0 013 21v-7.875zM12.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v12.375c0 .621-.504 1.125-1.125 1.125h-2.25A1.125 1.125 0 0112.75 21V8.625zM21 4.125C21 3.504 21.504 3 22.125 3h2.25c.621 0 1.125.504 1.125 1.125v16.875A1.125 1.125 0 0124.375 21h-2.25A1.125 1.125 0 0121 19.875V4.125z"})}),Zn=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),dr=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),Nc=e=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),An=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ef=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),tw=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),Np=()=>{const[e,t]=_.useState(""),[a,s]=_.useState(""),[n,l]=_.useState(!1),[r,u]=_.useState(null),[o,c]=_.useState(null),d=async f=>{f.preventDefault(),l(!0),u(null),c(null);const{error:p}=await yt.auth.signInWithPassword({email:e,password:a});p?u(p.message):c("Login successful! Redirecting…"),l(!1)},h=async()=>{l(!0),u(null);const{error:f}=await yt.auth.signInWithOAuth({provider:"google"});f&&(u(f.message),l(!1))};return i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-light-gray p-4",children:i.jsxs("div",{className:"bg-surface p-8 md:p-12 rounded-xl shadow-2xl w-full max-w-md",children:[i.jsxs("div",{className:"flex flex-col items-center mb-8",children:[i.jsx(jp,{className:"w-16 h-16 text-primary mb-3"}),i.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Coffee Export Manager"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Sign in to access your dashboard"})]}),r&&i.jsx("div",{className:"mb-4 p-3 bg-error bg-opacity-10 text-error border border-error rounded-md text-sm",children:r}),o&&i.jsx("div",{className:"mb-4 p-3 bg-success bg-opacity-10 text-success border border-success rounded-md text-sm",children:o}),i.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm",placeholder:"you@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:f=>s(f.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm",placeholder:"••••••••"})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent disabled:opacity-50",children:n?"Signing in…":"Sign in"})})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-surface text-gray-500",children:"Or continue with"})})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("button",{onClick:h,disabled:n,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.477 0 10c0 4.419 2.865 8.166 6.839 9.49.5.092.682-.217.682-.483 0-.237-.009-.868-.013-1.703-2.782.602-3.369-1.34-3.369-1.34-.455-1.156-1.11-1.465-1.11-1.465-.909-.62.069-.608.069-.608 1.004.074 1.532 1.03 1.532 1.03.891 1.526 2.335 1.085 2.904.83.092-.645.348-1.085.635-1.334-2.22-.251-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.032-2.682-.104-.252-.448-1.27.098-2.642 0 0 .84-.269 2.75 1.026A9.564 9.564 0 0110 4.817c.852 0 1.707.114 2.504.337 1.909-1.295 2.748-1.026 2.748-1.026.548 1.372.204 2.39.1 2.642.64.698 1.03 1.591 1.03 2.682 0 3.842-2.337 4.687-4.565 4.935.358.307.678.917.678 1.85 0 1.334-.012 2.41-.012 2.736 0 .269.18.579.688.48A10.001 10.001 0 0020 10c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),"Sign in with Google"]})})]}),i.jsxs("p",{className:"mt-8 text-center text-sm text-gray-500",children:["For demo purposes, you can try with:",i.jsx("br",{}),"Email:"," ",i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"user@example.com"})," ",i.jsx("br",{}),"Password:"," ",i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"password"}),i.jsx("br",{})," (Note: Replace with your actual Supabase user credentials)"]})]})})},aw=[{id:"cust_1",companyName:"Beans & Brews",contactPerson:"Alice Smith",country:"USA",email:"alice@bnb.com",phone:"555-1234",preferredOrigin:ki.YIRGACHEFFE,certificationsRequired:[Ri.ORGANIC,Ri.FAIR_TRADE],status:Us.ACTIVE,assignedSalesRep:"John Doe",notes:"Loves bright, acidic coffees.",nextFollowUpDate:"2024-08-15",interactions:[{id:"int_1",date:"2024-07-10",type:"Call",notes:"Discussed new Yirgacheffe crop."}]},{id:"cust_2",companyName:"Global Coffee Importers",contactPerson:"Bob Johnson",country:"Germany",email:"bob@gci.de",phone:"555-5678",preferredOrigin:ki.SIDAMA,certificationsRequired:[],status:Us.LEAD,assignedSalesRep:"Jane Roe",notes:"Interested in bulk Sidama, price sensitive.",interactions:[]}],sw=[{id:"ord_1",customerId:"cust_1",product:"Yirgacheffe G1 Washed",grade:"G1",quantityKg:500,unitPrice:8.5,totalAmount:4250,shippingStatus:Ms.SHIPPED,orderDate:"2024-07-01",documents:[],linkedInvoiceId:"inv_1"}],nw=[{id:"inv_1",orderId:"ord_1",customerId:"cust_1",invoiceNumber:"INV-2024-001",dateIssued:"2024-07-02",dueDate:"2024-08-01",amountDue:4250,amountPaid:2e3,status:P.PARTIAL,paymentMethod:mc.WIRE,datePaid:"2024-07-15"}],lw=[{id:"exp_1",expenseType:Yn.LOGISTICS,date:"2024-07-03",amount:300,paidTo:"Global Shipping Co.",relatedOrderId:"ord_1",isApproved:!0,description:"Shipping for ORD_1"},{id:"exp_2",expenseType:Yn.FARMER_PAYMENT,date:"2024-06-20",amount:2e3,paidTo:"Yirgacheffe Coop",isApproved:!0,description:"Payment for Yirgacheffe beans"}],Ep=_.createContext(null),fr=()=>{const e=_.useContext(Ep);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},iw=()=>{const[e,t]=_.useState(null),[a,s]=_.useState(!0),[n,l]=_.useState(aw),[r,u]=_.useState(sw),[o,c]=_.useState(nw),[d,h]=_.useState(lw),f=Ys(),p=hc();_.useEffect(()=>{(async()=>{const{data:{session:Y}}=await yt.auth.getSession();t(Y),s(!1)})();const{data:R}=yt.auth.onAuthStateChange((Y,_e)=>{t(_e),_e||p("/")});return()=>{R==null||R.subscription.unsubscribe()}},[p]);const S=async()=>{const{error:A}=await yt.auth.signOut();A?(console.error("Error logging out:",A),alert(`Error logging out: ${A.message}`)):t(null)},m=A=>`${A}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,w=_.useCallback(A=>{l(R=>[...R,{...A,id:m("cust"),interactions:[]}])},[]),g=_.useCallback(A=>{l(R=>R.map(Y=>Y.id===A.id?A:Y))},[]),y=_.useCallback((A,R)=>{l(Y=>Y.map(_e=>_e.id===A?{..._e,interactions:[..._e.interactions,{...R,id:m("int")}]}:_e))},[]),x=_.useCallback(A=>{const R={...A,id:m("ord"),totalAmount:A.quantityKg*A.unitPrice,documents:[]};return u(Y=>[...Y,R]),R.id},[]),j=_.useCallback(A=>{u(R=>R.map(Y=>Y.id===A.id?{...A,totalAmount:A.quantityKg*A.unitPrice}:Y))},[]),N=_.useCallback(A=>{const R=`INV-${new Date().getFullYear()}-${(o.length+1).toString().padStart(3,"0")}`;c(Y=>[...Y,{...A,id:m("inv"),invoiceNumber:R}])},[o.length]),D=_.useCallback(A=>{c(R=>R.map(Y=>Y.id===A.id?A:Y))},[]),v=_.useCallback(A=>{if(A.linkedInvoiceId&&o.find(M=>M.id===A.linkedInvoiceId)){alert("Invoice already exists for this order.");return}const R=m("inv"),Y=`INV-${new Date().getFullYear()}-${(o.length+1).toString().padStart(3,"0")}`,_e=new Date(A.orderDate);_e.setDate(_e.getDate()+30);const T={id:R,orderId:A.id,customerId:A.customerId,invoiceNumber:Y,dateIssued:new Date().toISOString().split("T")[0],dueDate:_e.toISOString().split("T")[0],amountDue:A.totalAmount,amountPaid:0,status:P.UNPAID};c(M=>[...M,T]),u(M=>M.map(z=>z.id===A.id?{...z,linkedInvoiceId:R}:z))},[o]),b=_.useCallback(A=>{h(R=>[...R,{...A,id:m("exp")}])},[]),O=_.useCallback(A=>{h(R=>R.map(Y=>Y.id===A.id?A:Y))},[]),k={session:e,logout:S,customers:n,setCustomers:l,addCustomer:w,updateCustomer:g,logInteraction:y,salesOrders:r,setSalesOrders:u,addSalesOrder:x,updateSalesOrder:j,invoices:o,setInvoices:c,addInvoice:N,updateInvoice:D,generateInvoiceForOrder:v,expenses:d,setExpenses:h,addExpense:b,updateExpense:O},C=[{path:"/",label:"Dashboard",icon:i.jsx(gp,{className:"w-5 h-5 mr-2"})},{path:"/crm",label:"CRM",icon:i.jsx(bc,{className:"w-5 h-5 mr-2"})},{path:"/sales",label:"Sales Log",icon:i.jsx(pp,{className:"w-5 h-5 mr-2"})},{path:"/invoices",label:"Invoices",icon:i.jsx(Vn,{className:"w-5 h-5 mr-2"})},{path:"/expenses",label:"Expenses",icon:i.jsx(Mi,{className:"w-5 h-5 mr-2"})}];return a?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-light-gray",children:i.jsx("p",{className:"text-xl text-primary",children:"Loading application..."})}):i.jsx(Ep.Provider,{value:k,children:e?i.jsxs("div",{className:"min-h-screen flex flex-col bg-light-gray",children:[i.jsx("header",{className:"bg-primary text-white shadow-md",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Y1,{className:"w-8 h-8 mr-3 text-accent"}),i.jsx("h1",{className:"text-2xl font-semibold",children:"Coffee Export Manager"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("nav",{className:"flex space-x-1",children:C.map(A=>i.jsxs(I0,{to:A.path,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150 ease-in-out ${f.pathname===A.path?"bg-accent text-primary":"text-gray-200 hover:bg-secondary hover:text-white"}`,children:[A.icon,A.label]},A.path))}),i.jsx("button",{onClick:S,className:"px-3 py-2 rounded-md text-sm font-medium bg-error hover:bg-red-700 text-white transition-colors",children:"Logout"})]})]})}),i.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:i.jsxs(q0,{children:[i.jsx(ut,{path:"/",element:i.jsx(W1,{})}),i.jsx(ut,{path:"/crm",element:i.jsx(V1,{})}),i.jsx(ut,{path:"/sales",element:i.jsx(Q1,{})}),i.jsx(ut,{path:"/invoices",element:i.jsx(Z1,{})}),i.jsx(ut,{path:"/expenses",element:i.jsx(F1,{})})]})}),i.jsxs("footer",{className:"bg-primary text-white text-center py-4",children:[i.jsxs("p",{children:["© ",new Date().getFullYear()," Coffee Export Solutions. All rights reserved."]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Data is stored in-memory and will be lost on page refresh (Demo purposes)."})]})]}):i.jsx(Np,{})})},Ap=document.getElementById("root");if(!Ap)throw new Error("Could not find root element to mount to");const rw=A0.createRoot(Ap);rw.render(i.jsx(Jn.StrictMode,{children:i.jsx(H0,{children:i.jsx(iw,{})})}));const Il=({title:e,value:t,icon:a,color:s="bg-primary"})=>i.jsxs("div",{className:`${s} text-white p-6 rounded-xl shadow-lg flex items-center space-x-4 transform hover:scale-105 transition-transform duration-200`,children:[i.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full",children:Jn.cloneElement(a,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm uppercase tracking-wide",children:e}),i.jsx("p",{className:"text-3xl font-bold",children:typeof t=="number"&&!e.toLowerCase().includes("customer")&&!e.toLowerCase().includes("active")?`USD ${t.toFixed(2)}`:t})]})]}),uw=()=>{const{salesOrders:e,invoices:t,expenses:a,customers:s,updateExpense:n}=hr(),l=e.reduce((m,w)=>{const g=t.find(y=>y.orderId===w.id);return g&&(g.status===Q.PAID||g.status===Q.PARTIAL)?m+g.amountPaid:m},0),r=t.filter(m=>m.status===Q.UNPAID||m.status===Q.PARTIAL||m.status===Q.OVERDUE).reduce((m,w)=>m+(w.amountDue-w.amountPaid),0),u=a.filter(m=>new Date(m.date).getMonth()===new Date().getMonth()&&new Date(m.date).getFullYear()===new Date().getFullYear()&&m.isApproved).reduce((m,w)=>m+w.amount,0),o=s.map(m=>{const w=e.filter(g=>g.customerId===m.id).reduce((g,y)=>{const x=t.find(j=>j.orderId===y.id&&(j.status===Q.PAID||j.status===Q.PARTIAL));return g+(x?x.amountPaid:0)},0);return{name:m.companyName,totalSales:w}}).filter(m=>m.totalSales>0).sort((m,w)=>w.totalSales-m.totalSales).slice(0,5),c=new Date,d=new Date;d.setDate(c.getDate()-30);const h=t.filter(m=>(m.status===Q.UNPAID||m.status===Q.PARTIAL||m.status===Q.OVERDUE)&&new Date(m.dueDate)<d&&new Date(m.dueDate)<c),f=a.filter(m=>!m.isApproved&&m.amount>500),p=e.map(m=>{const w=a.filter(j=>j.relatedOrderId===m.id&&j.isApproved).reduce((j,N)=>j+N.amount,0),g=t.find(j=>j.orderId===m.id&&(j.status===Q.PAID||j.status===Q.PARTIAL)),y=g?g.amountPaid:0,x=y-w;return{orderId:m.id,product:m.product,profit:x,totalRevenue:y,totalExpenses:w}}).filter(m=>m.totalRevenue>0||m.totalExpenses>0),S=m=>{const w=a.find(g=>g.id===m);w&&n({...w,isApproved:!w.isApproved})};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(_p,{className:"w-8 h-8 mr-2"}),"Manager Dashboard"]}),i.jsx("button",{onClick:async()=>{await supabase.auth.signOut(),window.location.reload()},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm",children:"Logout"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsx(Il,{title:"Monthly Revenue (Paid/Partial)",value:l,icon:i.jsx(Kn,{}),color:"bg-green-500"}),i.jsx(Il,{title:"Outstanding Payments",value:r,icon:i.jsx(Li,{}),color:"bg-yellow-500"}),i.jsx(Il,{title:"Total Approved Expenses (This Month)",value:u,icon:i.jsx(Li,{}),color:"bg-red-500"}),i.jsx(Il,{title:"Active Customers",value:s.filter(m=>m.status===zi.ACTIVE||m.status===zi.REPEAT).length,icon:i.jsx(_c,{}),color:"bg-blue-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Profit Per Shipment (Based on Paid Invoices & Approved Expenses)"}),p.length>0?i.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:p.map(m=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md text-sm",children:[i.jsxs("p",{className:"font-medium",children:[m.product," (Order: ",m.orderId.substring(0,6),"...)"]}),i.jsxs("p",{children:["Revenue (Paid): ",i.jsxs("span",{className:"text-green-600",children:["USD ",m.totalRevenue.toFixed(2)]})]}),i.jsxs("p",{children:["Approved Expenses: ",i.jsxs("span",{className:"text-red-600",children:["USD ",m.totalExpenses.toFixed(2)]})]}),i.jsxs("p",{children:["Profit: ",i.jsxs("span",{className:`font-bold ${m.profit>=0?"text-green-700":"text-red-700"}`,children:["USD ",m.profit.toFixed(2)]})]})]},m.orderId))}):i.jsx("p",{className:"text-gray-500",children:"No shipment data with paid invoices to display profit."})]}),i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Top Performing Customers (by Paid Sales)"}),o.length>0?i.jsx("ul",{className:"space-y-2",children:o.map(m=>i.jsxs("li",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-md text-sm",children:[i.jsx("span",{className:"font-medium text-secondary",children:m.name}),i.jsxs("span",{className:"text-green-600 font-semibold",children:["USD ",m.totalSales.toFixed(2)]})]},m.name))}):i.jsx("p",{className:"text-gray-500",children:"No customer sales data (paid invoices) available."})]})]}),i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsxs("h2",{className:"text-xl font-semibold text-primary mb-4 flex items-center",children:[i.jsx(tw,{className:"w-6 h-6 mr-2 text-red-500"})," Alerts & Approvals"]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-yellow-600 mb-2",children:"Unpaid Invoices (Older than 30 days past due)"}),h.length>0?i.jsx("ul",{className:"space-y-2 text-sm",children:h.map(m=>{var w;return i.jsxs("li",{className:"p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded-md",children:["Invoice ",i.jsx("span",{className:"font-semibold",children:m.invoiceNumber})," for ",(w=s.find(g=>g.id===m.customerId))==null?void 0:w.companyName," (USD ",(m.amountDue-m.amountPaid).toFixed(2),") due on ",new Date(m.dueDate).toLocaleDateString(),"."]},m.id)})}):i.jsx("p",{className:"text-gray-500 text-sm",children:"No invoices older than 30 days past due."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-blue-600 mb-2",children:"High-Value Expenses Awaiting Approval (> USD 500)"}),f.length>0?i.jsx("ul",{className:"space-y-2 text-sm",children:f.map(m=>i.jsxs("li",{className:"p-3 bg-blue-50 border-l-4 border-blue-400 rounded-md flex justify-between items-center",children:[i.jsxs("div",{children:["Expense for ",i.jsx("span",{className:"font-semibold",children:m.paidTo})," (USD ",m.amount.toFixed(2),") on ",new Date(m.date).toLocaleDateString()," - ",m.description,"."]}),i.jsxs("button",{onClick:()=>S(m.id),className:"bg-green-500 text-white px-3 py-1 rounded-md hover:bg-green-600 text-xs flex items-center",children:[i.jsx(An,{className:"w-4 h-4 mr-1"})," Approve"]})]},m.id))}):i.jsx("p",{className:"text-gray-500 text-sm",children:"No high-value expenses awaiting approval."})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-lg font-medium text-green-600 mb-2",children:"Recently Approved High-Value Expenses"}),a.filter(m=>m.isApproved&&m.amount>500).slice(-5).reverse().map(m=>i.jsxs("li",{className:"p-3 bg-green-50 border-l-4 border-green-400 rounded-md flex justify-between items-center text-sm",children:[i.jsxs("div",{children:["Expense for ",i.jsx("span",{className:"font-semibold",children:m.paidTo})," (USD ",m.amount.toFixed(2),") on ",new Date(m.date).toLocaleDateString()," - ",m.description,"."]}),i.jsxs("span",{className:"text-green-700 flex items-center",children:[i.jsx(An,{className:"w-4 h-4 mr-1"})," Approved"]})]},m.id)),a.filter(m=>m.isApproved&&m.amount>500).length===0&&i.jsx("p",{className:"text-gray-500 text-sm",children:"No high-value expenses recently approved."})]})]})]})},pa=({isOpen:e,onClose:t,title:a,children:s,size:n="md"})=>{if(!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 transition-opacity duration-300 ease-in-out",children:[i.jsxs("div",{className:`bg-surface rounded-lg shadow-xl w-full ${l[n]} p-6 transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modalShow`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary",children:a}),i.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Close modal",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{children:s})]}),i.jsx("style",{children:`
        @keyframes modalShow {
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animate-modalShow {
          animation: modalShow 0.3s forwards;
        }
      `})]})},ow=()=>{const[e,t]=_.useState([]),[a,s]=_.useState(!1),[n,l]=_.useState(!1),[r,u]=_.useState(!1),[o,c]=_.useState(null),[d,h]=_.useState(null);_.useEffect(()=>{f()},[]);const f=async()=>{const{data:w,error:g}=await yt.from("customers").select("*");!g&&w?t(w):console.error("Error fetching customers:",g)},p=()=>{c(null),s(!0)},S=w=>{c(w),s(!0)},m=w=>{h(w),l(!0)};return i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold mb-6 flex items-center",children:[i.jsx(_c,{className:"w-8 h-8 mr-2"})," CRM Dashboard"]}),i.jsxs("button",{onClick:p,className:"bg-primary text-white px-4 py-2 rounded-md mb-4",children:[i.jsx(Zn,{className:"w-5 h-5 inline mr-2"})," Add Customer"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(w=>i.jsxs("div",{className:"p-4 bg-white rounded-md shadow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:w.companyName}),i.jsxs("p",{className:"text-sm",children:[w.contactPerson," | ",w.email]}),i.jsxs("div",{className:"mt-3 space-x-2",children:[i.jsxs("button",{onClick:()=>S(w),className:"text-blue-600",children:[i.jsx(dr,{className:"w-4 h-4 inline"})," Edit"]}),i.jsxs("button",{onClick:()=>m(w.id),className:"text-green-600",children:[i.jsx(Zn,{className:"w-4 h-4 inline"})," Log Interaction"]})]})]},w.id))}),i.jsx(pa,{isOpen:a,onClose:()=>s(!1),title:o?"Edit Customer":"Add Customer"}),i.jsx(pa,{isOpen:n,onClose:()=>l(!1),title:"Log Interaction"})]})},Af={customerId:"",product:"",grade:"",quantityKg:0,unitPrice:0,shippingStatus:Qn.PENDING,orderDate:new Date().toISOString().split("T")[0]},cw=({order:e,customers:t,onSave:a,onClose:s})=>{const[n,l]=_.useState(()=>e?{...e}:Af);_.useEffect(()=>{l(e?{...e}:Af)},[e]);const r=o=>{const{name:c,value:d}=o.target,h=c==="quantityKg"||c==="unitPrice"?parseFloat(d):d;l(f=>({...f,[c]:h}))},u=o=>{if(o.preventDefault(),n.customerId===""){alert("Please select a customer.");return}a(n)};return i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"customerId",className:"block text-sm font-medium text-gray-700",children:"Customer"}),i.jsxs("select",{name:"customerId",id:"customerId",value:n.customerId,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",disabled:!0,children:"Select Customer"}),t.map(o=>i.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700",children:"Product (e.g., Green Coffee Beans)"}),i.jsx("input",{type:"text",name:"product",id:"product",value:n.product,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"grade",className:"block text-sm font-medium text-gray-700",children:"Grade (e.g., G1, G2)"}),i.jsx("input",{type:"text",name:"grade",id:"grade",value:n.grade,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"quantityKg",className:"block text-sm font-medium text-gray-700",children:"Quantity (kg)"}),i.jsx("input",{type:"number",name:"quantityKg",id:"quantityKg",value:n.quantityKg,onChange:r,required:!0,min:"0",step:"0.1",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"unitPrice",className:"block text-sm font-medium text-gray-700",children:"Unit Price (USD)"}),i.jsx("input",{type:"number",name:"unitPrice",id:"unitPrice",value:n.unitPrice,onChange:r,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"orderDate",className:"block text-sm font-medium text-gray-700",children:"Order Date"}),i.jsx("input",{type:"date",name:"orderDate",id:"orderDate",value:n.orderDate,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"shippingStatus",className:"block text-sm font-medium text-gray-700",children:"Shipping Status"}),i.jsx("select",{name:"shippingStatus",id:"shippingStatus",value:n.shippingStatus,onChange:r,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:xp.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),i.jsx("div",{children:i.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Total Amount: USD ",(n.quantityKg*n.unitPrice).toFixed(2)]})}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Order"})]})]})},dw=()=>{const{salesOrders:e,addSalesOrder:t,updateSalesOrder:a,customers:s,generateInvoiceForOrder:n,invoices:l}=hr(),[r,u]=_.useState(!1),[o,c]=_.useState(!1),[d,h]=_.useState(void 0),[f,p]=_.useState(""),[S,m]=_.useState(""),w=()=>{h(void 0),u(!0)},g=v=>{h(v),u(!0)},y=v=>{h(v),c(!0)},x=v=>{"id"in v?a(v):t(v),u(!1)},j=v=>{if(n(v),d&&d.id===v.id){const b=e.find(O=>O.id===v.id);b&&h(b)}},N=v=>{var b;return((b=s.find(O=>O.id===v))==null?void 0:b.companyName)||"Unknown Customer"},D=e.filter(v=>{const b=f?v.customerId===f:!0,O=S?v.shippingStatus===S:!0;return b&&O});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(Sp,{className:"w-8 h-8 mr-2"}),"Sales Log"]}),i.jsxs("button",{onClick:w,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Zn,{className:"w-5 h-5 mr-2"})," Create New Order"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCustomer",className:"block text-sm font-medium text-gray-700",children:"Filter by Customer"}),i.jsxs("select",{id:"filterCustomer",value:f,onChange:v=>p(v.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Customers"}),s.map(v=>i.jsx("option",{value:v.id,children:v.companyName},v.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterShippingStatus",className:"block text-sm font-medium text-gray-700",children:"Filter by Shipping Status"}),i.jsxs("select",{id:"filterShippingStatus",value:S,onChange:v=>m(v.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Statuses"}),xp.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))]})]})]})}),D.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No sales orders found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipping Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(v=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[v.id.substring(0,8),"..."]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N(v.customerId)}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[v.product," (",v.grade,")"]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",v.totalAmount.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.orderDate).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v.shippingStatus===Qn.DELIVERED?"bg-green-100 text-green-800":v.shippingStatus===Qn.SHIPPED?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:v.shippingStatus})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>y(v),className:"text-accent hover:text-primary",children:i.jsx(Nc,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>g(v),className:"text-secondary hover:text-primary",children:i.jsx(dr,{className:"w-5 h-5 inline"})}),!v.linkedInvoiceId&&i.jsx("button",{onClick:()=>j(v),title:"Generate Invoice",className:"text-green-600 hover:text-green-800",children:i.jsx(Kn,{className:"w-5 h-5 inline"})})]})]},v.id))})]})}),i.jsx(pa,{isOpen:r,onClose:()=>u(!1),title:d?"Edit Sales Order":"Create New Sales Order",size:"lg",children:i.jsx(cw,{order:d,customers:s,onSave:x,onClose:()=>u(!1)})}),d&&i.jsx(pa,{isOpen:o,onClose:()=>c(!1),title:"Order Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Order ID:"})," ",d.id]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Customer:"})," ",N(d.customerId)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Product:"})," ",d.product," (Grade: ",d.grade,")"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Quantity:"})," ",d.quantityKg," kg"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Unit Price:"})," USD ",d.unitPrice.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Total Amount:"})," USD ",d.totalAmount.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Order Date:"})," ",new Date(d.orderDate).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Shipping Status:"})," ",d.shippingStatus]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Linked Invoice ID:"})," ",d.linkedInvoiceId||"N/A"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Documents:"}),d.documents.length>0?i.jsx("ul",{className:"list-disc list-inside ml-4",children:d.documents.map(v=>i.jsxs("li",{children:[v.name," (",v.type,")"]},v.name))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded."}),i.jsxs("div",{className:"mt-2",children:[i.jsx("label",{htmlFor:"docUpload",className:"text-sm text-gray-600",children:"Upload Document (mock):"}),i.jsx("input",{type:"file",id:"docUpload",className:"text-sm",onChange:()=>alert("File upload is a demo feature.")})]})]}),!d.linkedInvoiceId&&i.jsx("div",{className:"pt-4 border-t mt-4",children:i.jsxs("button",{onClick:()=>{var b;j(d);const v={...d,linkedInvoiceId:((b=l.find(O=>O.orderId===d.id))==null?void 0:b.id)||"pending..."};h(v)},className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center justify-center",children:[i.jsx(Kn,{className:"w-5 h-5 mr-2"})," Generate Invoice"]})})]})})]})},Of={orderId:"",customerId:"",dateIssued:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],amountDue:0,amountPaid:0,paymentMethod:void 0,datePaid:void 0,status:Q.UNPAID},fw=({invoice:e,customers:t,salesOrders:a,onSave:s,onClose:n})=>{var h;const[l,r]=_.useState(()=>e?{...e}:Of);_.useEffect(()=>{r(e?{...e}:Of)},[e]);const u=f=>{const p=f.target.value,S=a.find(m=>m.id===p);S&&r(m=>({...m,orderId:S.id,customerId:S.customerId,amountDue:S.totalAmount}))},o=f=>{const{name:p,value:S}=f.target,m=p==="amountDue"||p==="amountPaid"?parseFloat(S):S;if(r(w=>({...w,[p]:m})),p==="amountPaid"&&l.amountDue>0){const w=parseFloat(S);w===0?r(g=>({...g,status:Q.UNPAID})):w<l.amountDue?r(g=>({...g,status:Q.PARTIAL})):r(g=>({...g,status:Q.PAID}))}},c=f=>{if(f.preventDefault(),l.orderId===""||l.customerId===""){alert("Please select an order and customer.");return}s(l)},d=!!e;return i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"orderId",className:"block text-sm font-medium text-gray-700",children:"Related Order"}),i.jsxs("select",{name:"orderId",id:"orderId",value:l.orderId,onChange:u,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",disabled:d,children:[i.jsx("option",{value:"",disabled:!0,children:"Select Order"}),a.filter(f=>!f.linkedInvoiceId||e&&f.id===e.orderId).map(f=>{var p;return i.jsxs("option",{value:f.id,children:[f.id.substring(0,8),"... - ",(p=t.find(S=>S.id===f.customerId))==null?void 0:p.companyName]},f.id)})]}),d&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Order cannot be changed after invoice creation."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Customer"}),i.jsx("input",{type:"text",value:((h=t.find(f=>f.id===l.customerId))==null?void 0:h.companyName)||"N/A",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm p-2"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dateIssued",className:"block text-sm font-medium text-gray-700",children:"Date Issued"}),i.jsx("input",{type:"date",name:"dateIssued",id:"dateIssued",value:l.dateIssued,onChange:o,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700",children:"Due Date"}),i.jsx("input",{type:"date",name:"dueDate",id:"dueDate",value:l.dueDate,onChange:o,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amountDue",className:"block text-sm font-medium text-gray-700",children:"Amount Due (USD)"}),i.jsx("input",{type:"number",name:"amountDue",id:"amountDue",value:l.amountDue,onChange:o,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm p-2",readOnly:d})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700",children:"Amount Paid (USD)"}),i.jsx("input",{type:"number",name:"amountPaid",id:"amountPaid",value:l.amountPaid,onChange:o,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),i.jsxs("select",{name:"paymentMethod",id:"paymentMethod",value:l.paymentMethod||"",onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",children:"Select Method"}),ew.map(f=>i.jsx("option",{value:f.value,children:f.label},f.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"datePaid",className:"block text-sm font-medium text-gray-700",children:"Date Paid"}),i.jsx("input",{type:"date",name:"datePaid",id:"datePaid",value:l.datePaid||"",onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsx("select",{name:"status",id:"status",value:l.status,onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:bp.map(f=>i.jsx("option",{value:f.value,children:f.label},f.value))})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Invoice"})]})]})},hw=()=>{const{invoices:e,addInvoice:t,updateInvoice:a,customers:s,salesOrders:n}=hr(),[l,r]=_.useState(!1),[u,o]=_.useState(!1),[c,d]=_.useState(void 0),[h,f]=_.useState(""),[p,S]=_.useState(""),m=()=>{d(void 0),r(!0)},w=v=>{d(v),r(!0)},g=v=>{d(v),o(!0)},y=v=>{"id"in v?a(v):t(v),r(!1)},x=v=>{var b;return((b=s.find(O=>O.id===v))==null?void 0:b.companyName)||"Unknown Customer"},j=new Date().toISOString().split("T")[0],N=e.map(v=>(v.status===Q.UNPAID||v.status===Q.PARTIAL)&&v.dueDate<j?{...v,status:Q.OVERDUE}:v).filter(v=>{const b=h?v.status===h:!0,O=p?v.customerId===p:!0;return b&&O}),D=v=>{switch(v){case Q.PAID:return"bg-green-100 text-green-800";case Q.PARTIAL:return"bg-yellow-100 text-yellow-800";case Q.UNPAID:return"bg-red-100 text-red-800";case Q.OVERDUE:return"bg-pink-200 text-pink-800 font-bold";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(Kn,{className:"w-8 h-8 mr-2"}),"Invoices & Payments"]}),i.jsxs("button",{onClick:m,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Zn,{className:"w-5 h-5 mr-2"})," Create New Invoice"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterStatus",className:"block text-sm font-medium text-gray-700",children:"Filter by Status"}),i.jsxs("select",{id:"filterStatus",value:h,onChange:v=>f(v.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Statuses"}),bp.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCustomer",className:"block text-sm font-medium text-gray-700",children:"Filter by Customer"}),i.jsxs("select",{id:"filterCustomer",value:p,onChange:v=>S(v.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Customers"}),s.map(v=>i.jsx("option",{value:v.id,children:v.companyName},v.id))]})]})]})}),N.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No invoices found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Due"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Paid"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(v=>i.jsxs("tr",{className:`hover:bg-gray-50 ${v.status===Q.UNPAID||v.status===Q.OVERDUE?"border-l-4 border-red-500":v.status===Q.PARTIAL?"border-l-4 border-yellow-500":""}`,children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.invoiceNumber}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x(v.customerId)}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",v.amountDue.toFixed(2)]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",v.amountPaid.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(v.dueDate).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(v.status)}`,children:v.status})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>g(v),className:"text-accent hover:text-primary",children:i.jsx(Nc,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>w(v),className:"text-secondary hover:text-primary",children:i.jsx(dr,{className:"w-5 h-5 inline"})})]})]},v.id))})]})}),i.jsx(pa,{isOpen:l,onClose:()=>r(!1),title:c?"Edit Invoice":"Create New Invoice",size:"lg",children:i.jsx(fw,{invoice:c,customers:s,salesOrders:n,onSave:y,onClose:()=>r(!1)})}),c&&i.jsx(pa,{isOpen:u,onClose:()=>o(!1),title:"Invoice Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Invoice Number:"})," ",c.invoiceNumber]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Order ID:"})," ",c.orderId]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Customer:"})," ",x(c.customerId)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Date Issued:"})," ",new Date(c.dateIssued).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Due Date:"})," ",new Date(c.dueDate).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount Due:"})," USD ",c.amountDue.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount Paid:"})," USD ",c.amountPaid.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Remaining Balance:"})," USD ",(c.amountDue-c.amountPaid).toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Payment Method:"})," ",c.paymentMethod||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Date Paid:"})," ",c.datePaid?new Date(c.datePaid).toLocaleDateString():"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"})," ",i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${D(c.status)}`,children:c.status})]}),c.status===Q.OVERDUE&&i.jsx("p",{className:"text-red-600 font-bold",children:"This invoice is overdue!"})]})})]})},Tf={expenseType:Sc.LOGISTICS,date:new Date().toISOString().split("T")[0],amount:0,paidTo:"",relatedOrderId:void 0,receiptUrl:void 0,isApproved:!1,description:""},mw=({expense:e,salesOrders:t,onSave:a,onClose:s})=>{const[n,l]=_.useState(()=>e?{...e}:Tf);_.useEffect(()=>{l(e?{...e}:Tf)},[e]);const r=o=>{const{name:c,value:d,type:h}=o.target;if(h==="checkbox"){const{checked:f}=o.target;l(p=>({...p,[c]:f}))}else{const f=c==="amount"?parseFloat(d):d;l(p=>({...p,[c]:f}))}},u=o=>{o.preventDefault(),a(n)};return i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"expenseType",className:"block text-sm font-medium text-gray-700",children:"Expense Type"}),i.jsx("select",{name:"expenseType",id:"expenseType",value:n.expenseType,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:wp.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),i.jsx("input",{type:"date",name:"date",id:"date",value:n.date,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount (USD)"}),i.jsx("input",{type:"number",name:"amount",id:"amount",value:n.amount,onChange:r,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"paidTo",className:"block text-sm font-medium text-gray-700",children:"Paid To"}),i.jsx("input",{type:"text",name:"paidTo",id:"paidTo",value:n.paidTo,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"relatedOrderId",className:"block text-sm font-medium text-gray-700",children:"Related Order (Optional)"}),i.jsxs("select",{name:"relatedOrderId",id:"relatedOrderId",value:n.relatedOrderId||"",onChange:r,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",children:"None"}),t.map(o=>i.jsxs("option",{value:o.id,children:[o.id.substring(0,8),"... (",o.product,")"]},o.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),i.jsx("textarea",{name:"description",id:"description",value:n.description,onChange:r,rows:2,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"receiptUrl",className:"block text-sm font-medium text-gray-700",children:"Upload Receipt (mock)"}),i.jsx("input",{type:"file",name:"receiptUrl",id:"receiptUrl",onChange:()=>alert("File upload is a demo feature. Path will not be stored."),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-accent file:text-primary hover:file:bg-secondary"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"isApproved",id:"isApproved",checked:n.isApproved,onChange:r,className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-accent"}),i.jsx("label",{htmlFor:"isApproved",className:"ml-2 block text-sm text-gray-900",children:"Mark as Approved"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Expense"})]})]})},pw=()=>{const{expenses:e,addExpense:t,updateExpense:a,salesOrders:s}=hr(),[n,l]=_.useState(!1),[r,u]=_.useState(!1),[o,c]=_.useState(void 0),[d,h]=_.useState(""),[f,p]=_.useState(""),[S,m]=_.useState(""),w=()=>{c(void 0),l(!0)},g=b=>{c(b),l(!0)},y=b=>{c(b),u(!0)},x=b=>{"id"in b?a(b):t(b),l(!1)},j=b=>{a({...b,isApproved:!b.isApproved})},N=e.filter(b=>{const O=d?b.expenseType===d:!0,k=f?b.date.startsWith(f):!0,C=S?b.relatedOrderId===S:!0;return O&&k&&C}).sort((b,O)=>new Date(O.date).getTime()-new Date(b.date).getTime()),D=N.reduce((b,O)=>{const k=O.date.substring(0,7);return b[k]=(b[k]||0)+O.amount,b},{}),v=N.reduce((b,O)=>{const k=O.date.substring(0,4);return b[k]=(b[k]||0)+O.amount,b},{});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(Li,{className:"w-8 h-8 mr-2"}),"Expenses Management"]}),i.jsxs("button",{onClick:w,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Zn,{className:"w-5 h-5 mr-2"})," Log New Expense"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCategory",className:"block text-sm font-medium text-gray-700",children:"Filter by Category"}),i.jsxs("select",{id:"filterCategory",value:d,onChange:b=>h(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Categories"}),wp.map(b=>i.jsx("option",{value:b.value,children:b.label},b.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-gray-700",children:"Filter by Date (YYYY or YYYY-MM)"}),i.jsx("input",{type:"text",id:"filterDate",placeholder:"e.g. 2024 or 2024-07",value:f,onChange:b=>p(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterOrder",className:"block text-sm font-medium text-gray-700",children:"Filter by Related Order"}),i.jsxs("select",{id:"filterOrder",value:S,onChange:b=>m(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Orders"}),s.map(b=>i.jsxs("option",{value:b.id,children:[b.id.substring(0,8),"... (",b.product,")"]},b.id))]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Monthly Summary"}),Object.keys(D).length>0?i.jsx("ul",{className:"text-sm space-y-1",children:Object.entries(D).map(([b,O])=>i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[b,":"]})," ",i.jsxs("span",{className:"font-medium",children:["USD ",O.toFixed(2)]})]},b))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No expenses for summary."})]}),i.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Yearly Summary"}),Object.keys(v).length>0?i.jsx("ul",{className:"text-sm space-y-1",children:Object.entries(v).map(([b,O])=>i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[b,":"]})," ",i.jsxs("span",{className:"font-medium",children:["USD ",O.toFixed(2)]})]},b))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No expenses for summary."})]})]}),N.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No expenses found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid To"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(b=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(b.date).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.expenseType}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",b.amount.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.paidTo}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsx("button",{onClick:()=>j(b),className:`p-1 rounded-full ${b.isApproved?"text-success":"text-error"}`,children:b.isApproved?i.jsx(An,{className:"w-5 h-5"}):i.jsx(Ef,{className:"w-5 h-5"})})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>y(b),className:"text-accent hover:text-primary",children:i.jsx(Nc,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>g(b),className:"text-secondary hover:text-primary",children:i.jsx(dr,{className:"w-5 h-5 inline"})})]})]},b.id))})]})}),i.jsx(pa,{isOpen:n,onClose:()=>l(!1),title:o?"Edit Expense":"Log New Expense",size:"lg",children:i.jsx(mw,{expense:o,salesOrders:s,onSave:x,onClose:()=>l(!1)})}),o&&i.jsx(pa,{isOpen:r,onClose:()=>u(!1),title:"Expense Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Date:"})," ",new Date(o.date).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Type:"})," ",o.expenseType]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount:"})," USD ",o.amount.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Paid To:"})," ",o.paidTo]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Description:"})," ",o.description||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Related Order ID:"})," ",o.relatedOrderId||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Approved:"})," ",o.isApproved?i.jsx(An,{className:"w-5 h-5 inline text-success"}):i.jsx(Ef,{className:"w-5 h-5 inline text-error"})]}),o.receiptUrl&&i.jsxs("p",{children:[i.jsx("strong",{children:"Receipt:"})," ",i.jsx("a",{href:o.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"View Receipt (mock)"})]}),!o.isApproved&&o.amount>1e3&&i.jsx("div",{className:"pt-4 border-t mt-4",children:i.jsxs("button",{onClick:()=>{j(o),c(b=>b?{...b,isApproved:!b.isApproved}:void 0)},className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center justify-center",children:[i.jsx(An,{className:"w-5 h-5 mr-2"})," Approve Expense"]})})]})})]})},gw=[],vw=[],yw=[],xw=[],Op=_.createContext(null),hr=()=>{const e=_.useContext(Op);if(!e)throw new Error("useAppContext must be used within AppContext");return e},bw=()=>{const[e,t]=_.useState(null),[a,s]=_.useState(!0),[n,l]=_.useState(gw),[r,u]=_.useState(vw),[o,c]=_.useState(yw),[d,h]=_.useState(xw),f=Ys(),p=hc();_.useEffect(()=>{yt.auth.getSession().then(({data:{session:A}})=>{t(A),s(!1)});const{data:C}=yt.auth.onAuthStateChange((A,R)=>{t(R),R||p("/")});return()=>C.subscription.unsubscribe()},[p]);const S=C=>`${C}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,m=_.useCallback(C=>{l(A=>[...A,{...C,id:S("cust"),interactions:[]}])},[]),w=_.useCallback(C=>{l(A=>A.map(R=>R.id===C.id?C:R))},[]),g=_.useCallback((C,A)=>{l(R=>R.map(Y=>Y.id===C?{...Y,interactions:[...Y.interactions,{...A,id:S("int")}]}:Y))},[]),y=_.useCallback(C=>{const A={...C,id:S("ord"),totalAmount:C.quantityKg*C.unitPrice,documents:[]};return u(R=>[...R,A]),A.id},[]),x=_.useCallback(C=>{u(A=>A.map(R=>R.id===C.id?{...C,totalAmount:C.quantityKg*C.unitPrice}:R))},[]),j=_.useCallback(C=>{const A=`INV-${new Date().getFullYear()}-${(o.length+1).toString().padStart(3,"0")}`;c(R=>[...R,{...C,id:S("inv"),invoiceNumber:A}])},[o.length]),N=_.useCallback(C=>{c(A=>A.map(R=>R.id===C.id?C:R))},[]),D=_.useCallback(C=>{if(C.linkedInvoiceId&&o.find(T=>T.id===C.linkedInvoiceId)){alert("Invoice already exists for this order.");return}const A=S("inv"),R=`INV-${new Date().getFullYear()}-${(o.length+1).toString().padStart(3,"0")}`,Y=new Date(C.orderDate);Y.setDate(Y.getDate()+30);const _e={id:A,orderId:C.id,customerId:C.customerId,invoiceNumber:R,dateIssued:new Date().toISOString().split("T")[0],dueDate:Y.toISOString().split("T")[0],amountDue:C.totalAmount,amountPaid:0,status:Q.UNPAID,paymentMethod:jc.WIRE,datePaid:""};c(T=>[...T,_e]),u(T=>T.map(M=>M.id===C.id?{...M,linkedInvoiceId:A}:M))},[o]),v=_.useCallback(C=>{h(A=>[...A,{...C,id:S("exp")}])},[]),b=_.useCallback(C=>{h(A=>A.map(R=>R.id===C.id?C:R))},[]);if(a)return i.jsx("div",{style:{padding:20},children:"Loading…"});if(!e)return i.jsx(Np,{});const O={session:e,customers:n,setCustomers:l,addCustomer:m,updateCustomer:w,logInteraction:g,salesOrders:r,setSalesOrders:u,addSalesOrder:y,updateSalesOrder:x,invoices:o,setInvoices:c,addInvoice:j,updateInvoice:N,generateInvoiceForOrder:D,expenses:d,setExpenses:h,addExpense:v,updateExpense:b},k=[{path:"/",label:"Dashboard",icon:i.jsx(_p,{className:"w-5 h-5 mr-2"})},{path:"/crm",label:"CRM",icon:i.jsx(_c,{className:"w-5 h-5 mr-2"})},{path:"/sales",label:"Sales Log",icon:i.jsx(Sp,{className:"w-5 h-5 mr-2"})},{path:"/invoices",label:"Invoices",icon:i.jsx(Kn,{className:"w-5 h-5 mr-2"})},{path:"/expenses",label:"Expenses",icon:i.jsx(Li,{className:"w-5 h-5 mr-2"})}];return i.jsx(Op.Provider,{value:O,children:i.jsxs("div",{className:"min-h-screen flex flex-col bg-light-gray",children:[i.jsx("header",{className:"bg-primary text-white shadow-md",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(jp,{className:"w-8 h-8 mr-3 text-accent"}),i.jsx("h1",{className:"text-2xl font-semibold",children:"Coffee Export Manager"})]}),i.jsx("nav",{className:"flex space-x-1",children:k.map(C=>i.jsxs(I0,{to:C.path,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150 ease-in-out ${f.pathname===C.path?"bg-accent text-primary":"text-gray-200 hover:bg-secondary hover:text-white"}`,children:[C.icon,C.label]},C.path))})]})}),i.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:i.jsxs(q0,{children:[i.jsx(ut,{path:"/",element:i.jsx(uw,{})}),i.jsx(ut,{path:"/crm",element:i.jsx(ow,{})}),i.jsx(ut,{path:"/sales",element:i.jsx(dw,{})}),i.jsx(ut,{path:"/invoices",element:i.jsx(hw,{})}),i.jsx(ut,{path:"/expenses",element:i.jsx(pw,{})})]})}),i.jsxs("footer",{className:"bg-primary text-white text-center py-4",children:[i.jsxs("p",{children:["© ",new Date().getFullYear()," Coffee Export Solutions. All rights reserved."]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Data is stored in-memory and will be lost on page refresh (Demo purposes)."})]})]})})},Tp=document.getElementById("root");if(!Tp)throw new Error("Could not find root element to mount to");const ww=A0.createRoot(Tp);ww.render(i.jsx(Jn.StrictMode,{children:i.jsx(H0,{children:i.jsx(bw,{})})}));
