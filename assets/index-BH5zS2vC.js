function L0(e,t){for(var a=0;a<t.length;a++){const s=t[a];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const l=Object.getOwnPropertyDescriptor(s,n);l&&Object.defineProperty(e,n,l.get?l:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();var nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function z0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var a=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(a,s,n.get?n:{enumerable:!0,get:function(){return e[s]}})}),a}var Rh={exports:{}},Pi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0=Symbol.for("react.transitional.element"),B0=Symbol.for("react.fragment");function Uh(e,t,a){var s=null;if(a!==void 0&&(s=""+a),t.key!==void 0&&(s=""+t.key),"key"in t){a={};for(var n in t)n!=="key"&&(a[n]=t[n])}else a=t;return t=a.ref,{$$typeof:q0,type:e,key:s,ref:t!==void 0?t:null,props:a}}Pi.Fragment=B0;Pi.jsx=Uh;Pi.jsxs=Uh;Rh.exports=Pi;var i=Rh.exports,Mh={exports:{}},q={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.transitional.element"),H0=Symbol.for("react.portal"),I0=Symbol.for("react.fragment"),$0=Symbol.for("react.strict_mode"),G0=Symbol.for("react.profiler"),P0=Symbol.for("react.consumer"),Y0=Symbol.for("react.context"),V0=Symbol.for("react.forward_ref"),F0=Symbol.for("react.suspense"),X0=Symbol.for("react.memo"),Lh=Symbol.for("react.lazy"),Au=Symbol.iterator;function Q0(e){return e===null||typeof e!="object"?null:(e=Au&&e[Au]||e["@@iterator"],typeof e=="function"?e:null)}var zh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qh=Object.assign,Bh={};function Hs(e,t,a){this.props=e,this.context=t,this.refs=Bh,this.updater=a||zh}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hh(){}Hh.prototype=Hs.prototype;function mc(e,t,a){this.props=e,this.context=t,this.refs=Bh,this.updater=a||zh}var pc=mc.prototype=new Hh;pc.constructor=mc;qh(pc,Hs.prototype);pc.isPureReactComponent=!0;var Ou=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},Ih=Object.prototype.hasOwnProperty;function gc(e,t,a,s,n,l){return a=l.ref,{$$typeof:fc,type:e,key:t,ref:a!==void 0?a:null,props:l}}function K0(e,t){return gc(e.type,t,void 0,void 0,void 0,e.props)}function xc(e){return typeof e=="object"&&e!==null&&e.$$typeof===fc}function Z0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var Tu=/\/+/g;function xr(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Z0(""+e.key):t.toString(36)}function Du(){}function J0(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Du,Du):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ts(e,t,a,s,n){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(l){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case fc:case H0:r=!0;break;case Lh:return r=e._init,ts(r(e._payload),t,a,s,n)}}if(r)return n=n(e),r=s===""?"."+xr(e,0):s,Ou(n)?(a="",r!=null&&(a=r.replace(Tu,"$&/")+"/"),ts(n,t,a,"",function(u){return u})):n!=null&&(xc(n)&&(n=K0(n,a+(n.key==null||e&&e.key===n.key?"":(""+n.key).replace(Tu,"$&/")+"/")+r)),t.push(n)),1;r=0;var c=s===""?".":s+":";if(Ou(e))for(var o=0;o<e.length;o++)s=e[o],l=c+xr(s,o),r+=ts(s,t,a,l,n);else if(o=Q0(e),typeof o=="function")for(e=o.call(e),o=0;!(s=e.next()).done;)s=s.value,l=c+xr(s,o++),r+=ts(s,t,a,l,n);else if(l==="object"){if(typeof e.then=="function")return ts(J0(e),t,a,s,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Tl(e,t,a){if(e==null)return e;var s=[],n=0;return ts(e,s,"","",function(l){return t.call(a,l,n++)}),s}function W0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function eg(){}q.Children={map:Tl,forEach:function(e,t,a){Tl(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return Tl(e,function(){t++}),t},toArray:function(e){return Tl(e,function(t){return t})||[]},only:function(e){if(!xc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Hs;q.Fragment=I0;q.Profiler=G0;q.PureComponent=mc;q.StrictMode=$0;q.Suspense=F0;q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne;q.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ne.H.useMemoCache(e)}};q.cache=function(e){return function(){return e.apply(null,arguments)}};q.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=qh({},e.props),n=e.key,l=void 0;if(t!=null)for(r in t.ref!==void 0&&(l=void 0),t.key!==void 0&&(n=""+t.key),t)!Ih.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(s[r]=t[r]);var r=arguments.length-2;if(r===1)s.children=a;else if(1<r){for(var c=Array(r),o=0;o<r;o++)c[o]=arguments[o+2];s.children=c}return gc(e.type,n,void 0,void 0,l,s)};q.createContext=function(e){return e={$$typeof:Y0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:P0,_context:e},e};q.createElement=function(e,t,a){var s,n={},l=null;if(t!=null)for(s in t.key!==void 0&&(l=""+t.key),t)Ih.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(n[s]=t[s]);var r=arguments.length-2;if(r===1)n.children=a;else if(1<r){for(var c=Array(r),o=0;o<r;o++)c[o]=arguments[o+2];n.children=c}if(e&&e.defaultProps)for(s in r=e.defaultProps,r)n[s]===void 0&&(n[s]=r[s]);return gc(e,l,void 0,void 0,null,n)};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:V0,render:e}};q.isValidElement=xc;q.lazy=function(e){return{$$typeof:Lh,_payload:{_status:-1,_result:e},_init:W0}};q.memo=function(e,t){return{$$typeof:X0,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=ne.T,a={};ne.T=a;try{var s=e(),n=ne.S;n!==null&&n(a,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(eg,Cu)}catch(l){Cu(l)}finally{ne.T=t}};q.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()};q.use=function(e){return ne.H.use(e)};q.useActionState=function(e,t,a){return ne.H.useActionState(e,t,a)};q.useCallback=function(e,t){return ne.H.useCallback(e,t)};q.useContext=function(e){return ne.H.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e,t){return ne.H.useDeferredValue(e,t)};q.useEffect=function(e,t,a){var s=ne.H;if(typeof a=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};q.useId=function(){return ne.H.useId()};q.useImperativeHandle=function(e,t,a){return ne.H.useImperativeHandle(e,t,a)};q.useInsertionEffect=function(e,t){return ne.H.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return ne.H.useLayoutEffect(e,t)};q.useMemo=function(e,t){return ne.H.useMemo(e,t)};q.useOptimistic=function(e,t){return ne.H.useOptimistic(e,t)};q.useReducer=function(e,t,a){return ne.H.useReducer(e,t,a)};q.useRef=function(e){return ne.H.useRef(e)};q.useState=function(e){return ne.H.useState(e)};q.useSyncExternalStore=function(e,t,a){return ne.H.useSyncExternalStore(e,t,a)};q.useTransition=function(){return ne.H.useTransition()};q.version="19.1.0";Mh.exports=q;var N=Mh.exports;const ll=kh(N),tg=L0({__proto__:null,default:ll},[N]);var $h={exports:{}},Yi={},Gh={exports:{}},Ph={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,M){var L=D.length;D.push(M);e:for(;0<L;){var ce=L-1>>>1,ye=D[ce];if(0<n(ye,M))D[ce]=M,D[L]=ye,L=ce;else break e}}function a(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var M=D[0],L=D.pop();if(L!==M){D[0]=L;e:for(var ce=0,ye=D.length,El=ye>>>1;ce<El;){var Al=2*(ce+1)-1,gr=D[Al],ja=Al+1,Ol=D[ja];if(0>n(gr,L))ja<ye&&0>n(Ol,gr)?(D[ce]=Ol,D[ja]=L,ce=ja):(D[ce]=gr,D[Al]=L,ce=Al);else if(ja<ye&&0>n(Ol,L))D[ce]=Ol,D[ja]=L,ce=ja;else break e}}return M}function n(D,M){var L=D.sortIndex-M.sortIndex;return L!==0?L:D.id-M.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var r=Date,c=r.now();e.unstable_now=function(){return r.now()-c}}var o=[],u=[],d=1,f=null,h=3,p=!1,_=!1,m=!1,S=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function j(D){for(var M=a(u);M!==null;){if(M.callback===null)s(u);else if(M.startTime<=D)s(u),M.sortIndex=M.expirationTime,t(o,M);else break;M=a(u)}}function E(D){if(m=!1,j(D),!_)if(a(o)!==null)_=!0,C||(C=!0,T());else{var M=a(u);M!==null&&Ne(E,M.startTime-D)}}var C=!1,x=-1,b=5,O=-1;function w(){return S?!0:!(e.unstable_now()-O<b)}function k(){if(S=!1,C){var D=e.unstable_now();O=D;var M=!0;try{e:{_=!1,m&&(m=!1,y(x),x=-1),p=!0;var L=h;try{t:{for(j(D),f=a(o);f!==null&&!(f.expirationTime>D&&w());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var ye=ce(f.expirationTime<=D);if(D=e.unstable_now(),typeof ye=="function"){f.callback=ye,j(D),M=!0;break t}f===a(o)&&s(o),j(D)}else s(o);f=a(o)}if(f!==null)M=!0;else{var El=a(u);El!==null&&Ne(E,El.startTime-D),M=!1}}break e}finally{f=null,h=L,p=!1}M=void 0}}finally{M?T():C=!1}}}var T;if(typeof v=="function")T=function(){v(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,P=R.port2;R.port1.onmessage=k,T=function(){P.postMessage(null)}}else T=function(){g(k,0)};function Ne(D,M){x=g(function(){D(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var L=h;h=M;try{return D()}finally{h=L}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var L=h;h=D;try{return M()}finally{h=L}},e.unstable_scheduleCallback=function(D,M,L){var ce=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?ce+L:ce):L=ce,D){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=L+ye,D={id:d++,callback:M,priorityLevel:D,startTime:L,expirationTime:ye,sortIndex:-1},L>ce?(D.sortIndex=L,t(u,D),a(o)===null&&D===a(u)&&(m?(y(x),x=-1):m=!0,Ne(E,L-ce))):(D.sortIndex=ye,t(o,D),_||p||(_=!0,C||(C=!0,T()))),D},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(D){var M=h;return function(){var L=h;h=M;try{return D.apply(this,arguments)}finally{h=L}}}})(Ph);Gh.exports=Ph;var ag=Gh.exports,Yh={exports:{}},Re={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg=N;function Vh(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function It(){}var ke={d:{f:It,r:function(){throw Error(Vh(522))},D:It,C:It,L:It,m:It,X:It,S:It,M:It},p:0,findDOMNode:null},ng=Symbol.for("react.portal");function lg(e,t,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ng,key:s==null?null:""+s,children:e,containerInfo:t,implementation:a}}var fn=sg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Vi(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Re.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ke;Re.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Vh(299));return lg(e,t,null,a)};Re.flushSync=function(e){var t=fn.T,a=ke.p;try{if(fn.T=null,ke.p=2,e)return e()}finally{fn.T=t,ke.p=a,ke.d.f()}};Re.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ke.d.C(e,t))};Re.prefetchDNS=function(e){typeof e=="string"&&ke.d.D(e)};Re.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,s=Vi(a,t.crossOrigin),n=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?ke.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:n,fetchPriority:l}):a==="script"&&ke.d.X(e,{crossOrigin:s,integrity:n,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Re.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Vi(t.as,t.crossOrigin);ke.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ke.d.M(e)};Re.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,s=Vi(a,t.crossOrigin);ke.d.L(e,a,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Re.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Vi(t.as,t.crossOrigin);ke.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ke.d.m(e)};Re.requestFormReset=function(e){ke.d.r(e)};Re.unstable_batchedUpdates=function(e,t){return e(t)};Re.useFormState=function(e,t,a){return fn.H.useFormState(e,t,a)};Re.useFormStatus=function(){return fn.H.useHostTransitionStatus()};Re.version="19.1.0";function Fh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fh)}catch(e){console.error(e)}}Fh(),Yh.exports=Re;var ig=Yh.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xe=ag,Xh=N,rg=ig;function A(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function il(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Kh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ku(e){if(il(e)!==e)throw Error(A(188))}function og(e){var t=e.alternate;if(!t){if(t=il(e),t===null)throw Error(A(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var l=n.alternate;if(l===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===a)return ku(n),e;if(l===s)return ku(n),t;l=l.sibling}throw Error(A(188))}if(a.return!==s.return)a=n,s=l;else{for(var r=!1,c=n.child;c;){if(c===a){r=!0,a=n,s=l;break}if(c===s){r=!0,s=n,a=l;break}c=c.sibling}if(!r){for(c=l.child;c;){if(c===a){r=!0,a=l,s=n;break}if(c===s){r=!0,s=l,a=n;break}c=c.sibling}if(!r)throw Error(A(189))}}if(a.alternate!==s)throw Error(A(190))}if(a.tag!==3)throw Error(A(188));return a.stateNode.current===a?e:t}function Zh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Zh(e),t!==null)return t;e=e.sibling}return null}var ae=Object.assign,cg=Symbol.for("react.element"),Dl=Symbol.for("react.transitional.element"),on=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),Jh=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),ug=Symbol.for("react.provider"),Wh=Symbol.for("react.consumer"),At=Symbol.for("react.context"),yc=Symbol.for("react.forward_ref"),io=Symbol.for("react.suspense"),ro=Symbol.for("react.suspense_list"),vc=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),oo=Symbol.for("react.activity"),dg=Symbol.for("react.memo_cache_sentinel"),Ru=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=Ru&&e[Ru]||e["@@iterator"],typeof e=="function"?e:null)}var hg=Symbol.for("react.client.reference");function co(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===hg?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case is:return"Fragment";case lo:return"Profiler";case Jh:return"StrictMode";case io:return"Suspense";case ro:return"SuspenseList";case oo:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case on:return"Portal";case At:return(e.displayName||"Context")+".Provider";case Wh:return(e._context.displayName||"Context")+".Consumer";case yc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vc:return t=e.displayName||null,t!==null?t:co(e.type)||"Memo";case Vt:t=e._payload,e=e._init;try{return co(e(t))}catch{}}return null}var cn=Array.isArray,U=Xh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=rg.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ca={pending:!1,data:null,method:null,action:null},uo=[],rs=-1;function bt(e){return{current:e}}function Se(e){0>rs||(e.current=uo[rs],uo[rs]=null,rs--)}function le(e,t){rs++,uo[rs]=e.current,e.current=t}var xt=bt(null),Rn=bt(null),la=bt(null),ci=bt(null);function ui(e,t){switch(le(la,t),le(Rn,e),le(xt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?qd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=qd(t),e=xp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Se(xt),le(xt,e)}function As(){Se(xt),Se(Rn),Se(la)}function ho(e){e.memoizedState!==null&&le(ci,e);var t=xt.current,a=xp(t,e.type);t!==a&&(le(Rn,e),le(xt,a))}function di(e){Rn.current===e&&(Se(xt),Se(Rn)),ci.current===e&&(Se(ci),Gn._currentValue=Ca)}var fo=Object.prototype.hasOwnProperty,bc=xe.unstable_scheduleCallback,yr=xe.unstable_cancelCallback,fg=xe.unstable_shouldYield,mg=xe.unstable_requestPaint,yt=xe.unstable_now,pg=xe.unstable_getCurrentPriorityLevel,ef=xe.unstable_ImmediatePriority,tf=xe.unstable_UserBlockingPriority,hi=xe.unstable_NormalPriority,gg=xe.unstable_LowPriority,af=xe.unstable_IdlePriority,xg=xe.log,yg=xe.unstable_setDisableYieldValue,rl=null,Ve=null;function ea(e){if(typeof xg=="function"&&yg(e),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(rl,e)}catch{}}var Fe=Math.clz32?Math.clz32:jg,vg=Math.log,bg=Math.LN2;function jg(e){return e>>>=0,e===0?32:31-(vg(e)/bg|0)|0}var Cl=256,kl=4194304;function Na(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fi(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,l=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var c=s&134217727;return c!==0?(s=c&~l,s!==0?n=Na(s):(r&=c,r!==0?n=Na(r):a||(a=c&~e,a!==0&&(n=Na(a))))):(c=s&~l,c!==0?n=Na(c):r!==0?n=Na(r):a||(a=s&~e,a!==0&&(n=Na(a)))),n===0?0:t!==0&&t!==n&&!(t&l)&&(l=n&-n,a=t&-t,l>=a||l===32&&(a&4194048)!==0)?t:n}function ol(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function wg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sf(){var e=Cl;return Cl<<=1,!(Cl&4194048)&&(Cl=256),e}function nf(){var e=kl;return kl<<=1,!(kl&62914560)&&(kl=4194304),e}function vr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function cl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sg(e,t,a,s,n,l){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var c=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(a=r&~a;0<a;){var d=31-Fe(a),f=1<<d;c[d]=0,o[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var p=h[d];p!==null&&(p.lane&=-536870913)}a&=~f}s!==0&&lf(e,s,0),l!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=l&~(r&~t))}function lf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Fe(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194090}function rf(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-Fe(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function jc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function of(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Ap(e.type))}function Ng(e,t){var a=F.p;try{return F.p=e,t()}finally{F.p=a}}var ya=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ya,Be="__reactProps$"+ya,Is="__reactContainer$"+ya,mo="__reactEvents$"+ya,_g="__reactListeners$"+ya,Eg="__reactHandles$"+ya,Uu="__reactResources$"+ya,ul="__reactMarker$"+ya;function Sc(e){delete e[Oe],delete e[Be],delete e[mo],delete e[_g],delete e[Eg]}function os(e){var t=e[Oe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Is]||a[Oe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Id(e);e!==null;){if(a=e[Oe])return a;e=Id(e)}return t}e=a,a=e.parentNode}return null}function $s(e){if(e=e[Oe]||e[Is]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function un(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(A(33))}function ys(e){var t=e[Uu];return t||(t=e[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function je(e){e[ul]=!0}var cf=new Set,uf={};function $a(e,t){Os(e,t),Os(e+"Capture",t)}function Os(e,t){for(uf[e]=t,e=0;e<t.length;e++)cf.add(t[e])}var Ag=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mu={},Lu={};function Og(e){return fo.call(Lu,e)?!0:fo.call(Mu,e)?!1:Ag.test(e)?Lu[e]=!0:(Mu[e]=!0,!1)}function Kl(e,t,a){if(Og(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Rl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function wt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}var br,zu;function as(e){if(br===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);br=t&&t[1]||"",zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+br+e+zu}var jr=!1;function wr(e,t){if(!e||jr)return"";jr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var h=p}Reflect.construct(e,[],f)}else{try{f.call()}catch(p){h=p}e.call(f.prototype)}}else{try{throw Error()}catch(p){h=p}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=s.DetermineComponentFrameRoot(),r=l[0],c=l[1];if(r&&c){var o=r.split(`
`),u=c.split(`
`);for(n=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;if(s===o.length||n===u.length)for(s=o.length-1,n=u.length-1;1<=s&&0<=n&&o[s]!==u[n];)n--;for(;1<=s&&0<=n;s--,n--)if(o[s]!==u[n]){if(s!==1||n!==1)do if(s--,n--,0>n||o[s]!==u[n]){var d=`
`+o[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=n);break}}}finally{jr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?as(a):""}function Tg(e){switch(e.tag){case 26:case 27:case 5:return as(e.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return wr(e.type,!1);case 11:return wr(e.type.render,!1);case 1:return wr(e.type,!0);case 31:return as("Activity");default:return""}}function qu(e){try{var t="";do t+=Tg(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function df(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dg(e){var t=df(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,l=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){s=""+r,l.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(r){s=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fi(e){e._valueTracker||(e._valueTracker=Dg(e))}function hf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=df(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cg=/[\n"\\]/g;function tt(e){return e.replace(Cg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function po(e,t,a,s,n,l,r,c){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Je(t)):e.value!==""+Je(t)&&(e.value=""+Je(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?go(e,r,Je(t)):a!=null?go(e,r,Je(a)):s!=null&&e.removeAttribute("value"),n==null&&l!=null&&(e.defaultChecked=!!l),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+Je(c):e.removeAttribute("name")}function ff(e,t,a,s,n,l,r,c){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||a!=null){if(!(l!=="submit"&&l!=="reset"||t!=null))return;a=a!=null?""+Je(a):"",t=t!=null?""+Je(t):a,c||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=c?e.checked:!!s,e.defaultChecked=!!s,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r)}function go(e,t,a){t==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vs(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function mf(e,t,a){if(t!=null&&(t=""+Je(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Je(a):""}function pf(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(A(92));if(cn(s)){if(1<s.length)throw Error(A(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Je(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function Ts(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var kg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||kg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function gf(e,t,a){if(t!=null&&typeof t!="object")throw Error(A(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Bu(e,n,s)}else for(var l in t)t.hasOwnProperty(l)&&Bu(e,l,t[l])}function Nc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ug=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(e){return Ug.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var xo=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,bs=null;function Hu(e){var t=$s(e);if(t&&(e=t.stateNode)){var a=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(po(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[Be]||null;if(!n)throw Error(A(90));po(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&hf(s)}break e;case"textarea":mf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&vs(e,!!a.multiple,t,!1)}}}var Sr=!1;function xf(e,t,a){if(Sr)return e(t,a);Sr=!0;try{var s=e(t);return s}finally{if(Sr=!1,(cs!==null||bs!==null)&&(sr(),cs&&(t=cs,e=bs,bs=cs=null,Hu(t),e)))for(t=0;t<e.length;t++)Hu(e[t])}}function Un(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Be]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(A(231,t,typeof a));return a}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yo=!1;if(Lt)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){yo=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{yo=!1}var ta=null,Ec=null,Jl=null;function yf(){if(Jl)return Jl;var e,t=Ec,a=t.length,s,n="value"in ta?ta.value:ta.textContent,l=n.length;for(e=0;e<a&&t[e]===n[e];e++);var r=a-e;for(s=1;s<=r&&t[a-s]===n[l-s];s++);return Jl=n.slice(e,1<s?1-s:void 0)}function Wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ul(){return!0}function Iu(){return!1}function He(e){function t(a,s,n,l,r){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=l,this.target=r,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(a=e[c],this[c]=a?a(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ul:Iu,this.isPropagationStopped=Iu,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),t}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=He(Ga),dl=ae({},Ga,{view:0,detail:0}),Mg=He(dl),Nr,_r,en,Qi=ae({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&e.type==="mousemove"?(Nr=e.screenX-en.screenX,_r=e.screenY-en.screenY):_r=Nr=0,en=e),Nr)},movementY:function(e){return"movementY"in e?e.movementY:_r}}),$u=He(Qi),Lg=ae({},Qi,{dataTransfer:0}),zg=He(Lg),qg=ae({},dl,{relatedTarget:0}),Er=He(qg),Bg=ae({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Hg=He(Bg),Ig=ae({},Ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$g=He(Ig),Gg=ae({},Ga,{data:0}),Gu=He(Gg),Pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vg[e])?!!t[e]:!1}function Ac(){return Fg}var Xg=ae({},dl,{key:function(e){if(e.key){var t=Pg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ac,charCode:function(e){return e.type==="keypress"?Wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qg=He(Xg),Kg=ae({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=He(Kg),Zg=ae({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ac}),Jg=He(Zg),Wg=ae({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),ex=He(Wg),tx=ae({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ax=He(tx),sx=ae({},Ga,{newState:0,oldState:0}),nx=He(sx),lx=[9,13,27,32],Oc=Lt&&"CompositionEvent"in window,mn=null;Lt&&"documentMode"in document&&(mn=document.documentMode);var ix=Lt&&"TextEvent"in window&&!mn,vf=Lt&&(!Oc||mn&&8<mn&&11>=mn),Yu=" ",Vu=!1;function bf(e,t){switch(e){case"keyup":return lx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function rx(e,t){switch(e){case"compositionend":return jf(t);case"keypress":return t.which!==32?null:(Vu=!0,Yu);case"textInput":return e=t.data,e===Yu&&Vu?null:e;default:return null}}function ox(e,t){if(us)return e==="compositionend"||!Oc&&bf(e,t)?(e=yf(),Jl=Ec=ta=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vf&&t.locale!=="ko"?null:t.data;default:return null}}var cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cx[e.type]:t==="textarea"}function wf(e,t,a,s){cs?bs?bs.push(s):bs=[s]:cs=s,t=ki(t,"onChange"),0<t.length&&(a=new Xi("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var pn=null,Mn=null;function ux(e){mp(e,0)}function Ki(e){var t=un(e);if(hf(t))return e}function Xu(e,t){if(e==="change")return t}var Sf=!1;if(Lt){var Ar;if(Lt){var Or="oninput"in document;if(!Or){var Qu=document.createElement("div");Qu.setAttribute("oninput","return;"),Or=typeof Qu.oninput=="function"}Ar=Or}else Ar=!1;Sf=Ar&&(!document.documentMode||9<document.documentMode)}function Ku(){pn&&(pn.detachEvent("onpropertychange",Nf),Mn=pn=null)}function Nf(e){if(e.propertyName==="value"&&Ki(Mn)){var t=[];wf(t,Mn,e,_c(e)),xf(ux,t)}}function dx(e,t,a){e==="focusin"?(Ku(),pn=t,Mn=a,pn.attachEvent("onpropertychange",Nf)):e==="focusout"&&Ku()}function hx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(Mn)}function fx(e,t){if(e==="click")return Ki(t)}function mx(e,t){if(e==="input"||e==="change")return Ki(t)}function px(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ke=typeof Object.is=="function"?Object.is:px;function Ln(e,t){if(Ke(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!fo.call(t,n)||!Ke(e[n],t[n]))return!1}return!0}function Zu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ju(e,t){var a=Zu(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zu(a)}}function _f(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_f(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ef(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=mi(e.document)}return t}function Tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var gx=Lt&&"documentMode"in document&&11>=document.documentMode,ds=null,vo=null,gn=null,bo=!1;function Wu(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bo||ds==null||ds!==mi(s)||(s=ds,"selectionStart"in s&&Tc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),gn&&Ln(gn,s)||(gn=s,s=ki(vo,"onSelect"),0<s.length&&(t=new Xi("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=ds)))}function wa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var hs={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},Tr={},Af={};Lt&&(Af=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Pa(e){if(Tr[e])return Tr[e];if(!hs[e])return e;var t=hs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Af)return Tr[e]=t[a];return e}var Of=Pa("animationend"),Tf=Pa("animationiteration"),Df=Pa("animationstart"),xx=Pa("transitionrun"),yx=Pa("transitionstart"),vx=Pa("transitioncancel"),Cf=Pa("transitionend"),kf=new Map,jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jo.push("scrollEnd");function ht(e,t){kf.set(e,t),$a(t,[e])}var ed=new WeakMap;function at(e,t){if(typeof e=="object"&&e!==null){var a=ed.get(e);return a!==void 0?a:(t={value:e,source:t,stack:qu(t)},ed.set(e,t),t)}return{value:e,source:t,stack:qu(t)}}var Ze=[],fs=0,Dc=0;function Zi(){for(var e=fs,t=Dc=fs=0;t<e;){var a=Ze[t];Ze[t++]=null;var s=Ze[t];Ze[t++]=null;var n=Ze[t];Ze[t++]=null;var l=Ze[t];if(Ze[t++]=null,s!==null&&n!==null){var r=s.pending;r===null?n.next=n:(n.next=r.next,r.next=n),s.pending=n}l!==0&&Rf(a,n,l)}}function Ji(e,t,a,s){Ze[fs++]=e,Ze[fs++]=t,Ze[fs++]=a,Ze[fs++]=s,Dc|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Cc(e,t,a,s){return Ji(e,t,a,s),pi(e)}function Gs(e,t){return Ji(e,null,null,t),pi(e)}function Rf(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,l=e.return;l!==null;)l.childLanes|=a,s=l.alternate,s!==null&&(s.childLanes|=a),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(n=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,n&&t!==null&&(n=31-Fe(a),e=l.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),l):null}function pi(e){if(50<En)throw En=0,$o=null,Error(A(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ms={};function bx(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,a,s){return new bx(e,t,a,s)}function kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kt(e,t){var a=e.alternate;return a===null?(a=Ye(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Uf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ei(e,t,a,s,n,l){var r=0;if(s=e,typeof e=="function")kc(e)&&(r=1);else if(typeof e=="string")r=wy(e,a,xt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oo:return e=Ye(31,a,t,n),e.elementType=oo,e.lanes=l,e;case is:return ka(a.children,n,l,t);case Jh:r=8,n|=24;break;case lo:return e=Ye(12,a,t,n|2),e.elementType=lo,e.lanes=l,e;case io:return e=Ye(13,a,t,n),e.elementType=io,e.lanes=l,e;case ro:return e=Ye(19,a,t,n),e.elementType=ro,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ug:case At:r=10;break e;case Wh:r=9;break e;case yc:r=11;break e;case vc:r=14;break e;case Vt:r=16,s=null;break e}r=29,a=Error(A(130,e===null?"null":typeof e,"")),s=null}return t=Ye(r,a,t,n),t.elementType=e,t.type=s,t.lanes=l,t}function ka(e,t,a,s){return e=Ye(7,e,s,t),e.lanes=a,e}function Dr(e,t,a){return e=Ye(6,e,null,t),e.lanes=a,e}function Cr(e,t,a){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ps=[],gs=0,gi=null,xi=0,We=[],et=0,Ra=null,Ot=1,Tt="";function _a(e,t){ps[gs++]=xi,ps[gs++]=gi,gi=e,xi=t}function Mf(e,t,a){We[et++]=Ot,We[et++]=Tt,We[et++]=Ra,Ra=e;var s=Ot;e=Tt;var n=32-Fe(s)-1;s&=~(1<<n),a+=1;var l=32-Fe(t)+n;if(30<l){var r=n-n%5;l=(s&(1<<r)-1).toString(32),s>>=r,n-=r,Ot=1<<32-Fe(t)+n|a<<n|s,Tt=l+e}else Ot=1<<l|a<<n|s,Tt=e}function Rc(e){e.return!==null&&(_a(e,1),Mf(e,1,0))}function Uc(e){for(;e===gi;)gi=ps[--gs],ps[gs]=null,xi=ps[--gs],ps[gs]=null;for(;e===Ra;)Ra=We[--et],We[et]=null,Tt=We[--et],We[et]=null,Ot=We[--et],We[et]=null}var Ce=null,re=null,V=!1,Ua=null,pt=!1,wo=Error(A(519));function qa(e){var t=Error(A(418,""));throw zn(at(t,e)),wo}function td(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[Oe]=e,t[Be]=s,a){case"dialog":H("cancel",t),H("close",t);break;case"iframe":case"object":case"embed":H("load",t);break;case"video":case"audio":for(a=0;a<Hn.length;a++)H(Hn[a],t);break;case"source":H("error",t);break;case"img":case"image":case"link":H("error",t),H("load",t);break;case"details":H("toggle",t);break;case"input":H("invalid",t),ff(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),fi(t);break;case"select":H("invalid",t);break;case"textarea":H("invalid",t),pf(t,s.value,s.defaultValue,s.children),fi(t)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||gp(t.textContent,a)?(s.popover!=null&&(H("beforetoggle",t),H("toggle",t)),s.onScroll!=null&&H("scroll",t),s.onScrollEnd!=null&&H("scrollend",t),s.onClick!=null&&(t.onclick=ir),t=!0):t=!1,t||qa(e)}function ad(e){for(Ce=e.return;Ce;)switch(Ce.tag){case 5:case 13:pt=!1;return;case 27:case 3:pt=!0;return;default:Ce=Ce.return}}function tn(e){if(e!==Ce)return!1;if(!V)return ad(e),V=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Xo(e.type,e.memoizedProps)),a=!a),a&&re&&qa(e),ad(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){re=dt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}re=null}}else t===27?(t=re,va(e.type)?(e=Zo,Zo=null,re=e):re=t):re=Ce?dt(e.stateNode.nextSibling):null;return!0}function hl(){re=Ce=null,V=!1}function sd(){var e=Ua;return e!==null&&(ze===null?ze=e:ze.push.apply(ze,e),Ua=null),e}function zn(e){Ua===null?Ua=[e]:Ua.push(e)}var So=bt(null),Ya=null,Dt=null;function Qt(e,t,a){le(So,t._currentValue),t._currentValue=a}function Rt(e){e._currentValue=So.current,Se(So)}function No(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function _o(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var l=n.dependencies;if(l!==null){var r=n.child;l=l.firstContext;e:for(;l!==null;){var c=l;l=n;for(var o=0;o<t.length;o++)if(c.context===t[o]){l.lanes|=a,c=l.alternate,c!==null&&(c.lanes|=a),No(l.return,a,e),s||(r=null);break e}l=c.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(A(341));r.lanes|=a,l=r.alternate,l!==null&&(l.lanes|=a),No(r,a,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function fl(e,t,a,s){e=null;for(var n=t,l=!1;n!==null;){if(!l){if(n.flags&524288)l=!0;else if(n.flags&262144)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(A(387));if(r=r.memoizedProps,r!==null){var c=n.type;Ke(n.pendingProps.value,r.value)||(e!==null?e.push(c):e=[c])}}else if(n===ci.current){if(r=n.alternate,r===null)throw Error(A(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Gn):e=[Gn])}n=n.return}e!==null&&_o(t,e,a,s),t.flags|=262144}function yi(e){for(e=e.firstContext;e!==null;){if(!Ke(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ba(e){Ya=e,Dt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Te(e){return Lf(Ya,e)}function Ml(e,t){return Ya===null&&Ba(e),Lf(e,t)}function Lf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Dt===null){if(e===null)throw Error(A(308));Dt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Dt=Dt.next=t;return a}var jx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},wx=xe.unstable_scheduleCallback,Sx=xe.unstable_NormalPriority,pe={$$typeof:At,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new jx,data:new Map,refCount:0}}function ml(e){e.refCount--,e.refCount===0&&wx(Sx,function(){e.controller.abort()})}var xn=null,Eo=0,Ds=0,js=null;function Nx(e,t){if(xn===null){var a=xn=[];Eo=0,Ds=nu(),js={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Eo++,t.then(nd,nd),t}function nd(){if(--Eo===0&&xn!==null){js!==null&&(js.status="fulfilled");var e=xn;xn=null,Ds=0,js=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function _x(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var ld=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Nx(e,t),ld!==null&&ld(e,t)};var Ma=bt(null);function Lc(){var e=Ma.current;return e!==null?e:te.pooledCache}function ti(e,t){t===null?le(Ma,Ma.current):le(Ma,t.pool)}function zf(){var e=Lc();return e===null?null:{parent:pe._currentValue,pool:e}}var pl=Error(A(460)),qf=Error(A(474)),Wi=Error(A(542)),Ao={then:function(){}};function id(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ll(){}function Bf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ll,Ll),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e;default:if(typeof t.status=="string")t.then(Ll,Ll);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(A(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e}throw yn=t,pl}}var yn=null;function rd(){if(yn===null)throw Error(A(459));var e=yn;return yn=null,e}function od(e){if(e===pl||e===Wi)throw Error(A(483))}var Ft=!1;function zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ra(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,K&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=pi(e),Rf(e,null,a),t}return Ji(e,s,t,a),pi(e)}function vn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,rf(e,a)}}function kr(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};l===null?n=l=r:l=l.next=r,a=a.next}while(a!==null);l===null?n=l=t:l=l.next=t}else n=l=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var To=!1;function bn(){if(To){var e=js;if(e!==null)throw e}}function jn(e,t,a,s){To=!1;var n=e.updateQueue;Ft=!1;var l=n.firstBaseUpdate,r=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var o=c,u=o.next;o.next=null,r===null?l=u:r.next=u,r=o;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==r&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=o))}if(l!==null){var f=n.baseState;r=0,d=u=o=null,c=l;do{var h=c.lane&-536870913,p=h!==c.lane;if(p?(G&h)===h:(s&h)===h){h!==0&&h===Ds&&(To=!0),d!==null&&(d=d.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var _=e,m=c;h=t;var S=a;switch(m.tag){case 1:if(_=m.payload,typeof _=="function"){f=_.call(S,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=m.payload,h=typeof _=="function"?_.call(S,f,h):_,h==null)break e;f=ae({},f,h);break e;case 2:Ft=!0}}h=c.callback,h!==null&&(e.flags|=64,p&&(e.flags|=8192),p=n.callbacks,p===null?n.callbacks=[h]:p.push(h))}else p={lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=p,o=f):d=d.next=p,r|=h;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;p=c,c=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(!0);d===null&&(o=f),n.baseState=o,n.firstBaseUpdate=u,n.lastBaseUpdate=d,l===null&&(n.shared.lanes=0),xa|=r,e.lanes=r,e.memoizedState=f}}function Hf(e,t){if(typeof e!="function")throw Error(A(191,e));e.call(t)}function If(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Hf(a[e],t)}var Cs=bt(null),vi=bt(0);function cd(e,t){e=Bt,le(vi,e),le(Cs,t),Bt=e|t.baseLanes}function Do(){le(vi,Bt),le(Cs,Cs.current)}function qc(){Bt=vi.current,Se(Cs),Se(vi)}var pa=0,B=null,J=null,he=null,bi=!1,ws=!1,Ha=!1,ji=0,qn=0,Ss=null,Ex=0;function ue(){throw Error(A(321))}function Bc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ke(e[a],t[a]))return!1;return!0}function Hc(e,t,a,s,n,l){return pa=l,B=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?ym:vm,Ha=!1,l=a(s,n),Ha=!1,ws&&(l=Gf(t,a,s,n)),$f(e),l}function $f(e){U.H=wi;var t=J!==null&&J.next!==null;if(pa=0,he=J=B=null,bi=!1,qn=0,Ss=null,t)throw Error(A(300));e===null||we||(e=e.dependencies,e!==null&&yi(e)&&(we=!0))}function Gf(e,t,a,s){B=e;var n=0;do{if(ws&&(Ss=null),qn=0,ws=!1,25<=n)throw Error(A(301));if(n+=1,he=J=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}U.H=Rx,l=t(a,s)}while(ws);return l}function Ax(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?gl(t):t,e=e.useState()[0],(J!==null?J.memoizedState:null)!==e&&(B.flags|=1024),t}function Ic(){var e=ji!==0;return ji=0,e}function $c(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Gc(e){if(bi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bi=!1}pa=0,he=J=B=null,ws=!1,qn=ji=0,Ss=null}function Me(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?B.memoizedState=he=e:he=he.next=e,he}function fe(){if(J===null){var e=B.alternate;e=e!==null?e.memoizedState:null}else e=J.next;var t=he===null?B.memoizedState:he.next;if(t!==null)he=t,J=e;else{if(e===null)throw B.alternate===null?Error(A(467)):Error(A(310));J=e,e={memoizedState:J.memoizedState,baseState:J.baseState,baseQueue:J.baseQueue,queue:J.queue,next:null},he===null?B.memoizedState=he=e:he=he.next=e}return he}function Pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var t=qn;return qn+=1,Ss===null&&(Ss=[]),e=Bf(Ss,e,t),t=B,(he===null?t.memoizedState:he.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?ym:vm),e}function er(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===At)return Te(e)}throw Error(A(438,String(e)))}function Yc(e){var t=null,a=B.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=B.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Pc(),B.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=dg;return t.index++,a}function zt(e,t){return typeof t=="function"?t(e):t}function ai(e){var t=fe();return Vc(t,J,e)}function Vc(e,t,a){var s=e.queue;if(s===null)throw Error(A(311));s.lastRenderedReducer=a;var n=e.baseQueue,l=s.pending;if(l!==null){if(n!==null){var r=n.next;n.next=l.next,l.next=r}t.baseQueue=n=l,s.pending=null}if(l=e.baseState,n===null)e.memoizedState=l;else{t=n.next;var c=r=null,o=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(G&f)===f:(pa&f)===f){var h=u.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Ds&&(d=!0);else if((pa&h)===h){u=u.next,h===Ds&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(c=o=f,r=l):o=o.next=f,B.lanes|=h,xa|=h;f=u.action,Ha&&a(l,f),l=u.hasEagerState?u.eagerState:a(l,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(c=o=h,r=l):o=o.next=h,B.lanes|=f,xa|=f;u=u.next}while(u!==null&&u!==t);if(o===null?r=l:o.next=c,!Ke(l,e.memoizedState)&&(we=!0,d&&(a=js,a!==null)))throw a;e.memoizedState=l,e.baseState=r,e.baseQueue=o,s.lastRenderedState=l}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Rr(e){var t=fe(),a=t.queue;if(a===null)throw Error(A(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,l=t.memoizedState;if(n!==null){a.pending=null;var r=n=n.next;do l=e(l,r.action),r=r.next;while(r!==n);Ke(l,t.memoizedState)||(we=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),a.lastRenderedState=l}return[l,s]}function Pf(e,t,a){var s=B,n=fe(),l=V;if(l){if(a===void 0)throw Error(A(407));a=a()}else a=t();var r=!Ke((J||n).memoizedState,a);r&&(n.memoizedState=a,we=!0),n=n.queue;var c=Ff.bind(null,s,n,e);if(xl(2048,8,c,[e]),n.getSnapshot!==t||r||he!==null&&he.memoizedState.tag&1){if(s.flags|=2048,ks(9,tr(),Vf.bind(null,s,n,a,t),null),te===null)throw Error(A(349));l||pa&124||Yf(s,t,a)}return a}function Yf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=B.updateQueue,t===null?(t=Pc(),B.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Vf(e,t,a,s){t.value=a,t.getSnapshot=s,Xf(t)&&Qf(e)}function Ff(e,t,a){return a(function(){Xf(t)&&Qf(e)})}function Xf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ke(e,a)}catch{return!0}}function Qf(e){var t=Gs(e,2);t!==null&&Qe(t,e,2)}function Co(e){var t=Me();if(typeof e=="function"){var a=e;if(e=a(),Ha){ea(!0);try{a()}finally{ea(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:e},t}function Kf(e,t,a,s){return e.baseState=a,Vc(e,J,typeof s=="function"?s:zt)}function Ox(e,t,a,s,n){if(ar(e))throw Error(A(485));if(e=t.action,e!==null){var l={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){l.listeners.push(r)}};U.T!==null?a(!0):l.isTransition=!1,s(l),a=t.pending,a===null?(l.next=t.pending=l,Zf(t,l)):(l.next=a.next,t.pending=a.next=l)}}function Zf(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var l=U.T,r={};U.T=r;try{var c=a(n,s),o=U.S;o!==null&&o(r,c),ud(e,t,c)}catch(u){ko(e,t,u)}finally{U.T=l}}else try{l=a(n,s),ud(e,t,l)}catch(u){ko(e,t,u)}}function ud(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){dd(e,t,s)},function(s){return ko(e,t,s)}):dd(e,t,a)}function dd(e,t,a){t.status="fulfilled",t.value=a,Jf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Zf(e,a)))}function ko(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Jf(t),t=t.next;while(t!==s)}e.action=null}function Jf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wf(e,t){return t}function hd(e,t){if(V){var a=te.formState;if(a!==null){e:{var s=B;if(V){if(re){t:{for(var n=re,l=pt;n.nodeType!==8;){if(!l){n=null;break t}if(n=dt(n.nextSibling),n===null){n=null;break t}}l=n.data,n=l==="F!"||l==="F"?n:null}if(n){re=dt(n.nextSibling),s=n.data==="F!";break e}}qa(s)}s=!1}s&&(t=a[0])}}return a=Me(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:t},a.queue=s,a=pm.bind(null,B,s),s.dispatch=a,s=Co(!1),l=Kc.bind(null,B,!1,s.queue),s=Me(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=Ox.bind(null,B,n,l,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function fd(e){var t=fe();return em(t,J,e)}function em(e,t,a){if(t=Vc(e,t,Wf)[0],e=ai(zt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=gl(t)}catch(r){throw r===pl?Wi:r}else s=t;t=fe();var n=t.queue,l=n.dispatch;return a!==t.memoizedState&&(B.flags|=2048,ks(9,tr(),Tx.bind(null,n,a),null)),[s,l,e]}function Tx(e,t){e.action=t}function md(e){var t=fe(),a=J;if(a!==null)return em(t,a,e);fe(),t=t.memoizedState,a=fe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ks(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=B.updateQueue,t===null&&(t=Pc(),B.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function tr(){return{destroy:void 0,resource:void 0}}function tm(){return fe().memoizedState}function si(e,t,a,s){var n=Me();s=s===void 0?null:s,B.flags|=e,n.memoizedState=ks(1|t,tr(),a,s)}function xl(e,t,a,s){var n=fe();s=s===void 0?null:s;var l=n.memoizedState.inst;J!==null&&s!==null&&Bc(s,J.memoizedState.deps)?n.memoizedState=ks(t,l,a,s):(B.flags|=e,n.memoizedState=ks(1|t,l,a,s))}function pd(e,t){si(8390656,8,e,t)}function am(e,t){xl(2048,8,e,t)}function sm(e,t){return xl(4,2,e,t)}function nm(e,t){return xl(4,4,e,t)}function lm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function im(e,t,a){a=a!=null?a.concat([e]):null,xl(4,4,lm.bind(null,t,e),a)}function Fc(){}function rm(e,t){var a=fe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Bc(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function om(e,t){var a=fe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Bc(t,s[1]))return s[0];if(s=e(),Ha){ea(!0);try{e()}finally{ea(!1)}}return a.memoizedState=[s,t],s}function Xc(e,t,a){return a===void 0||pa&1073741824?e.memoizedState=t:(e.memoizedState=a,e=Jm(),B.lanes|=e,xa|=e,a)}function cm(e,t,a,s){return Ke(a,t)?a:Cs.current!==null?(e=Xc(e,a,s),Ke(e,t)||(we=!0),e):pa&42?(e=Jm(),B.lanes|=e,xa|=e,t):(we=!0,e.memoizedState=a)}function um(e,t,a,s,n){var l=F.p;F.p=l!==0&&8>l?l:8;var r=U.T,c={};U.T=c,Kc(e,!1,t,a);try{var o=n(),u=U.S;if(u!==null&&u(c,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=_x(o,s);wn(e,t,d,Xe(e))}else wn(e,t,s,Xe(e))}catch(f){wn(e,t,{then:function(){},status:"rejected",reason:f},Xe())}finally{F.p=l,U.T=r}}function Dx(){}function Ro(e,t,a,s){if(e.tag!==5)throw Error(A(476));var n=dm(e).queue;um(e,n,t,Ca,a===null?Dx:function(){return hm(e),a(s)})}function dm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ca,baseState:Ca,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:Ca},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hm(e){var t=dm(e).next.queue;wn(e,t,{},Xe())}function Qc(){return Te(Gn)}function fm(){return fe().memoizedState}function mm(){return fe().memoizedState}function Cx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Xe();e=ia(a);var s=ra(t,e,a);s!==null&&(Qe(s,t,a),vn(s,t,a)),t={cache:Mc()},e.payload=t;return}t=t.return}}function kx(e,t,a){var s=Xe();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ar(e)?gm(t,a):(a=Cc(e,t,a,s),a!==null&&(Qe(a,e,s),xm(a,t,s)))}function pm(e,t,a){var s=Xe();wn(e,t,a,s)}function wn(e,t,a,s){var n={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ar(e))gm(t,n);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var r=t.lastRenderedState,c=l(r,a);if(n.hasEagerState=!0,n.eagerState=c,Ke(c,r))return Ji(e,t,n,0),te===null&&Zi(),!1}catch{}finally{}if(a=Cc(e,t,n,s),a!==null)return Qe(a,e,s),xm(a,t,s),!0}return!1}function Kc(e,t,a,s){if(s={lane:2,revertLane:nu(),action:s,hasEagerState:!1,eagerState:null,next:null},ar(e)){if(t)throw Error(A(479))}else t=Cc(e,a,s,2),t!==null&&Qe(t,e,2)}function ar(e){var t=e.alternate;return e===B||t!==null&&t===B}function gm(e,t){ws=bi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function xm(e,t,a){if(a&4194048){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,rf(e,a)}}var wi={readContext:Te,use:er,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},ym={readContext:Te,use:er,useCallback:function(e,t){return Me().memoizedState=[e,t===void 0?null:t],e},useContext:Te,useEffect:pd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,si(4194308,4,lm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return si(4194308,4,e,t)},useInsertionEffect:function(e,t){si(4,2,e,t)},useMemo:function(e,t){var a=Me();t=t===void 0?null:t;var s=e();if(Ha){ea(!0);try{e()}finally{ea(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Me();if(a!==void 0){var n=a(t);if(Ha){ea(!0);try{a(t)}finally{ea(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=kx.bind(null,B,e),[s.memoizedState,e]},useRef:function(e){var t=Me();return e={current:e},t.memoizedState=e},useState:function(e){e=Co(e);var t=e.queue,a=pm.bind(null,B,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Fc,useDeferredValue:function(e,t){var a=Me();return Xc(a,e,t)},useTransition:function(){var e=Co(!1);return e=um.bind(null,B,e.queue,!0,!1),Me().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=B,n=Me();if(V){if(a===void 0)throw Error(A(407));a=a()}else{if(a=t(),te===null)throw Error(A(349));G&124||Yf(s,t,a)}n.memoizedState=a;var l={value:a,getSnapshot:t};return n.queue=l,pd(Ff.bind(null,s,l,e),[e]),s.flags|=2048,ks(9,tr(),Vf.bind(null,s,l,a,t),null),a},useId:function(){var e=Me(),t=te.identifierPrefix;if(V){var a=Tt,s=Ot;a=(s&~(1<<32-Fe(s)-1)).toString(32)+a,t="«"+t+"R"+a,a=ji++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Ex++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Qc,useFormState:hd,useActionState:hd,useOptimistic:function(e){var t=Me();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Kc.bind(null,B,!0,a),a.dispatch=t,[e,t]},useMemoCache:Yc,useCacheRefresh:function(){return Me().memoizedState=Cx.bind(null,B)}},vm={readContext:Te,use:er,useCallback:rm,useContext:Te,useEffect:am,useImperativeHandle:im,useInsertionEffect:sm,useLayoutEffect:nm,useMemo:om,useReducer:ai,useRef:tm,useState:function(){return ai(zt)},useDebugValue:Fc,useDeferredValue:function(e,t){var a=fe();return cm(a,J.memoizedState,e,t)},useTransition:function(){var e=ai(zt)[0],t=fe().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:Pf,useId:fm,useHostTransitionStatus:Qc,useFormState:fd,useActionState:fd,useOptimistic:function(e,t){var a=fe();return Kf(a,J,e,t)},useMemoCache:Yc,useCacheRefresh:mm},Rx={readContext:Te,use:er,useCallback:rm,useContext:Te,useEffect:am,useImperativeHandle:im,useInsertionEffect:sm,useLayoutEffect:nm,useMemo:om,useReducer:Rr,useRef:tm,useState:function(){return Rr(zt)},useDebugValue:Fc,useDeferredValue:function(e,t){var a=fe();return J===null?Xc(a,e,t):cm(a,J.memoizedState,e,t)},useTransition:function(){var e=Rr(zt)[0],t=fe().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:Pf,useId:fm,useHostTransitionStatus:Qc,useFormState:md,useActionState:md,useOptimistic:function(e,t){var a=fe();return J!==null?Kf(a,J,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:mm},Ns=null,Bn=0;function zl(e){var t=Bn;return Bn+=1,Ns===null&&(Ns=[]),Bf(Ns,e,t)}function an(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ql(e,t){throw t.$$typeof===cg?Error(A(525)):(e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gd(e){var t=e._init;return t(e._payload)}function bm(e){function t(g,y){if(e){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function a(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function s(g){for(var y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function n(g,y){return g=kt(g,y),g.index=0,g.sibling=null,g}function l(g,y,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=67108866,y):v):(g.flags|=67108866,y)):(g.flags|=1048576,y)}function r(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function c(g,y,v,j){return y===null||y.tag!==6?(y=Dr(v,g.mode,j),y.return=g,y):(y=n(y,v),y.return=g,y)}function o(g,y,v,j){var E=v.type;return E===is?d(g,y,v.props.children,j,v.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Vt&&gd(E)===y.type)?(y=n(y,v.props),an(y,v),y.return=g,y):(y=ei(v.type,v.key,v.props,null,g.mode,j),an(y,v),y.return=g,y)}function u(g,y,v,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Cr(v,g.mode,j),y.return=g,y):(y=n(y,v.children||[]),y.return=g,y)}function d(g,y,v,j,E){return y===null||y.tag!==7?(y=ka(v,g.mode,j,E),y.return=g,y):(y=n(y,v),y.return=g,y)}function f(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Dr(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dl:return v=ei(y.type,y.key,y.props,null,g.mode,v),an(v,y),v.return=g,v;case on:return y=Cr(y,g.mode,v),y.return=g,y;case Vt:var j=y._init;return y=j(y._payload),f(g,y,v)}if(cn(y)||Js(y))return y=ka(y,g.mode,v,null),y.return=g,y;if(typeof y.then=="function")return f(g,zl(y),v);if(y.$$typeof===At)return f(g,Ml(g,y),v);ql(g,y)}return null}function h(g,y,v,j){var E=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return E!==null?null:c(g,y,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Dl:return v.key===E?o(g,y,v,j):null;case on:return v.key===E?u(g,y,v,j):null;case Vt:return E=v._init,v=E(v._payload),h(g,y,v,j)}if(cn(v)||Js(v))return E!==null?null:d(g,y,v,j,null);if(typeof v.then=="function")return h(g,y,zl(v),j);if(v.$$typeof===At)return h(g,y,Ml(g,v),j);ql(g,v)}return null}function p(g,y,v,j,E){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return g=g.get(v)||null,c(y,g,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Dl:return g=g.get(j.key===null?v:j.key)||null,o(y,g,j,E);case on:return g=g.get(j.key===null?v:j.key)||null,u(y,g,j,E);case Vt:var C=j._init;return j=C(j._payload),p(g,y,v,j,E)}if(cn(j)||Js(j))return g=g.get(v)||null,d(y,g,j,E,null);if(typeof j.then=="function")return p(g,y,v,zl(j),E);if(j.$$typeof===At)return p(g,y,v,Ml(y,j),E);ql(y,j)}return null}function _(g,y,v,j){for(var E=null,C=null,x=y,b=y=0,O=null;x!==null&&b<v.length;b++){x.index>b?(O=x,x=null):O=x.sibling;var w=h(g,x,v[b],j);if(w===null){x===null&&(x=O);break}e&&x&&w.alternate===null&&t(g,x),y=l(w,y,b),C===null?E=w:C.sibling=w,C=w,x=O}if(b===v.length)return a(g,x),V&&_a(g,b),E;if(x===null){for(;b<v.length;b++)x=f(g,v[b],j),x!==null&&(y=l(x,y,b),C===null?E=x:C.sibling=x,C=x);return V&&_a(g,b),E}for(x=s(x);b<v.length;b++)O=p(x,g,b,v[b],j),O!==null&&(e&&O.alternate!==null&&x.delete(O.key===null?b:O.key),y=l(O,y,b),C===null?E=O:C.sibling=O,C=O);return e&&x.forEach(function(k){return t(g,k)}),V&&_a(g,b),E}function m(g,y,v,j){if(v==null)throw Error(A(151));for(var E=null,C=null,x=y,b=y=0,O=null,w=v.next();x!==null&&!w.done;b++,w=v.next()){x.index>b?(O=x,x=null):O=x.sibling;var k=h(g,x,w.value,j);if(k===null){x===null&&(x=O);break}e&&x&&k.alternate===null&&t(g,x),y=l(k,y,b),C===null?E=k:C.sibling=k,C=k,x=O}if(w.done)return a(g,x),V&&_a(g,b),E;if(x===null){for(;!w.done;b++,w=v.next())w=f(g,w.value,j),w!==null&&(y=l(w,y,b),C===null?E=w:C.sibling=w,C=w);return V&&_a(g,b),E}for(x=s(x);!w.done;b++,w=v.next())w=p(x,g,b,w.value,j),w!==null&&(e&&w.alternate!==null&&x.delete(w.key===null?b:w.key),y=l(w,y,b),C===null?E=w:C.sibling=w,C=w);return e&&x.forEach(function(T){return t(g,T)}),V&&_a(g,b),E}function S(g,y,v,j){if(typeof v=="object"&&v!==null&&v.type===is&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Dl:e:{for(var E=v.key;y!==null;){if(y.key===E){if(E=v.type,E===is){if(y.tag===7){a(g,y.sibling),j=n(y,v.props.children),j.return=g,g=j;break e}}else if(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Vt&&gd(E)===y.type){a(g,y.sibling),j=n(y,v.props),an(j,v),j.return=g,g=j;break e}a(g,y);break}else t(g,y);y=y.sibling}v.type===is?(j=ka(v.props.children,g.mode,j,v.key),j.return=g,g=j):(j=ei(v.type,v.key,v.props,null,g.mode,j),an(j,v),j.return=g,g=j)}return r(g);case on:e:{for(E=v.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){a(g,y.sibling),j=n(y,v.children||[]),j.return=g,g=j;break e}else{a(g,y);break}else t(g,y);y=y.sibling}j=Cr(v,g.mode,j),j.return=g,g=j}return r(g);case Vt:return E=v._init,v=E(v._payload),S(g,y,v,j)}if(cn(v))return _(g,y,v,j);if(Js(v)){if(E=Js(v),typeof E!="function")throw Error(A(150));return v=E.call(v),m(g,y,v,j)}if(typeof v.then=="function")return S(g,y,zl(v),j);if(v.$$typeof===At)return S(g,y,Ml(g,v),j);ql(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(a(g,y.sibling),j=n(y,v),j.return=g,g=j):(a(g,y),j=Dr(v,g.mode,j),j.return=g,g=j),r(g)):a(g,y)}return function(g,y,v,j){try{Bn=0;var E=S(g,y,v,j);return Ns=null,E}catch(x){if(x===pl||x===Wi)throw x;var C=Ye(29,x,null,g.mode);return C.lanes=j,C.return=g,C}finally{}}}var Rs=bm(!0),jm=bm(!1),lt=bt(null),vt=null;function Kt(e){var t=e.alternate;le(ge,ge.current&1),le(lt,e),vt===null&&(t===null||Cs.current!==null||t.memoizedState!==null)&&(vt=e)}function wm(e){if(e.tag===22){if(le(ge,ge.current),le(lt,e),vt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(vt=e)}}else Zt()}function Zt(){le(ge,ge.current),le(lt,lt.current)}function Ct(e){Se(lt),vt===e&&(vt=null),Se(ge)}var ge=bt(0);function Si(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ko(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ur(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:ae({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Xe(),n=ia(s);n.payload=t,a!=null&&(n.callback=a),t=ra(e,n,s),t!==null&&(Qe(t,e,s),vn(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Xe(),n=ia(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ra(e,n,s),t!==null&&(Qe(t,e,s),vn(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Xe(),s=ia(a);s.tag=2,t!=null&&(s.callback=t),t=ra(e,s,a),t!==null&&(Qe(t,e,a),vn(t,e,a))}};function xd(e,t,a,s,n,l,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,r):t.prototype&&t.prototype.isPureReactComponent?!Ln(a,s)||!Ln(n,l):!0}function yd(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Ia(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=ae({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var Ni=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sm(e){Ni(e)}function Nm(e){console.error(e)}function _m(e){Ni(e)}function _i(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function vd(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Mo(e,t,a){return a=ia(a),a.tag=3,a.payload={element:null},a.callback=function(){_i(e,t)},a}function Em(e){return e=ia(e),e.tag=3,e}function Am(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var l=s.value;e.payload=function(){return n(l)},e.callback=function(){vd(t,a,s)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){vd(t,a,s),typeof n!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var c=s.stack;this.componentDidCatch(s.value,{componentStack:c!==null?c:""})})}function Ux(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&fl(t,a,n,!0),a=lt.current,a!==null){switch(a.tag){case 13:return vt===null?Go():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===Ao?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Yr(e,s,n)),!1;case 22:return a.flags|=65536,s===Ao?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Yr(e,s,n)),!1}throw Error(A(435,a.tag))}return Yr(e,s,n),Go(),!1}if(V)return t=lt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==wo&&(e=Error(A(422),{cause:s}),zn(at(e,a)))):(s!==wo&&(t=Error(A(423),{cause:s}),zn(at(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=at(s,a),n=Mo(e.stateNode,s,n),kr(e,n),oe!==4&&(oe=2)),!1;var l=Error(A(520),{cause:s});if(l=at(l,a),_n===null?_n=[l]:_n.push(l),oe!==4&&(oe=2),t===null)return!0;s=at(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=Mo(a.stateNode,s,e),kr(a,e),!1;case 1:if(t=a.type,l=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(oa===null||!oa.has(l))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Em(n),Am(n,e,a,s),kr(a,n),!1}a=a.return}while(a!==null);return!1}var Om=Error(A(461)),we=!1;function _e(e,t,a,s){t.child=e===null?jm(t,null,a,s):Rs(t,e.child,a,s)}function bd(e,t,a,s,n){a=a.render;var l=t.ref;if("ref"in s){var r={};for(var c in s)c!=="ref"&&(r[c]=s[c])}else r=s;return Ba(t),s=Hc(e,t,a,r,l,n),c=Ic(),e!==null&&!we?($c(e,t,n),qt(e,t,n)):(V&&c&&Rc(t),t.flags|=1,_e(e,t,s,n),t.child)}function jd(e,t,a,s,n){if(e===null){var l=a.type;return typeof l=="function"&&!kc(l)&&l.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=l,Tm(e,t,l,s,n)):(e=ei(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!Zc(e,n)){var r=l.memoizedProps;if(a=a.compare,a=a!==null?a:Ln,a(r,s)&&e.ref===t.ref)return qt(e,t,n)}return t.flags|=1,e=kt(l,s),e.ref=t.ref,e.return=t,t.child=e}function Tm(e,t,a,s,n){if(e!==null){var l=e.memoizedProps;if(Ln(l,s)&&e.ref===t.ref)if(we=!1,t.pendingProps=s=l,Zc(e,n))e.flags&131072&&(we=!0);else return t.lanes=e.lanes,qt(e,t,n)}return Lo(e,t,a,s,n)}function Dm(e,t,a){var s=t.pendingProps,n=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=l!==null?l.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;t.childLanes=l&~s}else t.childLanes=0,t.child=null;return wd(e,t,s,a)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ti(t,l!==null?l.cachePool:null),l!==null?cd(t,l):Do(),wm(t);else return t.lanes=t.childLanes=536870912,wd(e,t,l!==null?l.baseLanes|a:a,a)}else l!==null?(ti(t,l.cachePool),cd(t,l),Zt(),t.memoizedState=null):(e!==null&&ti(t,null),Do(),Zt());return _e(e,t,n,a),t.child}function wd(e,t,a,s){var n=Lc();return n=n===null?null:{parent:pe._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&ti(t,null),Do(),wm(t),e!==null&&fl(e,t,s,!0),null}function ni(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(A(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Lo(e,t,a,s,n){return Ba(t),a=Hc(e,t,a,s,void 0,n),s=Ic(),e!==null&&!we?($c(e,t,n),qt(e,t,n)):(V&&s&&Rc(t),t.flags|=1,_e(e,t,a,n),t.child)}function Sd(e,t,a,s,n,l){return Ba(t),t.updateQueue=null,a=Gf(t,s,a,n),$f(e),s=Ic(),e!==null&&!we?($c(e,t,l),qt(e,t,l)):(V&&s&&Rc(t),t.flags|=1,_e(e,t,a,l),t.child)}function Nd(e,t,a,s,n){if(Ba(t),t.stateNode===null){var l=ms,r=a.contextType;typeof r=="object"&&r!==null&&(l=Te(r)),l=new a(s,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Uo,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=s,l.state=t.memoizedState,l.refs={},zc(t),r=a.contextType,l.context=typeof r=="object"&&r!==null?Te(r):ms,l.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(Ur(t,a,r,s),l.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(r=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),r!==l.state&&Uo.enqueueReplaceState(l,l.state,null),jn(t,s,l,n),bn(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){l=t.stateNode;var c=t.memoizedProps,o=Ia(a,c);l.props=o;var u=l.context,d=a.contextType;r=ms,typeof d=="object"&&d!==null&&(r=Te(d));var f=a.getDerivedStateFromProps;d=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c||u!==r)&&yd(t,l,s,r),Ft=!1;var h=t.memoizedState;l.state=h,jn(t,s,l,n),bn(),u=t.memoizedState,c||h!==u||Ft?(typeof f=="function"&&(Ur(t,a,f,s),u=t.memoizedState),(o=Ft||xd(t,a,o,s,h,u,r))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),l.props=s,l.state=u,l.context=r,s=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,Oo(e,t),r=t.memoizedProps,d=Ia(a,r),l.props=d,f=t.pendingProps,h=l.context,u=a.contextType,o=ms,typeof u=="object"&&u!==null&&(o=Te(u)),c=a.getDerivedStateFromProps,(u=typeof c=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r!==f||h!==o)&&yd(t,l,s,o),Ft=!1,h=t.memoizedState,l.state=h,jn(t,s,l,n),bn();var p=t.memoizedState;r!==f||h!==p||Ft||e!==null&&e.dependencies!==null&&yi(e.dependencies)?(typeof c=="function"&&(Ur(t,a,c,s),p=t.memoizedState),(d=Ft||xd(t,a,d,s,h,p,o)||e!==null&&e.dependencies!==null&&yi(e.dependencies))?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,p,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,p,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),l.props=s,l.state=p,l.context=o,s=d):(typeof l.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return l=s,ni(e,t),s=(t.flags&128)!==0,l||s?(l=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&s?(t.child=Rs(t,e.child,null,n),t.child=Rs(t,null,a,n)):_e(e,t,a,n),t.memoizedState=l.state,e=t.child):e=qt(e,t,n),e}function _d(e,t,a,s){return hl(),t.flags|=256,_e(e,t,a,s),t.child}var Mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lr(e){return{baseLanes:e,cachePool:zf()}}function zr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=st),e}function Cm(e,t,a){var s=t.pendingProps,n=!1,l=(t.flags&128)!==0,r;if((r=l)||(r=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(V){if(n?Kt(t):Zt(),V){var c=re,o;if(o=c){e:{for(o=c,c=pt;o.nodeType!==8;){if(!c){c=null;break e}if(o=dt(o.nextSibling),o===null){c=null;break e}}c=o}c!==null?(t.memoizedState={dehydrated:c,treeContext:Ra!==null?{id:Ot,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},o=Ye(18,null,null,0),o.stateNode=c,o.return=t,t.child=o,Ce=t,re=null,o=!0):o=!1}o||qa(t)}if(c=t.memoizedState,c!==null&&(c=c.dehydrated,c!==null))return Ko(c)?t.lanes=32:t.lanes=536870912,null;Ct(t)}return c=s.children,s=s.fallback,n?(Zt(),n=t.mode,c=Ei({mode:"hidden",children:c},n),s=ka(s,n,a,null),c.return=t,s.return=t,c.sibling=s,t.child=c,n=t.child,n.memoizedState=Lr(a),n.childLanes=zr(e,r,a),t.memoizedState=Mr,s):(Kt(t),zo(t,c))}if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null)){if(l)t.flags&256?(Kt(t),t.flags&=-257,t=qr(e,t,a)):t.memoizedState!==null?(Zt(),t.child=e.child,t.flags|=128,t=null):(Zt(),n=s.fallback,c=t.mode,s=Ei({mode:"visible",children:s.children},c),n=ka(n,c,a,null),n.flags|=2,s.return=t,n.return=t,s.sibling=n,t.child=s,Rs(t,e.child,null,a),s=t.child,s.memoizedState=Lr(a),s.childLanes=zr(e,r,a),t.memoizedState=Mr,t=n);else if(Kt(t),Ko(c)){if(r=c.nextSibling&&c.nextSibling.dataset,r)var u=r.dgst;r=u,s=Error(A(419)),s.stack="",s.digest=r,zn({value:s,source:null,stack:null}),t=qr(e,t,a)}else if(we||fl(e,t,a,!1),r=(a&e.childLanes)!==0,we||r){if(r=te,r!==null&&(s=a&-a,s=s&42?1:jc(s),s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane))throw o.retryLane=s,Gs(e,s),Qe(r,e,s),Om;c.data==="$?"||Go(),t=qr(e,t,a)}else c.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,re=dt(c.nextSibling),Ce=t,V=!0,Ua=null,pt=!1,e!==null&&(We[et++]=Ot,We[et++]=Tt,We[et++]=Ra,Ot=e.id,Tt=e.overflow,Ra=t),t=zo(t,s.children),t.flags|=4096);return t}return n?(Zt(),n=s.fallback,c=t.mode,o=e.child,u=o.sibling,s=kt(o,{mode:"hidden",children:s.children}),s.subtreeFlags=o.subtreeFlags&65011712,u!==null?n=kt(u,n):(n=ka(n,c,a,null),n.flags|=2),n.return=t,s.return=t,s.sibling=n,t.child=s,s=n,n=t.child,c=e.child.memoizedState,c===null?c=Lr(a):(o=c.cachePool,o!==null?(u=pe._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=zf(),c={baseLanes:c.baseLanes|a,cachePool:o}),n.memoizedState=c,n.childLanes=zr(e,r,a),t.memoizedState=Mr,s):(Kt(t),a=e.child,e=a.sibling,a=kt(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function zo(e,t){return t=Ei({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ei(e,t){return e=Ye(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qr(e,t,a){return Rs(t,e.child,null,a),e=zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ed(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),No(e.return,t,a)}function Br(e,t,a,s,n){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=a,l.tailMode=n)}function km(e,t,a){var s=t.pendingProps,n=s.revealOrder,l=s.tail;if(_e(e,t,s.children,a),s=ge.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,a,t);else if(e.tag===19)Ed(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(le(ge,s),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Si(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Br(t,!1,n,a,l);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Si(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Br(t,!0,a,null,l);break;case"together":Br(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),xa|=t.lanes,!(a&t.childLanes))if(e!==null){if(fl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,a=kt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=kt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Zc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&yi(e)))}function Mx(e,t,a){switch(t.tag){case 3:ui(t,t.stateNode.containerInfo),Qt(t,pe,e.memoizedState.cache),hl();break;case 27:case 5:ho(t);break;case 4:ui(t,t.stateNode.containerInfo);break;case 10:Qt(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Kt(t),t.flags|=128,null):a&t.child.childLanes?Cm(e,t,a):(Kt(t),e=qt(e,t,a),e!==null?e.sibling:null);Kt(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(fl(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return km(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),le(ge,ge.current),s)break;return null;case 22:case 23:return t.lanes=0,Dm(e,t,a);case 24:Qt(t,pe,e.memoizedState.cache)}return qt(e,t,a)}function Rm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)we=!0;else{if(!Zc(e,a)&&!(t.flags&128))return we=!1,Mx(e,t,a);we=!!(e.flags&131072)}else we=!1,V&&t.flags&1048576&&Mf(t,xi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,n=s._init;if(s=n(s._payload),t.type=s,typeof s=="function")kc(s)?(e=Ia(s,e),t.tag=1,t=Nd(null,t,s,e,a)):(t.tag=0,t=Lo(null,t,s,e,a));else{if(s!=null){if(n=s.$$typeof,n===yc){t.tag=11,t=bd(null,t,s,e,a);break e}else if(n===vc){t.tag=14,t=jd(null,t,s,e,a);break e}}throw t=co(s)||s,Error(A(306,t,""))}}return t;case 0:return Lo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=Ia(s,t.pendingProps),Nd(e,t,s,n,a);case 3:e:{if(ui(t,t.stateNode.containerInfo),e===null)throw Error(A(387));s=t.pendingProps;var l=t.memoizedState;n=l.element,Oo(e,t),jn(t,s,null,a);var r=t.memoizedState;if(s=r.cache,Qt(t,pe,s),s!==l.cache&&_o(t,[pe],a,!0),bn(),s=r.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=_d(e,t,s,a);break e}else if(s!==n){n=at(Error(A(424)),t),zn(n),t=_d(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(re=dt(e.firstChild),Ce=t,V=!0,Ua=null,pt=!0,a=jm(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(hl(),s===n){t=qt(e,t,a);break e}_e(e,t,s,a)}t=t.child}return t;case 26:return ni(e,t),e===null?(a=Gd(t.type,null,t.pendingProps,null))?t.memoizedState=a:V||(a=t.type,e=t.pendingProps,s=Ri(la.current).createElement(a),s[Oe]=t,s[Be]=e,Ae(s,a,e),je(s),t.stateNode=s):t.memoizedState=Gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ho(t),e===null&&V&&(s=t.stateNode=vp(t.type,t.pendingProps,la.current),Ce=t,pt=!0,n=re,va(t.type)?(Zo=n,re=dt(s.firstChild)):re=n),_e(e,t,t.pendingProps.children,a),ni(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&V&&((n=s=re)&&(s=cy(s,t.type,t.pendingProps,pt),s!==null?(t.stateNode=s,Ce=t,re=dt(s.firstChild),pt=!1,n=!0):n=!1),n||qa(t)),ho(t),n=t.type,l=t.pendingProps,r=e!==null?e.memoizedProps:null,s=l.children,Xo(n,l)?s=null:r!==null&&Xo(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=Hc(e,t,Ax,null,null,a),Gn._currentValue=n),ni(e,t),_e(e,t,s,a),t.child;case 6:return e===null&&V&&((e=a=re)&&(a=uy(a,t.pendingProps,pt),a!==null?(t.stateNode=a,Ce=t,re=null,e=!0):e=!1),e||qa(t)),null;case 13:return Cm(e,t,a);case 4:return ui(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Rs(t,null,s,a):_e(e,t,s,a),t.child;case 11:return bd(e,t,t.type,t.pendingProps,a);case 7:return _e(e,t,t.pendingProps,a),t.child;case 8:return _e(e,t,t.pendingProps.children,a),t.child;case 12:return _e(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Qt(t,t.type,s.value),_e(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Ba(t),n=Te(n),s=s(n),t.flags|=1,_e(e,t,s,a),t.child;case 14:return jd(e,t,t.type,t.pendingProps,a);case 15:return Tm(e,t,t.type,t.pendingProps,a);case 19:return km(e,t,a);case 31:return s=t.pendingProps,a=t.mode,s={mode:s.mode,children:s.children},e===null?(a=Ei(s,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=kt(e.child,s),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Dm(e,t,a);case 24:return Ba(t),s=Te(pe),e===null?(n=Lc(),n===null&&(n=te,l=Mc(),n.pooledCache=l,l.refCount++,l!==null&&(n.pooledCacheLanes|=a),n=l),t.memoizedState={parent:s,cache:n},zc(t),Qt(t,pe,n)):(e.lanes&a&&(Oo(e,t),jn(t,null,null,a),bn()),n=e.memoizedState,l=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Qt(t,pe,s)):(s=l.cache,Qt(t,pe,s),s!==n.cache&&_o(t,[pe],a,!0))),_e(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(A(156,t.tag))}function St(e){e.flags|=4}function Ad(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!wp(t)){if(t=lt.current,t!==null&&((G&4194048)===G?vt!==null:(G&62914560)!==G&&!(G&536870912)||t!==vt))throw yn=Ao,qf;e.flags|=8192}}function Bl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?nf():536870912,e.lanes|=t,Us|=t)}function sn(e,t){if(!V)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Lx(e,t,a){var s=t.pendingProps;switch(Uc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(t),null;case 1:return ie(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Rt(pe),As(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(tn(t)?St(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sd())),ie(t),null;case 26:return a=t.memoizedState,e===null?(St(t),a!==null?(ie(t),Ad(t,a)):(ie(t),t.flags&=-16777217)):a?a!==e.memoizedState?(St(t),ie(t),Ad(t,a)):(ie(t),t.flags&=-16777217):(e.memoizedProps!==s&&St(t),ie(t),t.flags&=-16777217),null;case 27:di(t),a=la.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&St(t);else{if(!s){if(t.stateNode===null)throw Error(A(166));return ie(t),null}e=xt.current,tn(t)?td(t):(e=vp(n,s,a),t.stateNode=e,St(t))}return ie(t),null;case 5:if(di(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&St(t);else{if(!s){if(t.stateNode===null)throw Error(A(166));return ie(t),null}if(e=xt.current,tn(t))td(t);else{switch(n=Ri(la.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?n.createElement("select",{is:s.is}):n.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?n.createElement(a,{is:s.is}):n.createElement(a)}}e[Oe]=t,e[Be]=s;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Ae(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&St(t)}}return ie(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&St(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(A(166));if(e=la.current,tn(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=Ce,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[Oe]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||gp(e.nodeValue,a)),e||qa(t)}else e=Ri(e).createTextNode(s),e[Oe]=t,t.stateNode=e}return ie(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=tn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(A(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(A(317));n[Oe]=t}else hl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ie(t),n=!1}else n=sd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Ct(t),t):(Ct(t),null)}if(Ct(t),t.flags&128)return t.lanes=a,t;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool);var l=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==n&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Bl(t,t.updateQueue),ie(t),null;case 4:return As(),e===null&&lu(t.stateNode.containerInfo),ie(t),null;case 10:return Rt(t.type),ie(t),null;case 19:if(Se(ge),n=t.memoizedState,n===null)return ie(t),null;if(s=(t.flags&128)!==0,l=n.rendering,l===null)if(s)sn(n,!1);else{if(oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Si(e),l!==null){for(t.flags|=128,sn(n,!1),e=l.updateQueue,t.updateQueue=e,Bl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Uf(a,e),a=a.sibling;return le(ge,ge.current&1|2),t.child}e=e.sibling}n.tail!==null&&yt()>Oi&&(t.flags|=128,s=!0,sn(n,!1),t.lanes=4194304)}else{if(!s)if(e=Si(l),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Bl(t,e),sn(n,!0),n.tail===null&&n.tailMode==="hidden"&&!l.alternate&&!V)return ie(t),null}else 2*yt()-n.renderingStartTime>Oi&&a!==536870912&&(t.flags|=128,s=!0,sn(n,!1),t.lanes=4194304);n.isBackwards?(l.sibling=t.child,t.child=l):(e=n.last,e!==null?e.sibling=l:t.child=l,n.last=l)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=yt(),t.sibling=null,e=ge.current,le(ge,s?e&1|2:e&1),t):(ie(t),null);case 22:case 23:return Ct(t),qc(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?a&536870912&&!(t.flags&128)&&(ie(t),t.subtreeFlags&6&&(t.flags|=8192)):ie(t),a=t.updateQueue,a!==null&&Bl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&Se(Ma),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Rt(pe),ie(t),null;case 25:return null;case 30:return null}throw Error(A(156,t.tag))}function zx(e,t){switch(Uc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rt(pe),As(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return di(t),null;case 13:if(Ct(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));hl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(ge),null;case 4:return As(),null;case 10:return Rt(t.type),null;case 22:case 23:return Ct(t),qc(),e!==null&&Se(Ma),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Rt(pe),null;case 25:return null;default:return null}}function Um(e,t){switch(Uc(t),t.tag){case 3:Rt(pe),As();break;case 26:case 27:case 5:di(t);break;case 4:As();break;case 13:Ct(t);break;case 19:Se(ge);break;case 10:Rt(t.type);break;case 22:case 23:Ct(t),qc(),e!==null&&Se(Ma);break;case 24:Rt(pe)}}function yl(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var l=a.create,r=a.inst;s=l(),r.destroy=s}a=a.next}while(a!==n)}}catch(c){W(t,t.return,c)}}function ga(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var l=n.next;s=l;do{if((s.tag&e)===e){var r=s.inst,c=r.destroy;if(c!==void 0){r.destroy=void 0,n=t;var o=a,u=c;try{u()}catch(d){W(n,o,d)}}}s=s.next}while(s!==l)}}catch(d){W(t,t.return,d)}}function Mm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{If(t,a)}catch(s){W(e,e.return,s)}}}function Lm(e,t,a){a.props=Ia(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){W(e,t,s)}}function Sn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){W(e,t,n)}}function gt(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){W(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){W(e,t,n)}else a.current=null}function zm(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){W(e,e.return,n)}}function Hr(e,t,a){try{var s=e.stateNode;ny(s,e.type,a,t),s[Be]=t}catch(n){W(e,e.return,n)}}function qm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&va(e.type)||e.tag===4}function Ir(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ir));else if(s!==4&&(s===27&&va(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(qo(e,t,a),e=e.sibling;e!==null;)qo(e,t,a),e=e.sibling}function Ai(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&va(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ai(e,t,a),e=e.sibling;e!==null;)Ai(e,t,a),e=e.sibling}function Bm(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ae(t,s,a),t[Oe]=e,t[Be]=a}catch(l){W(e,e.return,l)}}var Et=!1,de=!1,$r=!1,Od=typeof WeakSet=="function"?WeakSet:Set,be=null;function qx(e,t){if(e=e.containerInfo,Vo=zi,e=Ef(e),Tc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var r=0,c=-1,o=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==a||n!==0&&f.nodeType!==3||(c=r+n),f!==l||s!==0&&f.nodeType!==3||(o=r+s),f.nodeType===3&&(r+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===a&&++u===n&&(c=r),h===l&&++d===s&&(o=r),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}a=c===-1||o===-1?null:{start:c,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fo={focusedElem:e,selectionRange:a},zi=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){switch(t=be,l=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,a=t,n=l.memoizedProps,l=l.memoizedState,s=a.stateNode;try{var _=Ia(a.type,n,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(_,l),s.__reactInternalSnapshotBeforeUpdate=e}catch(m){W(a,a.return,m)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Qo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(A(163))}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}}function Hm(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:$t(e,a),s&4&&yl(5,a);break;case 1:if($t(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){W(a,a.return,r)}else{var n=Ia(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){W(a,a.return,r)}}s&64&&Mm(a),s&512&&Sn(a,a.return);break;case 3:if($t(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{If(e,t)}catch(r){W(a,a.return,r)}}break;case 27:t===null&&s&4&&Bm(a);case 26:case 5:$t(e,a),t===null&&s&4&&zm(a),s&512&&Sn(a,a.return);break;case 12:$t(e,a);break;case 13:$t(e,a),s&4&&Gm(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Fx.bind(null,a),dy(e,a))));break;case 22:if(s=a.memoizedState!==null||Et,!s){t=t!==null&&t.memoizedState!==null||de,n=Et;var l=de;Et=s,(de=t)&&!l?Gt(e,a,(a.subtreeFlags&8772)!==0):$t(e,a),Et=n,de=l}break;case 30:break;default:$t(e,a)}}function Im(e){var t=e.alternate;t!==null&&(e.alternate=null,Im(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Sc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,Le=!1;function Nt(e,t,a){for(a=a.child;a!==null;)$m(e,t,a),a=a.sibling}function $m(e,t,a){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(rl,a)}catch{}switch(a.tag){case 26:de||gt(a,t),Nt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||gt(a,t);var s=se,n=Le;va(a.type)&&(se=a.stateNode,Le=!1),Nt(e,t,a),An(a.stateNode),se=s,Le=n;break;case 5:de||gt(a,t);case 6:if(s=se,n=Le,se=null,Nt(e,t,a),se=s,Le=n,se!==null)if(Le)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(l){W(a,t,l)}else try{se.removeChild(a.stateNode)}catch(l){W(a,t,l)}break;case 18:se!==null&&(Le?(e=se,Hd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Vn(e)):Hd(se,a.stateNode));break;case 4:s=se,n=Le,se=a.stateNode.containerInfo,Le=!0,Nt(e,t,a),se=s,Le=n;break;case 0:case 11:case 14:case 15:de||ga(2,a,t),de||ga(4,a,t),Nt(e,t,a);break;case 1:de||(gt(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Lm(a,t,s)),Nt(e,t,a);break;case 21:Nt(e,t,a);break;case 22:de=(s=de)||a.memoizedState!==null,Nt(e,t,a),de=s;break;default:Nt(e,t,a)}}function Gm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vn(e)}catch(a){W(t,t.return,a)}}function Bx(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Od),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Od),t;default:throw Error(A(435,e.tag))}}function Gr(e,t){var a=Bx(e);t.forEach(function(s){var n=Xx.bind(null,e,s);a.has(s)||(a.add(s),s.then(n,n))})}function Ie(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],l=e,r=t,c=r;e:for(;c!==null;){switch(c.tag){case 27:if(va(c.type)){se=c.stateNode,Le=!1;break e}break;case 5:se=c.stateNode,Le=!1;break e;case 3:case 4:se=c.stateNode.containerInfo,Le=!0;break e}c=c.return}if(se===null)throw Error(A(160));$m(l,r,n),se=null,Le=!1,l=n.alternate,l!==null&&(l.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Pm(t,e),t=t.sibling}var rt=null;function Pm(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ie(t,e),$e(e),s&4&&(ga(3,e,e.return),yl(3,e),ga(5,e,e.return));break;case 1:Ie(t,e),$e(e),s&512&&(de||a===null||gt(a,a.return)),s&64&&Et&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=rt;if(Ie(t,e),$e(e),s&512&&(de||a===null||gt(a,a.return)),s&4){var l=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":l=n.getElementsByTagName("title")[0],(!l||l[ul]||l[Oe]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=n.createElement(s),n.head.insertBefore(l,n.querySelector("head > title"))),Ae(l,s,a),l[Oe]=e,je(l),s=l;break e;case"link":var r=Yd("link","href",n).get(s+(a.href||""));if(r){for(var c=0;c<r.length;c++)if(l=r[c],l.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&l.getAttribute("rel")===(a.rel==null?null:a.rel)&&l.getAttribute("title")===(a.title==null?null:a.title)&&l.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(c,1);break t}}l=n.createElement(s),Ae(l,s,a),n.head.appendChild(l);break;case"meta":if(r=Yd("meta","content",n).get(s+(a.content||""))){for(c=0;c<r.length;c++)if(l=r[c],l.getAttribute("content")===(a.content==null?null:""+a.content)&&l.getAttribute("name")===(a.name==null?null:a.name)&&l.getAttribute("property")===(a.property==null?null:a.property)&&l.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&l.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(c,1);break t}}l=n.createElement(s),Ae(l,s,a),n.head.appendChild(l);break;default:throw Error(A(468,s))}l[Oe]=e,je(l),s=l}e.stateNode=s}else Vd(n,e.type,e.stateNode);else e.stateNode=Pd(n,s,e.memoizedProps);else l!==s?(l===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):l.count--,s===null?Vd(n,e.type,e.stateNode):Pd(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Hr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ie(t,e),$e(e),s&512&&(de||a===null||gt(a,a.return)),a!==null&&s&4&&Hr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ie(t,e),$e(e),s&512&&(de||a===null||gt(a,a.return)),e.flags&32){n=e.stateNode;try{Ts(n,"")}catch(p){W(e,e.return,p)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,Hr(e,n,a!==null?a.memoizedProps:n)),s&1024&&($r=!0);break;case 6:if(Ie(t,e),$e(e),s&4){if(e.stateNode===null)throw Error(A(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(p){W(e,e.return,p)}}break;case 3:if(ri=null,n=rt,rt=Ui(t.containerInfo),Ie(t,e),rt=n,$e(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Vn(t.containerInfo)}catch(p){W(e,e.return,p)}$r&&($r=!1,Ym(e));break;case 4:s=rt,rt=Ui(e.stateNode.containerInfo),Ie(t,e),$e(e),rt=s;break;case 12:Ie(t,e),$e(e);break;case 13:Ie(t,e),$e(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(au=yt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Gr(e,s)));break;case 22:n=e.memoizedState!==null;var o=a!==null&&a.memoizedState!==null,u=Et,d=de;if(Et=u||n,de=d||o,Ie(t,e),de=d,Et=u,$e(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||o||Et||de||Ea(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){o=a=t;try{if(l=o.stateNode,n)r=l.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{c=o.stateNode;var f=o.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;c.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){W(o,o.return,p)}}}else if(t.tag===6){if(a===null){o=t;try{o.stateNode.nodeValue=n?"":o.memoizedProps}catch(p){W(o,o.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Gr(e,a))));break;case 19:Ie(t,e),$e(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Gr(e,s)));break;case 30:break;case 21:break;default:Ie(t,e),$e(e)}}function $e(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(qm(s)){a=s;break}s=s.return}if(a==null)throw Error(A(160));switch(a.tag){case 27:var n=a.stateNode,l=Ir(e);Ai(e,l,n);break;case 5:var r=a.stateNode;a.flags&32&&(Ts(r,""),a.flags&=-33);var c=Ir(e);Ai(e,c,r);break;case 3:case 4:var o=a.stateNode.containerInfo,u=Ir(e);qo(e,u,o);break;default:throw Error(A(161))}}catch(d){W(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ym(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ym(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function $t(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Hm(e,t.alternate,t),t=t.sibling}function Ea(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ga(4,t,t.return),Ea(t);break;case 1:gt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Lm(t,t.return,a),Ea(t);break;case 27:An(t.stateNode);case 26:case 5:gt(t,t.return),Ea(t);break;case 22:t.memoizedState===null&&Ea(t);break;case 30:Ea(t);break;default:Ea(t)}e=e.sibling}}function Gt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,l=t,r=l.flags;switch(l.tag){case 0:case 11:case 15:Gt(n,l,a),yl(4,l);break;case 1:if(Gt(n,l,a),s=l,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(u){W(s,s.return,u)}if(s=l,n=s.updateQueue,n!==null){var c=s.stateNode;try{var o=n.shared.hiddenCallbacks;if(o!==null)for(n.shared.hiddenCallbacks=null,n=0;n<o.length;n++)Hf(o[n],c)}catch(u){W(s,s.return,u)}}a&&r&64&&Mm(l),Sn(l,l.return);break;case 27:Bm(l);case 26:case 5:Gt(n,l,a),a&&s===null&&r&4&&zm(l),Sn(l,l.return);break;case 12:Gt(n,l,a);break;case 13:Gt(n,l,a),a&&r&4&&Gm(n,l);break;case 22:l.memoizedState===null&&Gt(n,l,a),Sn(l,l.return);break;case 30:break;default:Gt(n,l,a)}t=t.sibling}}function Jc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ml(a))}function Wc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ml(e))}function ft(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vm(e,t,a,s),t=t.sibling}function Vm(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:ft(e,t,a,s),n&2048&&yl(9,t);break;case 1:ft(e,t,a,s);break;case 3:ft(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ml(e)));break;case 12:if(n&2048){ft(e,t,a,s),e=t.stateNode;try{var l=t.memoizedProps,r=l.id,c=l.onPostCommit;typeof c=="function"&&c(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){W(t,t.return,o)}}else ft(e,t,a,s);break;case 13:ft(e,t,a,s);break;case 23:break;case 22:l=t.stateNode,r=t.alternate,t.memoizedState!==null?l._visibility&2?ft(e,t,a,s):Nn(e,t):l._visibility&2?ft(e,t,a,s):(l._visibility|=2,ss(e,t,a,s,(t.subtreeFlags&10256)!==0)),n&2048&&Jc(r,t);break;case 24:ft(e,t,a,s),n&2048&&Wc(t.alternate,t);break;default:ft(e,t,a,s)}}function ss(e,t,a,s,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var l=e,r=t,c=a,o=s,u=r.flags;switch(r.tag){case 0:case 11:case 15:ss(l,r,c,o,n),yl(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?ss(l,r,c,o,n):Nn(l,r):(d._visibility|=2,ss(l,r,c,o,n)),n&&u&2048&&Jc(r.alternate,r);break;case 24:ss(l,r,c,o,n),n&&u&2048&&Wc(r.alternate,r);break;default:ss(l,r,c,o,n)}t=t.sibling}}function Nn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:Nn(a,s),n&2048&&Jc(s.alternate,s);break;case 24:Nn(a,s),n&2048&&Wc(s.alternate,s);break;default:Nn(a,s)}t=t.sibling}}var dn=8192;function Ka(e){if(e.subtreeFlags&dn)for(e=e.child;e!==null;)Fm(e),e=e.sibling}function Fm(e){switch(e.tag){case 26:Ka(e),e.flags&dn&&e.memoizedState!==null&&Ny(rt,e.memoizedState,e.memoizedProps);break;case 5:Ka(e);break;case 3:case 4:var t=rt;rt=Ui(e.stateNode.containerInfo),Ka(e),rt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=dn,dn=16777216,Ka(e),dn=t):Ka(e));break;default:Ka(e)}}function Xm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function nn(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];be=s,Km(s,e)}Xm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qm(e),e=e.sibling}function Qm(e){switch(e.tag){case 0:case 11:case 15:nn(e),e.flags&2048&&ga(9,e,e.return);break;case 3:nn(e);break;case 12:nn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,li(e)):nn(e);break;default:nn(e)}}function li(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];be=s,Km(s,e)}Xm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ga(8,t,t.return),li(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,li(t));break;default:li(t)}e=e.sibling}}function Km(e,t){for(;be!==null;){var a=be;switch(a.tag){case 0:case 11:case 15:ga(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ml(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,be=s;else e:for(a=e;be!==null;){s=be;var n=s.sibling,l=s.return;if(Im(s),s===a){be=null;break e}if(n!==null){n.return=l,be=n;break e}be=l}}}var Hx={getCacheForType:function(e){var t=Te(pe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Ix=typeof WeakMap=="function"?WeakMap:Map,K=0,te=null,I=null,G=0,Q=0,Ge=null,aa=!1,Ps=!1,eu=!1,Bt=0,oe=0,xa=0,La=0,tu=0,st=0,Us=0,_n=null,ze=null,Bo=!1,au=0,Oi=1/0,Ti=null,oa=null,Ee=0,ca=null,Ms=null,_s=0,Ho=0,Io=null,Zm=null,En=0,$o=null;function Xe(){if(K&2&&G!==0)return G&-G;if(U.T!==null){var e=Ds;return e!==0?e:nu()}return of()}function Jm(){st===0&&(st=!(G&536870912)||V?sf():536870912);var e=lt.current;return e!==null&&(e.flags|=32),st}function Qe(e,t,a){(e===te&&(Q===2||Q===9)||e.cancelPendingCommit!==null)&&(Ls(e,0),sa(e,G,st,!1)),cl(e,a),(!(K&2)||e!==te)&&(e===te&&(!(K&2)&&(La|=a),oe===4&&sa(e,G,st,!1)),jt(e))}function Wm(e,t,a){if(K&6)throw Error(A(327));var s=!a&&(t&124)===0&&(t&e.expiredLanes)===0||ol(e,t),n=s?Px(e,t):Pr(e,t,!0),l=s;do{if(n===0){Ps&&!s&&sa(e,t,0,!1);break}else{if(a=e.current.alternate,l&&!$x(a)){n=Pr(e,t,!1),l=!1;continue}if(n===2){if(l=t,e.errorRecoveryDisabledLanes&l)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var c=e;n=_n;var o=c.current.memoizedState.isDehydrated;if(o&&(Ls(c,r).flags|=256),r=Pr(c,r,!1),r!==2){if(eu&&!o){c.errorRecoveryDisabledLanes|=l,La|=l,n=4;break e}l=ze,ze=n,l!==null&&(ze===null?ze=l:ze.push.apply(ze,l))}n=r}if(l=!1,n!==2)continue}}if(n===1){Ls(e,0),sa(e,t,0,!0);break}e:{switch(s=e,l=n,l){case 0:case 1:throw Error(A(345));case 4:if((t&4194048)!==t)break;case 6:sa(s,t,st,!aa);break e;case 2:ze=null;break;case 3:case 5:break;default:throw Error(A(329))}if((t&62914560)===t&&(n=au+300-yt(),10<n)){if(sa(s,t,st,!aa),Fi(s,0,!0)!==0)break e;s.timeoutHandle=yp(Td.bind(null,s,a,ze,Ti,Bo,t,st,La,Us,aa,l,2,-0,0),n);break e}Td(s,a,ze,Ti,Bo,t,st,La,Us,aa,l,0,-0,0)}}break}while(!0);jt(e)}function Td(e,t,a,s,n,l,r,c,o,u,d,f,h,p){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&($n={stylesheets:null,count:0,unsuspend:Sy},Fm(t),f=_y(),f!==null)){e.cancelPendingCommit=f(Cd.bind(null,e,t,l,a,s,n,r,c,o,d,1,h,p)),sa(e,l,r,!u);return}Cd(e,t,l,a,s,n,r,c,o)}function $x(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],l=n.getSnapshot;n=n.value;try{if(!Ke(l(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sa(e,t,a,s){t&=~tu,t&=~La,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var l=31-Fe(n),r=1<<l;s[l]=-1,n&=~r}a!==0&&lf(e,a,t)}function sr(){return K&6?!0:(vl(0),!1)}function su(){if(I!==null){if(Q===0)var e=I.return;else e=I,Dt=Ya=null,Gc(e),Ns=null,Bn=0,e=I;for(;e!==null;)Um(e.alternate,e),e=e.return;I=null}}function Ls(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,iy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),su(),te=e,I=a=kt(e.current,null),G=t,Q=0,Ge=null,aa=!1,Ps=ol(e,t),eu=!1,Us=st=tu=La=xa=oe=0,ze=_n=null,Bo=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-Fe(s),l=1<<n;t|=e[n],s&=~l}return Bt=t,Zi(),a}function ep(e,t){B=null,U.H=wi,t===pl||t===Wi?(t=rd(),Q=3):t===qf?(t=rd(),Q=4):Q=t===Om?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ge=t,I===null&&(oe=1,_i(e,at(t,e.current)))}function tp(){var e=U.H;return U.H=wi,e===null?wi:e}function ap(){var e=U.A;return U.A=Hx,e}function Go(){oe=4,aa||(G&4194048)!==G&&lt.current!==null||(Ps=!0),!(xa&134217727)&&!(La&134217727)||te===null||sa(te,G,st,!1)}function Pr(e,t,a){var s=K;K|=2;var n=tp(),l=ap();(te!==e||G!==t)&&(Ti=null,Ls(e,t)),t=!1;var r=oe;e:do try{if(Q!==0&&I!==null){var c=I,o=Ge;switch(Q){case 8:su(),r=6;break e;case 3:case 2:case 9:case 6:lt.current===null&&(t=!0);var u=Q;if(Q=0,Ge=null,xs(e,c,o,u),a&&Ps){r=0;break e}break;default:u=Q,Q=0,Ge=null,xs(e,c,o,u)}}Gx(),r=oe;break}catch(d){ep(e,d)}while(!0);return t&&e.shellSuspendCounter++,Dt=Ya=null,K=s,U.H=n,U.A=l,I===null&&(te=null,G=0,Zi()),r}function Gx(){for(;I!==null;)sp(I)}function Px(e,t){var a=K;K|=2;var s=tp(),n=ap();te!==e||G!==t?(Ti=null,Oi=yt()+500,Ls(e,t)):Ps=ol(e,t);e:do try{if(Q!==0&&I!==null){t=I;var l=Ge;t:switch(Q){case 1:Q=0,Ge=null,xs(e,t,l,1);break;case 2:case 9:if(id(l)){Q=0,Ge=null,Dd(t);break}t=function(){Q!==2&&Q!==9||te!==e||(Q=7),jt(e)},l.then(t,t);break e;case 3:Q=7;break e;case 4:Q=5;break e;case 7:id(l)?(Q=0,Ge=null,Dd(t)):(Q=0,Ge=null,xs(e,t,l,7));break;case 5:var r=null;switch(I.tag){case 26:r=I.memoizedState;case 5:case 27:var c=I;if(!r||wp(r)){Q=0,Ge=null;var o=c.sibling;if(o!==null)I=o;else{var u=c.return;u!==null?(I=u,nr(u)):I=null}break t}}Q=0,Ge=null,xs(e,t,l,5);break;case 6:Q=0,Ge=null,xs(e,t,l,6);break;case 8:su(),oe=6;break e;default:throw Error(A(462))}}Yx();break}catch(d){ep(e,d)}while(!0);return Dt=Ya=null,U.H=s,U.A=n,K=a,I!==null?0:(te=null,G=0,Zi(),oe)}function Yx(){for(;I!==null&&!fg();)sp(I)}function sp(e){var t=Rm(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,t===null?nr(e):I=t}function Dd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Sd(a,t,t.pendingProps,t.type,void 0,G);break;case 11:t=Sd(a,t,t.pendingProps,t.type.render,t.ref,G);break;case 5:Gc(t);default:Um(a,t),t=I=Uf(t,Bt),t=Rm(a,t,Bt)}e.memoizedProps=e.pendingProps,t===null?nr(e):I=t}function xs(e,t,a,s){Dt=Ya=null,Gc(t),Ns=null,Bn=0;var n=t.return;try{if(Ux(e,n,t,a,G)){oe=1,_i(e,at(a,e.current)),I=null;return}}catch(l){if(n!==null)throw I=n,l;oe=1,_i(e,at(a,e.current)),I=null;return}t.flags&32768?(V||s===1?e=!0:Ps||G&536870912?e=!1:(aa=e=!0,(s===2||s===9||s===3||s===6)&&(s=lt.current,s!==null&&s.tag===13&&(s.flags|=16384))),np(t,e)):nr(t)}function nr(e){var t=e;do{if(t.flags&32768){np(t,aa);return}e=t.return;var a=Lx(t.alternate,t,Bt);if(a!==null){I=a;return}if(t=t.sibling,t!==null){I=t;return}I=t=e}while(t!==null);oe===0&&(oe=5)}function np(e,t){do{var a=zx(e.alternate,e);if(a!==null){a.flags&=32767,I=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){I=e;return}I=e=a}while(e!==null);oe=6,I=null}function Cd(e,t,a,s,n,l,r,c,o){e.cancelPendingCommit=null;do lr();while(Ee!==0);if(K&6)throw Error(A(327));if(t!==null){if(t===e.current)throw Error(A(177));if(l=t.lanes|t.childLanes,l|=Dc,Sg(e,a,l,r,c,o),e===te&&(I=te=null,G=0),Ms=t,ca=e,_s=a,Ho=l,Io=n,Zm=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Qx(hi,function(){return cp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=U.T,U.T=null,n=F.p,F.p=2,r=K,K|=4;try{qx(e,t,a)}finally{K=r,F.p=n,U.T=s}}Ee=1,lp(),ip(),rp()}}function lp(){if(Ee===1){Ee=0;var e=ca,t=Ms,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=U.T,U.T=null;var s=F.p;F.p=2;var n=K;K|=4;try{Pm(t,e);var l=Fo,r=Ef(e.containerInfo),c=l.focusedElem,o=l.selectionRange;if(r!==c&&c&&c.ownerDocument&&_f(c.ownerDocument.documentElement,c)){if(o!==null&&Tc(c)){var u=o.start,d=o.end;if(d===void 0&&(d=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(d,c.value.length);else{var f=c.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var p=h.getSelection(),_=c.textContent.length,m=Math.min(o.start,_),S=o.end===void 0?m:Math.min(o.end,_);!p.extend&&m>S&&(r=S,S=m,m=r);var g=Ju(c,m),y=Ju(c,S);if(g&&y&&(p.rangeCount!==1||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var v=f.createRange();v.setStart(g.node,g.offset),p.removeAllRanges(),m>S?(p.addRange(v),p.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),p.addRange(v))}}}}for(f=[],p=c;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<f.length;c++){var j=f[c];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}zi=!!Vo,Fo=Vo=null}finally{K=n,F.p=s,U.T=a}}e.current=t,Ee=2}}function ip(){if(Ee===2){Ee=0;var e=ca,t=Ms,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=U.T,U.T=null;var s=F.p;F.p=2;var n=K;K|=4;try{Hm(e,t.alternate,t)}finally{K=n,F.p=s,U.T=a}}Ee=3}}function rp(){if(Ee===4||Ee===3){Ee=0,mg();var e=ca,t=Ms,a=_s,s=Zm;t.subtreeFlags&10256||t.flags&10256?Ee=5:(Ee=0,Ms=ca=null,op(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(oa=null),wc(a),t=t.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(rl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=U.T,n=F.p,F.p=2,U.T=null;try{for(var l=e.onRecoverableError,r=0;r<s.length;r++){var c=s[r];l(c.value,{componentStack:c.stack})}}finally{U.T=t,F.p=n}}_s&3&&lr(),jt(e),n=e.pendingLanes,a&4194090&&n&42?e===$o?En++:(En=0,$o=e):En=0,vl(0)}}function op(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ml(t)))}function lr(e){return lp(),ip(),rp(),cp()}function cp(){if(Ee!==5)return!1;var e=ca,t=Ho;Ho=0;var a=wc(_s),s=U.T,n=F.p;try{F.p=32>a?32:a,U.T=null,a=Io,Io=null;var l=ca,r=_s;if(Ee=0,Ms=ca=null,_s=0,K&6)throw Error(A(331));var c=K;if(K|=4,Qm(l.current),Vm(l,l.current,r,a),K=c,vl(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(rl,l)}catch{}return!0}finally{F.p=n,U.T=s,op(e,t)}}function kd(e,t,a){t=at(a,t),t=Mo(e.stateNode,t,2),e=ra(e,t,2),e!==null&&(cl(e,2),jt(e))}function W(e,t,a){if(e.tag===3)kd(e,e,a);else for(;t!==null;){if(t.tag===3){kd(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(oa===null||!oa.has(s))){e=at(a,e),a=Em(2),s=ra(t,a,2),s!==null&&(Am(a,s,t,e),cl(s,2),jt(s));break}}t=t.return}}function Yr(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Ix;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(eu=!0,n.add(a),e=Vx.bind(null,e,t,a),t.then(e,e))}function Vx(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(G&a)===a&&(oe===4||oe===3&&(G&62914560)===G&&300>yt()-au?!(K&2)&&Ls(e,0):tu|=a,Us===G&&(Us=0)),jt(e)}function up(e,t){t===0&&(t=nf()),e=Gs(e,t),e!==null&&(cl(e,t),jt(e))}function Fx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),up(e,a)}function Xx(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(A(314))}s!==null&&s.delete(t),up(e,a)}function Qx(e,t){return bc(e,t)}var Di=null,ns=null,Po=!1,Ci=!1,Vr=!1,za=0;function jt(e){e!==ns&&e.next===null&&(ns===null?Di=ns=e:ns=ns.next=e),Ci=!0,Po||(Po=!0,Zx())}function vl(e,t){if(!Vr&&Ci){Vr=!0;do for(var a=!1,s=Di;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var l=0;else{var r=s.suspendedLanes,c=s.pingedLanes;l=(1<<31-Fe(42|e)+1)-1,l&=n&~(r&~c),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(a=!0,Rd(s,l))}else l=G,l=Fi(s,s===te?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(l&3)||ol(s,l)||(a=!0,Rd(s,l));s=s.next}while(a);Vr=!1}}function Kx(){dp()}function dp(){Ci=Po=!1;var e=0;za!==0&&(ly()&&(e=za),za=0);for(var t=yt(),a=null,s=Di;s!==null;){var n=s.next,l=hp(s,t);l===0?(s.next=null,a===null?Di=n:a.next=n,n===null&&(ns=a)):(a=s,(e!==0||l&3)&&(Ci=!0)),s=n}vl(e)}function hp(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var r=31-Fe(l),c=1<<r,o=n[r];o===-1?(!(c&a)||c&s)&&(n[r]=wg(c,t)):o<=t&&(e.expiredLanes|=c),l&=~c}if(t=te,a=G,a=Fi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Q===2||Q===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&yr(s),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||ol(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&yr(s),wc(a)){case 2:case 8:a=tf;break;case 32:a=hi;break;case 268435456:a=af;break;default:a=hi}return s=fp.bind(null,e),a=bc(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&yr(s),e.callbackPriority=2,e.callbackNode=null,2}function fp(e,t){if(Ee!==0&&Ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(lr()&&e.callbackNode!==a)return null;var s=G;return s=Fi(e,e===te?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Wm(e,s,t),hp(e,yt()),e.callbackNode!=null&&e.callbackNode===a?fp.bind(null,e):null)}function Rd(e,t){if(lr())return null;Wm(e,t,!0)}function Zx(){ry(function(){K&6?bc(ef,Kx):dp()})}function nu(){return za===0&&(za=sf()),za}function Ud(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zl(""+e)}function Md(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Jx(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var l=Ud((n[Be]||null).action),r=s.submitter;r&&(t=(t=r[Be]||null)?Ud(t.formAction):r.getAttribute("formAction"),t!==null&&(l=t,r=null));var c=new Xi("action","action",null,s,n);e.push({event:c,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(za!==0){var o=r?Md(n,r):new FormData(n);Ro(a,{pending:!0,data:o,method:n.method,action:l},null,o)}}else typeof l=="function"&&(c.preventDefault(),o=r?Md(n,r):new FormData(n),Ro(a,{pending:!0,data:o,method:n.method,action:l},l,o))},currentTarget:n}]})}}for(var Fr=0;Fr<jo.length;Fr++){var Xr=jo[Fr],Wx=Xr.toLowerCase(),ey=Xr[0].toUpperCase()+Xr.slice(1);ht(Wx,"on"+ey)}ht(Of,"onAnimationEnd");ht(Tf,"onAnimationIteration");ht(Df,"onAnimationStart");ht("dblclick","onDoubleClick");ht("focusin","onFocus");ht("focusout","onBlur");ht(xx,"onTransitionRun");ht(yx,"onTransitionStart");ht(vx,"onTransitionCancel");ht(Cf,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$a("onBeforeInput",["compositionend","keypress","textInput","paste"]);$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ty=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hn));function mp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var r=s.length-1;0<=r;r--){var c=s[r],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==l&&n.isPropagationStopped())break e;l=c,n.currentTarget=u;try{l(n)}catch(d){Ni(d)}n.currentTarget=null,l=o}else for(r=0;r<s.length;r++){if(c=s[r],o=c.instance,u=c.currentTarget,c=c.listener,o!==l&&n.isPropagationStopped())break e;l=c,n.currentTarget=u;try{l(n)}catch(d){Ni(d)}n.currentTarget=null,l=o}}}}function H(e,t){var a=t[mo];a===void 0&&(a=t[mo]=new Set);var s=e+"__bubble";a.has(s)||(pp(t,e,2,!1),a.add(s))}function Qr(e,t,a){var s=0;t&&(s|=4),pp(a,e,s,t)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function lu(e){if(!e[Hl]){e[Hl]=!0,cf.forEach(function(a){a!=="selectionchange"&&(ty.has(a)||Qr(a,!1,e),Qr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hl]||(t[Hl]=!0,Qr("selectionchange",!1,t))}}function pp(e,t,a,s){switch(Ap(t)){case 2:var n=Oy;break;case 8:n=Ty;break;default:n=cu}a=n.bind(null,t,a,e),n=void 0,!yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Kr(e,t,a,s,n){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var r=s.tag;if(r===3||r===4){var c=s.stateNode.containerInfo;if(c===n)break;if(r===4)for(r=s.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;c!==null;){if(r=os(c),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){s=l=r;continue e}c=c.parentNode}}s=s.return}xf(function(){var u=l,d=_c(a),f=[];e:{var h=kf.get(e);if(h!==void 0){var p=Xi,_=e;switch(e){case"keypress":if(Wl(a)===0)break e;case"keydown":case"keyup":p=Qg;break;case"focusin":_="focus",p=Er;break;case"focusout":_="blur",p=Er;break;case"beforeblur":case"afterblur":p=Er;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Jg;break;case Of:case Tf:case Df:p=Hg;break;case Cf:p=ex;break;case"scroll":case"scrollend":p=Mg;break;case"wheel":p=ax;break;case"copy":case"cut":case"paste":p=$g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pu;break;case"toggle":case"beforetoggle":p=nx}var m=(t&4)!==0,S=!m&&(e==="scroll"||e==="scrollend"),g=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,v;y!==null;){var j=y;if(v=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||v===null||g===null||(j=Un(y,g),j!=null&&m.push(In(y,j,v))),S)break;y=y.return}0<m.length&&(h=new p(h,_,null,a,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&a!==xo&&(_=a.relatedTarget||a.fromElement)&&(os(_)||_[Is]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(_=a.relatedTarget||a.toElement,p=u,_=_?os(_):null,_!==null&&(S=il(_),m=_.tag,_!==S||m!==5&&m!==27&&m!==6)&&(_=null)):(p=null,_=u),p!==_)){if(m=$u,j="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=Pu,j="onPointerLeave",g="onPointerEnter",y="pointer"),S=p==null?h:un(p),v=_==null?h:un(_),h=new m(j,y+"leave",p,a,d),h.target=S,h.relatedTarget=v,j=null,os(d)===u&&(m=new m(g,y+"enter",_,a,d),m.target=v,m.relatedTarget=S,j=m),S=j,p&&_)t:{for(m=p,g=_,y=0,v=m;v;v=Za(v))y++;for(v=0,j=g;j;j=Za(j))v++;for(;0<y-v;)m=Za(m),y--;for(;0<v-y;)g=Za(g),v--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Za(m),g=Za(g)}m=null}else m=null;p!==null&&Ld(f,h,p,m,!1),_!==null&&S!==null&&Ld(f,S,_,m,!0)}}e:{if(h=u?un(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=Xu;else if(Fu(h))if(Sf)E=mx;else{E=hx;var C=dx}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Nc(u.elementType)&&(E=Xu):E=fx;if(E&&(E=E(e,u))){wf(f,E,a,d);break e}C&&C(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&go(h,"number",h.value)}switch(C=u?un(u):window,e){case"focusin":(Fu(C)||C.contentEditable==="true")&&(ds=C,vo=u,gn=null);break;case"focusout":gn=vo=ds=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,Wu(f,a,d);break;case"selectionchange":if(gx)break;case"keydown":case"keyup":Wu(f,a,d)}var x;if(Oc)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else us?bf(e,a)&&(b="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(b="onCompositionStart");b&&(vf&&a.locale!=="ko"&&(us||b!=="onCompositionStart"?b==="onCompositionEnd"&&us&&(x=yf()):(ta=d,Ec="value"in ta?ta.value:ta.textContent,us=!0)),C=ki(u,b),0<C.length&&(b=new Gu(b,e,null,a,d),f.push({event:b,listeners:C}),x?b.data=x:(x=jf(a),x!==null&&(b.data=x)))),(x=ix?rx(e,a):ox(e,a))&&(b=ki(u,"onBeforeInput"),0<b.length&&(C=new Gu("onBeforeInput","beforeinput",null,a,d),f.push({event:C,listeners:b}),C.data=x)),Jx(f,e,u,a,d)}mp(f,t)})}function In(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ki(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,l=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||l===null||(n=Un(e,a),n!=null&&s.unshift(In(e,n,l)),n=Un(e,t),n!=null&&s.push(In(e,n,l))),e.tag===3)return s;e=e.return}return[]}function Za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ld(e,t,a,s,n){for(var l=t._reactName,r=[];a!==null&&a!==s;){var c=a,o=c.alternate,u=c.stateNode;if(c=c.tag,o!==null&&o===s)break;c!==5&&c!==26&&c!==27||u===null||(o=u,n?(u=Un(a,l),u!=null&&r.unshift(In(a,u,o))):n||(u=Un(a,l),u!=null&&r.push(In(a,u,o)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var ay=/\r\n?/g,sy=/\u0000|\uFFFD/g;function zd(e){return(typeof e=="string"?e:""+e).replace(ay,`
`).replace(sy,"")}function gp(e,t){return t=zd(t),zd(e)===t}function ir(){}function Z(e,t,a,s,n,l){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ts(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ts(e,""+s);break;case"className":Rl(e,"class",s);break;case"tabIndex":Rl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(e,a,s);break;case"style":gf(e,s,l);break;case"data":if(t!=="object"){Rl(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Zl(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(a==="formAction"?(t!=="input"&&Z(e,t,"name",n.name,n,null),Z(e,t,"formEncType",n.formEncType,n,null),Z(e,t,"formMethod",n.formMethod,n,null),Z(e,t,"formTarget",n.formTarget,n,null)):(Z(e,t,"encType",n.encType,n,null),Z(e,t,"method",n.method,n,null),Z(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Zl(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=ir);break;case"onScroll":s!=null&&H("scroll",e);break;case"onScrollEnd":s!=null&&H("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(A(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(A(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Zl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":H("beforetoggle",e),H("toggle",e),Kl(e,"popover",s);break;case"xlinkActuate":wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":wt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":wt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":wt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":wt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Kl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rg.get(a)||a,Kl(e,a,s))}}function Yo(e,t,a,s,n,l){switch(a){case"style":gf(e,s,l);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(A(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(A(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ts(e,s):(typeof s=="number"||typeof s=="bigint")&&Ts(e,""+s);break;case"onScroll":s!=null&&H("scroll",e);break;case"onScrollEnd":s!=null&&H("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ir);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),l=e[Be]||null,l=l!=null?l[a]:null,typeof l=="function"&&e.removeEventListener(t,l,n),typeof s=="function")){typeof l!="function"&&l!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Kl(e,a,s)}}}function Ae(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":H("error",e),H("load",e);var s=!1,n=!1,l;for(l in a)if(a.hasOwnProperty(l)){var r=a[l];if(r!=null)switch(l){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:Z(e,t,l,r,a,null)}}n&&Z(e,t,"srcSet",a.srcSet,a,null),s&&Z(e,t,"src",a.src,a,null);return;case"input":H("invalid",e);var c=l=r=n=null,o=null,u=null;for(s in a)if(a.hasOwnProperty(s)){var d=a[s];if(d!=null)switch(s){case"name":n=d;break;case"type":r=d;break;case"checked":o=d;break;case"defaultChecked":u=d;break;case"value":l=d;break;case"defaultValue":c=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,t));break;default:Z(e,t,s,d,a,null)}}ff(e,l,c,o,u,r,n,!1),fi(e);return;case"select":H("invalid",e),s=r=l=null;for(n in a)if(a.hasOwnProperty(n)&&(c=a[n],c!=null))switch(n){case"value":l=c;break;case"defaultValue":r=c;break;case"multiple":s=c;default:Z(e,t,n,c,a,null)}t=l,a=r,e.multiple=!!s,t!=null?vs(e,!!s,t,!1):a!=null&&vs(e,!!s,a,!0);return;case"textarea":H("invalid",e),l=n=s=null;for(r in a)if(a.hasOwnProperty(r)&&(c=a[r],c!=null))switch(r){case"value":s=c;break;case"defaultValue":n=c;break;case"children":l=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(A(91));break;default:Z(e,t,r,c,a,null)}pf(e,s,n,l),fi(e);return;case"option":for(o in a)if(a.hasOwnProperty(o)&&(s=a[o],s!=null))switch(o){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Z(e,t,o,s,a,null)}return;case"dialog":H("beforetoggle",e),H("toggle",e),H("cancel",e),H("close",e);break;case"iframe":case"object":H("load",e);break;case"video":case"audio":for(s=0;s<Hn.length;s++)H(Hn[s],e);break;case"image":H("error",e),H("load",e);break;case"details":H("toggle",e);break;case"embed":case"source":case"link":H("error",e),H("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(s=a[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:Z(e,t,u,s,a,null)}return;default:if(Nc(t)){for(d in a)a.hasOwnProperty(d)&&(s=a[d],s!==void 0&&Yo(e,t,d,s,a,void 0));return}}for(c in a)a.hasOwnProperty(c)&&(s=a[c],s!=null&&Z(e,t,c,s,a,null))}function ny(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,l=null,r=null,c=null,o=null,u=null,d=null;for(p in a){var f=a[p];if(a.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":o=f;default:s.hasOwnProperty(p)||Z(e,t,p,null,s,f)}}for(var h in s){var p=s[h];if(f=a[h],s.hasOwnProperty(h)&&(p!=null||f!=null))switch(h){case"type":l=p;break;case"name":n=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":r=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(A(137,t));break;default:p!==f&&Z(e,t,h,p,s,f)}}po(e,r,c,o,u,d,l,n);return;case"select":p=r=c=h=null;for(l in a)if(o=a[l],a.hasOwnProperty(l)&&o!=null)switch(l){case"value":break;case"multiple":p=o;default:s.hasOwnProperty(l)||Z(e,t,l,null,s,o)}for(n in s)if(l=s[n],o=a[n],s.hasOwnProperty(n)&&(l!=null||o!=null))switch(n){case"value":h=l;break;case"defaultValue":c=l;break;case"multiple":r=l;default:l!==o&&Z(e,t,n,l,s,o)}t=c,a=r,s=p,h!=null?vs(e,!!a,h,!1):!!s!=!!a&&(t!=null?vs(e,!!a,t,!0):vs(e,!!a,a?[]:"",!1));return;case"textarea":p=h=null;for(c in a)if(n=a[c],a.hasOwnProperty(c)&&n!=null&&!s.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:Z(e,t,c,null,s,n)}for(r in s)if(n=s[r],l=a[r],s.hasOwnProperty(r)&&(n!=null||l!=null))switch(r){case"value":h=n;break;case"defaultValue":p=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(A(91));break;default:n!==l&&Z(e,t,r,n,s,l)}mf(e,h,p);return;case"option":for(var _ in a)if(h=a[_],a.hasOwnProperty(_)&&h!=null&&!s.hasOwnProperty(_))switch(_){case"selected":e.selected=!1;break;default:Z(e,t,_,null,s,h)}for(o in s)if(h=s[o],p=a[o],s.hasOwnProperty(o)&&h!==p&&(h!=null||p!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Z(e,t,o,h,s,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in a)h=a[m],a.hasOwnProperty(m)&&h!=null&&!s.hasOwnProperty(m)&&Z(e,t,m,null,s,h);for(u in s)if(h=s[u],p=a[u],s.hasOwnProperty(u)&&h!==p&&(h!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(A(137,t));break;default:Z(e,t,u,h,s,p)}return;default:if(Nc(t)){for(var S in a)h=a[S],a.hasOwnProperty(S)&&h!==void 0&&!s.hasOwnProperty(S)&&Yo(e,t,S,void 0,s,h);for(d in s)h=s[d],p=a[d],!s.hasOwnProperty(d)||h===p||h===void 0&&p===void 0||Yo(e,t,d,h,s,p);return}}for(var g in a)h=a[g],a.hasOwnProperty(g)&&h!=null&&!s.hasOwnProperty(g)&&Z(e,t,g,null,s,h);for(f in s)h=s[f],p=a[f],!s.hasOwnProperty(f)||h===p||h==null&&p==null||Z(e,t,f,h,s,p)}var Vo=null,Fo=null;function Ri(e){return e.nodeType===9?e:e.ownerDocument}function qd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zr=null;function ly(){var e=window.event;return e&&e.type==="popstate"?e===Zr?!1:(Zr=e,!0):(Zr=null,!1)}var yp=typeof setTimeout=="function"?setTimeout:void 0,iy=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,ry=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(e){return Bd.resolve(null).then(e).catch(oy)}:yp;function oy(e){setTimeout(function(){throw e})}function va(e){return e==="head"}function Hd(e,t){var a=t,s=0,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(0<s&&8>s){a=s;var r=e.ownerDocument;if(a&1&&An(r.documentElement),a&2&&An(r.body),a&4)for(a=r.head,An(a),r=a.firstChild;r;){var c=r.nextSibling,o=r.nodeName;r[ul]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=c}}if(n===0){e.removeChild(l),Vn(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:s=a.charCodeAt(0)-48;else s=0;a=l}while(a);Vn(t)}function Qo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qo(a),Sc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function cy(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ul])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=dt(e.nextSibling),e===null)break}return null}function uy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=dt(e.nextSibling),e===null))return null;return e}function Ko(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function dy(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function dt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Zo=null;function Id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function vp(e,t,a){switch(t=Ri(a),e){case"html":if(e=t.documentElement,!e)throw Error(A(452));return e;case"head":if(e=t.head,!e)throw Error(A(453));return e;case"body":if(e=t.body,!e)throw Error(A(454));return e;default:throw Error(A(451))}}function An(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Sc(e)}var it=new Map,$d=new Set;function Ui(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ht=F.d;F.d={f:hy,r:fy,D:my,C:py,L:gy,m:xy,X:vy,S:yy,M:by};function hy(){var e=Ht.f(),t=sr();return e||t}function fy(e){var t=$s(e);t!==null&&t.tag===5&&t.type==="form"?hm(t):Ht.r(e)}var Ys=typeof document>"u"?null:document;function bp(e,t,a){var s=Ys;if(s&&typeof t=="string"&&t){var n=tt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),$d.has(n)||($d.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),Ae(t,"link",e),je(t),s.head.appendChild(t)))}}function my(e){Ht.D(e),bp("dns-prefetch",e,null)}function py(e,t){Ht.C(e,t),bp("preconnect",e,t)}function gy(e,t,a){Ht.L(e,t,a);var s=Ys;if(s&&e&&t){var n='link[rel="preload"][as="'+tt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+tt(a.imageSizes)+'"]')):n+='[href="'+tt(e)+'"]';var l=n;switch(t){case"style":l=zs(e);break;case"script":l=Vs(e)}it.has(l)||(e=ae({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),it.set(l,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(bl(l))||t==="script"&&s.querySelector(jl(l))||(t=s.createElement("link"),Ae(t,"link",e),je(t),s.head.appendChild(t)))}}function xy(e,t){Ht.m(e,t);var a=Ys;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+tt(s)+'"][href="'+tt(e)+'"]',l=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Vs(e)}if(!it.has(l)&&(e=ae({rel:"modulepreload",href:e},t),it.set(l,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(l)))return}s=a.createElement("link"),Ae(s,"link",e),je(s),a.head.appendChild(s)}}}function yy(e,t,a){Ht.S(e,t,a);var s=Ys;if(s&&e){var n=ys(s).hoistableStyles,l=zs(e);t=t||"default";var r=n.get(l);if(!r){var c={loading:0,preload:null};if(r=s.querySelector(bl(l)))c.loading=5;else{e=ae({rel:"stylesheet",href:e,"data-precedence":t},a),(a=it.get(l))&&iu(e,a);var o=r=s.createElement("link");je(o),Ae(o,"link",e),o._p=new Promise(function(u,d){o.onload=u,o.onerror=d}),o.addEventListener("load",function(){c.loading|=1}),o.addEventListener("error",function(){c.loading|=2}),c.loading|=4,ii(r,t,s)}r={type:"stylesheet",instance:r,count:1,state:c},n.set(l,r)}}}function vy(e,t){Ht.X(e,t);var a=Ys;if(a&&e){var s=ys(a).hoistableScripts,n=Vs(e),l=s.get(n);l||(l=a.querySelector(jl(n)),l||(e=ae({src:e,async:!0},t),(t=it.get(n))&&ru(e,t),l=a.createElement("script"),je(l),Ae(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},s.set(n,l))}}function by(e,t){Ht.M(e,t);var a=Ys;if(a&&e){var s=ys(a).hoistableScripts,n=Vs(e),l=s.get(n);l||(l=a.querySelector(jl(n)),l||(e=ae({src:e,async:!0,type:"module"},t),(t=it.get(n))&&ru(e,t),l=a.createElement("script"),je(l),Ae(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},s.set(n,l))}}function Gd(e,t,a,s){var n=(n=la.current)?Ui(n):null;if(!n)throw Error(A(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=zs(a.href),a=ys(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=zs(a.href);var l=ys(n).hoistableStyles,r=l.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,r),(l=n.querySelector(bl(e)))&&!l._p&&(r.instance=l,r.state.loading=5),it.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},it.set(e,a),l||jy(n,e,a,r.state))),t&&s===null)throw Error(A(528,""));return r}if(t&&s!==null)throw Error(A(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Vs(a),a=ys(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,e))}}function zs(e){return'href="'+tt(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function jp(e){return ae({},e,{"data-precedence":e.precedence,precedence:null})}function jy(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ae(t,"link",a),je(t),e.head.appendChild(t))}function Vs(e){return'[src="'+tt(e)+'"]'}function jl(e){return"script[async]"+e}function Pd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+tt(a.href)+'"]');if(s)return t.instance=s,je(s),s;var n=ae({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),je(s),Ae(s,"style",n),ii(s,a.precedence,e),t.instance=s;case"stylesheet":n=zs(a.href);var l=e.querySelector(bl(n));if(l)return t.state.loading|=4,t.instance=l,je(l),l;s=jp(a),(n=it.get(n))&&iu(s,n),l=(e.ownerDocument||e).createElement("link"),je(l);var r=l;return r._p=new Promise(function(c,o){r.onload=c,r.onerror=o}),Ae(l,"link",s),t.state.loading|=4,ii(l,a.precedence,e),t.instance=l;case"script":return l=Vs(a.src),(n=e.querySelector(jl(l)))?(t.instance=n,je(n),n):(s=a,(n=it.get(l))&&(s=ae({},a),ru(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),je(n),Ae(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(A(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,ii(s,a.precedence,e));return t.instance}function ii(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,l=n,r=0;r<s.length;r++){var c=s[r];if(c.dataset.precedence===t)l=c;else if(l!==n)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ri=null;function Yd(e,t,a){if(ri===null){var s=new Map,n=ri=new Map;n.set(a,s)}else n=ri,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var l=a[n];if(!(l[ul]||l[Oe]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var r=l.getAttribute(t)||"";r=e+r;var c=s.get(r);c?c.push(l):s.set(r,[l])}}return s}function Vd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function wy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function wp(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var $n=null;function Sy(){}function Ny(e,t,a){if($n===null)throw Error(A(475));var s=$n;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var n=zs(a.href),l=e.querySelector(bl(n));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Mi.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=l,je(l);return}l=e.ownerDocument||e,a=jp(a),(n=it.get(n))&&iu(a,n),l=l.createElement("link"),je(l);var r=l;r._p=new Promise(function(c,o){r.onload=c,r.onerror=o}),Ae(l,"link",a),t.instance=l}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=Mi.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function _y(){if($n===null)throw Error(A(475));var e=$n;return e.stylesheets&&e.count===0&&Jo(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Jo(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Mi(){if(this.count--,this.count===0){if(this.stylesheets)Jo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Li=null;function Jo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Li=new Map,t.forEach(Ey,e),Li=null,Mi.call(e))}function Ey(e,t){if(!(t.state.loading&4)){var a=Li.get(e);if(a)var s=a.get(null);else{a=new Map,Li.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<n.length;l++){var r=n[l];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),s=r)}s&&a.set(null,s)}n=t.instance,r=n.getAttribute("data-precedence"),l=a.get(r)||s,l===s&&a.set(null,n),a.set(r,n),this.count++,s=Mi.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),l?l.parentNode.insertBefore(n,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Gn={$$typeof:At,Provider:null,Consumer:null,_currentValue:Ca,_currentValue2:Ca,_threadCount:0};function Ay(e,t,a,s,n,l,r,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=l,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function Sp(e,t,a,s,n,l,r,c,o,u,d,f){return e=new Ay(e,t,a,r,c,o,u,f),t=1,l===!0&&(t|=24),l=Ye(3,null,null,t),e.current=l,l.stateNode=e,t=Mc(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:s,isDehydrated:a,cache:t},zc(l),e}function Np(e){return e?(e=ms,e):ms}function _p(e,t,a,s,n,l){n=Np(n),s.context===null?s.context=n:s.pendingContext=n,s=ia(t),s.payload={element:a},l=l===void 0?null:l,l!==null&&(s.callback=l),a=ra(e,s,t),a!==null&&(Qe(a,e,t),vn(a,e,t))}function Fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ou(e,t){Fd(e,t),(e=e.alternate)&&Fd(e,t)}function Ep(e){if(e.tag===13){var t=Gs(e,67108864);t!==null&&Qe(t,e,67108864),ou(e,67108864)}}var zi=!0;function Oy(e,t,a,s){var n=U.T;U.T=null;var l=F.p;try{F.p=2,cu(e,t,a,s)}finally{F.p=l,U.T=n}}function Ty(e,t,a,s){var n=U.T;U.T=null;var l=F.p;try{F.p=8,cu(e,t,a,s)}finally{F.p=l,U.T=n}}function cu(e,t,a,s){if(zi){var n=Wo(s);if(n===null)Kr(e,t,s,qi,a),Xd(e,s);else if(Cy(n,e,t,a,s))s.stopPropagation();else if(Xd(e,s),t&4&&-1<Dy.indexOf(e)){for(;n!==null;){var l=$s(n);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var r=Na(l.pendingLanes);if(r!==0){var c=l;for(c.pendingLanes|=2,c.entangledLanes|=2;r;){var o=1<<31-Fe(r);c.entanglements[1]|=o,r&=~o}jt(l),!(K&6)&&(Oi=yt()+500,vl(0))}}break;case 13:c=Gs(l,2),c!==null&&Qe(c,l,2),sr(),ou(l,2)}if(l=Wo(s),l===null&&Kr(e,t,s,qi,a),l===n)break;n=l}n!==null&&s.stopPropagation()}else Kr(e,t,s,null,a)}}function Wo(e){return e=_c(e),uu(e)}var qi=null;function uu(e){if(qi=null,e=os(e),e!==null){var t=il(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Kh(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return qi=e,null}function Ap(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pg()){case ef:return 2;case tf:return 8;case hi:case gg:return 32;case af:return 268435456;default:return 32}default:return 32}}var ec=!1,ua=null,da=null,ha=null,Pn=new Map,Yn=new Map,Jt=[],Dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xd(e,t){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Pn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(t.pointerId)}}function ln(e,t,a,s,n,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:l,targetContainers:[n]},t!==null&&(t=$s(t),t!==null&&Ep(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Cy(e,t,a,s,n){switch(t){case"focusin":return ua=ln(ua,e,t,a,s,n),!0;case"dragenter":return da=ln(da,e,t,a,s,n),!0;case"mouseover":return ha=ln(ha,e,t,a,s,n),!0;case"pointerover":var l=n.pointerId;return Pn.set(l,ln(Pn.get(l)||null,e,t,a,s,n)),!0;case"gotpointercapture":return l=n.pointerId,Yn.set(l,ln(Yn.get(l)||null,e,t,a,s,n)),!0}return!1}function Op(e){var t=os(e.target);if(t!==null){var a=il(t);if(a!==null){if(t=a.tag,t===13){if(t=Kh(a),t!==null){e.blockedOn=t,Ng(e.priority,function(){if(a.tag===13){var s=Xe();s=jc(s);var n=Gs(a,s);n!==null&&Qe(n,a,s),ou(a,s)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Wo(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);xo=s,a.target.dispatchEvent(s),xo=null}else return t=$s(a),t!==null&&Ep(t),e.blockedOn=a,!1;t.shift()}return!0}function Qd(e,t,a){oi(e)&&a.delete(t)}function ky(){ec=!1,ua!==null&&oi(ua)&&(ua=null),da!==null&&oi(da)&&(da=null),ha!==null&&oi(ha)&&(ha=null),Pn.forEach(Qd),Yn.forEach(Qd)}function Il(e,t){e.blockedOn===t&&(e.blockedOn=null,ec||(ec=!0,xe.unstable_scheduleCallback(xe.unstable_NormalPriority,ky)))}var $l=null;function Kd(e){$l!==e&&($l=e,xe.unstable_scheduleCallback(xe.unstable_NormalPriority,function(){$l===e&&($l=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(uu(s||a)===null)continue;break}var l=$s(a);l!==null&&(e.splice(t,3),t-=3,Ro(l,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function Vn(e){function t(o){return Il(o,e)}ua!==null&&Il(ua,e),da!==null&&Il(da,e),ha!==null&&Il(ha,e),Pn.forEach(t),Yn.forEach(t);for(var a=0;a<Jt.length;a++){var s=Jt[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Jt.length&&(a=Jt[0],a.blockedOn===null);)Op(a),a.blockedOn===null&&Jt.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],l=a[s+1],r=n[Be]||null;if(typeof l=="function")r||Kd(a);else if(r){var c=null;if(l&&l.hasAttribute("formAction")){if(n=l,r=l[Be]||null)c=r.formAction;else if(uu(n)!==null)continue}else c=r.action;typeof c=="function"?a[s+1]=c:(a.splice(s,3),s-=3),Kd(a)}}}function du(e){this._internalRoot=e}rr.prototype.render=du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));var a=t.current,s=Xe();_p(a,s,e,t,null,null)};rr.prototype.unmount=du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_p(e.current,2,null,e,null,null),sr(),t[Is]=null}};function rr(e){this._internalRoot=e}rr.prototype.unstable_scheduleHydration=function(e){if(e){var t=of();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Jt.length&&t!==0&&t<Jt[a].priority;a++);Jt.splice(a,0,e),a===0&&Op(e)}};var Zd=Xh.version;if(Zd!=="19.1.0")throw Error(A(527,Zd,"19.1.0"));F.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=og(t),e=e!==null?Zh(e):null,e=e===null?null:e.stateNode,e};var Ry={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{rl=Gl.inject(Ry),Ve=Gl}catch{}}Yi.createRoot=function(e,t){if(!Qh(e))throw Error(A(299));var a=!1,s="",n=Sm,l=Nm,r=_m,c=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(c=t.unstable_transitionCallbacks)),t=Sp(e,1,!1,null,null,a,s,n,l,r,c,null),e[Is]=t.current,lu(e),new du(t)};Yi.hydrateRoot=function(e,t,a){if(!Qh(e))throw Error(A(299));var s=!1,n="",l=Sm,r=Nm,c=_m,o=null,u=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(l=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(c=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(o=a.unstable_transitionCallbacks),a.formState!==void 0&&(u=a.formState)),t=Sp(e,1,!0,t,a??null,s,n,l,r,c,o,u),t.context=Np(null),a=t.current,s=Xe(),s=jc(s),n=ia(s),n.callback=null,ra(a,n,s),a=s,t.current.lanes=a,cl(t,a),jt(t),e[Is]=t.current,lu(e),new rr(t)};Yi.version="19.1.0";function Tp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tp)}catch(e){console.error(e)}}Tp(),$h.exports=Yi;var Uy=$h.exports;const Dp=kh(Uy);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Fn.apply(this,arguments)}var na;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(na||(na={}));const Jd="popstate";function My(e){e===void 0&&(e={});function t(n,l){let{pathname:r="/",search:c="",hash:o=""}=Va(n.location.hash.substr(1));return!r.startsWith("/")&&!r.startsWith(".")&&(r="/"+r),tc("",{pathname:r,search:c,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(n,l){let r=n.document.querySelector("base"),c="";if(r&&r.getAttribute("href")){let o=n.location.href,u=o.indexOf("#");c=u===-1?o:o.slice(0,u)}return c+"#"+(typeof l=="string"?l:Bi(l))}function s(n,l){hu(n.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return zy(t,a,s,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ly(){return Math.random().toString(36).substr(2,8)}function Wd(e,t){return{usr:e.state,key:e.key,idx:t}}function tc(e,t,a,s){return a===void 0&&(a=null),Fn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Va(t):t,{state:a,key:t&&t.key||s||Ly()})}function Bi(e){let{pathname:t="/",search:a="",hash:s=""}=e;return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Va(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function zy(e,t,a,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:l=!1}=s,r=n.history,c=na.Pop,o=null,u=d();u==null&&(u=0,r.replaceState(Fn({},r.state,{idx:u}),""));function d(){return(r.state||{idx:null}).idx}function f(){c=na.Pop;let S=d(),g=S==null?null:S-u;u=S,o&&o({action:c,location:m.location,delta:g})}function h(S,g){c=na.Push;let y=tc(m.location,S,g);a&&a(y,S),u=d()+1;let v=Wd(y,u),j=m.createHref(y);try{r.pushState(v,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;n.location.assign(j)}l&&o&&o({action:c,location:m.location,delta:1})}function p(S,g){c=na.Replace;let y=tc(m.location,S,g);a&&a(y,S),u=d();let v=Wd(y,u),j=m.createHref(y);r.replaceState(v,"",j),l&&o&&o({action:c,location:m.location,delta:0})}function _(S){let g=n.location.origin!=="null"?n.location.origin:n.location.href,y=typeof S=="string"?S:Bi(S);return y=y.replace(/ $/,"%20"),me(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return c},get location(){return e(n,r)},listen(S){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(Jd,f),o=S,()=>{n.removeEventListener(Jd,f),o=null}},createHref(S){return t(n,S)},createURL:_,encodeLocation(S){let g=_(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(S){return r.go(S)}};return m}var eh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(eh||(eh={}));function qy(e,t,a){return a===void 0&&(a="/"),By(e,t,a)}function By(e,t,a,s){let n=typeof t=="string"?Va(t):t,l=fu(n.pathname||"/",a);if(l==null)return null;let r=Cp(e);Hy(r);let c=null;for(let o=0;c==null&&o<r.length;++o){let u=Jy(l);c=Qy(r[o],u)}return c}function Cp(e,t,a,s){t===void 0&&(t=[]),a===void 0&&(a=[]),s===void 0&&(s="");let n=(l,r,c)=>{let o={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:r,route:l};o.relativePath.startsWith("/")&&(me(o.relativePath.startsWith(s),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(s.length));let u=fa([s,o.relativePath]),d=a.concat(o);l.children&&l.children.length>0&&(me(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cp(l.children,t,d,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Fy(u,l.index),routesMeta:d})};return e.forEach((l,r)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))n(l,r);else for(let o of kp(l.path))n(l,r,o)}),t}function kp(e){let t=e.split("/");if(t.length===0)return[];let[a,...s]=t,n=a.endsWith("?"),l=a.replace(/\?$/,"");if(s.length===0)return n?[l,""]:[l];let r=kp(s.join("/")),c=[];return c.push(...r.map(o=>o===""?l:[l,o].join("/"))),n&&c.push(...r),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function Hy(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:Xy(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const Iy=/^:[\w-]+$/,$y=3,Gy=2,Py=1,Yy=10,Vy=-2,th=e=>e==="*";function Fy(e,t){let a=e.split("/"),s=a.length;return a.some(th)&&(s+=Vy),t&&(s+=Gy),a.filter(n=>!th(n)).reduce((n,l)=>n+(Iy.test(l)?$y:l===""?Py:Yy),s)}function Xy(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function Qy(e,t,a){let{routesMeta:s}=e,n={},l="/",r=[];for(let c=0;c<s.length;++c){let o=s[c],u=c===s.length-1,d=l==="/"?t:t.slice(l.length)||"/",f=Ky({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},d),h=o.route;if(!f)return null;Object.assign(n,f.params),r.push({params:n,pathname:fa([l,f.pathname]),pathnameBase:av(fa([l,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(l=fa([l,f.pathnameBase]))}return r}function Ky(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,s]=Zy(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let l=n[0],r=l.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=c[f]||"";r=l.slice(0,l.length-m.length).replace(/(.)\/+$/,"$1")}const _=c[f];return p&&!_?u[h]=void 0:u[h]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:r,pattern:e}}function Zy(e,t,a){t===void 0&&(t=!1),a===void 0&&(a=!0),hu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,c,o)=>(s.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function Jy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=e.charAt(a);return s&&s!=="/"?null:e.slice(a)||"/"}function Wy(e,t){t===void 0&&(t="/");let{pathname:a,search:s="",hash:n=""}=typeof e=="string"?Va(e):e;return{pathname:a?a.startsWith("/")?a:ev(a,t):t,search:sv(s),hash:nv(n)}}function ev(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Jr(e,t,a,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tv(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Rp(e,t){let a=tv(e);return t?a.map((s,n)=>n===a.length-1?s.pathname:s.pathnameBase):a.map(s=>s.pathnameBase)}function Up(e,t,a,s){s===void 0&&(s=!1);let n;typeof e=="string"?n=Va(e):(n=Fn({},e),me(!n.pathname||!n.pathname.includes("?"),Jr("?","pathname","search",n)),me(!n.pathname||!n.pathname.includes("#"),Jr("#","pathname","hash",n)),me(!n.search||!n.search.includes("#"),Jr("#","search","hash",n)));let l=e===""||n.pathname==="",r=l?"/":n.pathname,c;if(r==null)c=a;else{let f=t.length-1;if(!s&&r.startsWith("..")){let h=r.split("/");for(;h[0]==="..";)h.shift(),f-=1;n.pathname=h.join("/")}c=f>=0?t[f]:"/"}let o=Wy(n,c),u=r&&r!=="/"&&r.endsWith("/"),d=(l||r===".")&&a.endsWith("/");return!o.pathname.endsWith("/")&&(u||d)&&(o.pathname+="/"),o}const fa=e=>e.join("/").replace(/\/\/+/g,"/"),av=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Mp=["post","put","patch","delete"];new Set(Mp);const iv=["get",...Mp];new Set(iv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Xn.apply(this,arguments)}const mu=N.createContext(null),rv=N.createContext(null),Fa=N.createContext(null),or=N.createContext(null),Xa=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Lp=N.createContext(null);function ov(e,t){let{relative:a}=t===void 0?{}:t;wl()||me(!1);let{basename:s,navigator:n}=N.useContext(Fa),{hash:l,pathname:r,search:c}=qp(e,{relative:a}),o=r;return s!=="/"&&(o=r==="/"?s:fa([s,r])),n.createHref({pathname:o,search:c,hash:l})}function wl(){return N.useContext(or)!=null}function Fs(){return wl()||me(!1),N.useContext(or).location}function zp(e){N.useContext(Fa).static||N.useLayoutEffect(e)}function pu(){let{isDataRoute:e}=N.useContext(Xa);return e?jv():cv()}function cv(){wl()||me(!1);let e=N.useContext(mu),{basename:t,future:a,navigator:s}=N.useContext(Fa),{matches:n}=N.useContext(Xa),{pathname:l}=Fs(),r=JSON.stringify(Rp(n,a.v7_relativeSplatPath)),c=N.useRef(!1);return zp(()=>{c.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!c.current)return;if(typeof u=="number"){s.go(u);return}let f=Up(u,JSON.parse(r),l,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:fa([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,r,l,e])}function qp(e,t){let{relative:a}=t===void 0?{}:t,{future:s}=N.useContext(Fa),{matches:n}=N.useContext(Xa),{pathname:l}=Fs(),r=JSON.stringify(Rp(n,s.v7_relativeSplatPath));return N.useMemo(()=>Up(e,JSON.parse(r),l,a==="path"),[e,r,l,a])}function uv(e,t){return dv(e,t)}function dv(e,t,a,s){wl()||me(!1);let{navigator:n}=N.useContext(Fa),{matches:l}=N.useContext(Xa),r=l[l.length-1],c=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let u=Fs(),d;if(t){var f;let S=typeof t=="string"?Va(t):t;o==="/"||(f=S.pathname)!=null&&f.startsWith(o)||me(!1),d=S}else d=u;let h=d.pathname||"/",p=h;if(o!=="/"){let S=o.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=qy(e,{pathname:p}),m=gv(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:fa([o,n.encodeLocation?n.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?o:fa([o,n.encodeLocation?n.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,a,s);return t&&m?N.createElement(or.Provider,{value:{location:Xn({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:na.Pop}},m):m}function hv(){let e=bv(),t=lv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),a?N.createElement("pre",{style:n},a):null,null)}const fv=N.createElement(hv,null);class mv extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?N.createElement(Xa.Provider,{value:this.props.routeContext},N.createElement(Lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pv(e){let{routeContext:t,match:a,children:s}=e,n=N.useContext(mu);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),N.createElement(Xa.Provider,{value:t},s)}function gv(e,t,a,s){var n;if(t===void 0&&(t=[]),a===void 0&&(a=null),s===void 0&&(s=null),e==null){var l;if(!a)return null;if(a.errors)e=a.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let r=e,c=(n=a)==null?void 0:n.errors;if(c!=null){let d=r.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);d>=0||me(!1),r=r.slice(0,Math.min(r.length,d+1))}let o=!1,u=-1;if(a&&s&&s.v7_partialHydration)for(let d=0;d<r.length;d++){let f=r[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=a,_=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||_){o=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((d,f,h)=>{let p,_=!1,m=null,S=null;a&&(p=c&&f.route.id?c[f.route.id]:void 0,m=f.route.errorElement||fv,o&&(u<0&&h===0?(wv("route-fallback"),_=!0,S=null):u===h&&(_=!0,S=f.route.hydrateFallbackElement||null)));let g=t.concat(r.slice(0,h+1)),y=()=>{let v;return p?v=m:_?v=S:f.route.Component?v=N.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,N.createElement(pv,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:a!=null},children:v})};return a&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(mv,{location:a.location,revalidation:a.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var Bp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bp||{}),Hp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hp||{});function xv(e){let t=N.useContext(mu);return t||me(!1),t}function yv(e){let t=N.useContext(rv);return t||me(!1),t}function vv(e){let t=N.useContext(Xa);return t||me(!1),t}function Ip(e){let t=vv(),a=t.matches[t.matches.length-1];return a.route.id||me(!1),a.route.id}function bv(){var e;let t=N.useContext(Lp),a=yv(),s=Ip();return t!==void 0?t:(e=a.errors)==null?void 0:e[s]}function jv(){let{router:e}=xv(Bp.UseNavigateStable),t=Ip(Hp.UseNavigateStable),a=N.useRef(!1);return zp(()=>{a.current=!0}),N.useCallback(function(n,l){l===void 0&&(l={}),a.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Xn({fromRouteId:t},l)))},[e,t])}const ah={};function wv(e,t,a){ah[e]||(ah[e]=!0)}function Sv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ut(e){me(!1)}function Nv(e){let{basename:t="/",children:a=null,location:s,navigationType:n=na.Pop,navigator:l,static:r=!1,future:c}=e;wl()&&me(!1);let o=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:o,navigator:l,static:r,future:Xn({v7_relativeSplatPath:!1},c)}),[o,c,l,r]);typeof s=="string"&&(s=Va(s));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:_="default"}=s,m=N.useMemo(()=>{let S=fu(d,o);return S==null?null:{location:{pathname:S,search:f,hash:h,state:p,key:_},navigationType:n}},[o,d,f,h,p,_,n]);return m==null?null:N.createElement(Fa.Provider,{value:u},N.createElement(or.Provider,{children:a,value:m}))}function $p(e){let{children:t,location:a}=e;return uv(ac(t),a)}new Promise(()=>{});function ac(e,t){t===void 0&&(t=[]);let a=[];return N.Children.forEach(e,(s,n)=>{if(!N.isValidElement(s))return;let l=[...t,n];if(s.type===N.Fragment){a.push.apply(a,ac(s.props.children,l));return}s.type!==ut&&me(!1),!s.props.index||!s.props.children||me(!1);let r={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(r.children=ac(s.props.children,l)),a.push(r)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},sc.apply(this,arguments)}function _v(e,t){if(e==null)return{};var a={},s=Object.keys(e),n,l;for(l=0;l<s.length;l++)n=s[l],!(t.indexOf(n)>=0)&&(a[n]=e[n]);return a}function Ev(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Av(e,t){return e.button===0&&(!t||t==="_self")&&!Ev(e)}const Ov=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tv="6";try{window.__reactRouterVersion=Tv}catch{}const Dv="startTransition",sh=tg[Dv];function Gp(e){let{basename:t,children:a,future:s,window:n}=e,l=N.useRef();l.current==null&&(l.current=My({window:n,v5Compat:!0}));let r=l.current,[c,o]=N.useState({action:r.action,location:r.location}),{v7_startTransition:u}=s||{},d=N.useCallback(f=>{u&&sh?sh(()=>o(f)):o(f)},[o,u]);return N.useLayoutEffect(()=>r.listen(d),[r,d]),N.useEffect(()=>Sv(s),[s]),N.createElement(Nv,{basename:t,children:a,location:c.location,navigationType:c.action,navigator:r,future:s})}const Cv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pp=N.forwardRef(function(t,a){let{onClick:s,relative:n,reloadDocument:l,replace:r,state:c,target:o,to:u,preventScrollReset:d,viewTransition:f}=t,h=_v(t,Ov),{basename:p}=N.useContext(Fa),_,m=!1;if(typeof u=="string"&&kv.test(u)&&(_=u,Cv))try{let v=new URL(window.location.href),j=u.startsWith("//")?new URL(v.protocol+u):new URL(u),E=fu(j.pathname,p);j.origin===v.origin&&E!=null?u=E+j.search+j.hash:m=!0}catch{}let S=ov(u,{relative:n}),g=Rv(u,{replace:r,state:c,target:o,preventScrollReset:d,relative:n,viewTransition:f});function y(v){s&&s(v),v.defaultPrevented||g(v)}return N.createElement("a",sc({},h,{href:_||S,onClick:m||l?s:y,ref:a,target:o}))});var nh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nh||(nh={}));var lh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lh||(lh={}));function Rv(e,t){let{target:a,replace:s,state:n,preventScrollReset:l,relative:r,viewTransition:c}=t===void 0?{}:t,o=pu(),u=Fs(),d=qp(e,{relative:r});return N.useCallback(f=>{if(Av(f,a)){f.preventDefault();let h=s!==void 0?s:Bi(u)===Bi(d);o(e,{replace:h,state:n,preventScrollReset:l,relative:r,viewTransition:c})}},[u,o,d,s,n,a,e,l,r,c])}var Qn=(e=>(e.SIDAMA="Sidama",e.YIRGACHEFFE="Yirgacheffe",e.GUJI="Guji",e.HARRAR="Harrar",e.LIMU="Limu",e.OTHER="Other",e))(Qn||{}),Pe=(e=>(e.LEAD="Lead",e.ACTIVE="Active",e.REPEAT="Repeat",e.DORMANT="Dormant",e))(Pe||{}),Hi=(e=>(e.ORGANIC="Organic",e.FAIR_TRADE="Fair Trade",e.RAINFOREST_ALLIANCE="Rainforest Alliance",e.UTZ="UTZ Certified",e))(Hi||{}),qs=(e=>(e.PENDING="Pending",e.SHIPPED="Shipped",e.DELIVERED="Delivered",e))(qs||{}),gu=(e=>(e.LC="Letter of Credit",e.WIRE="Wire Transfer",e.CASH="Cash",e))(gu||{}),Y=(e=>(e.PAID="Paid",e.PARTIAL="Partial",e.UNPAID="Unpaid",e.OVERDUE="Overdue",e))(Y||{}),Kn=(e=>(e.LOGISTICS="Logistics",e.FARMER_PAYMENT="Farmer Payment",e.ADMIN="Admin",e.PACKAGING="Packaging",e.MARKETING="Marketing",e.OTHER="Other",e))(Kn||{});const Ut=({isOpen:e,onClose:t,title:a,children:s,size:n="md"})=>{if(!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 transition-opacity duration-300 ease-in-out",children:[i.jsxs("div",{className:`bg-surface rounded-lg shadow-xl w-full ${l[n]} p-6 transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modalShow`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary",children:a}),i.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Close modal",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{children:s})]}),i.jsx("style",{children:`
        @keyframes modalShow {
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animate-modalShow {
          animation: modalShow 0.3s forwards;
        }
      `})]})},Yp=Object.values(Qn).map(e=>({value:e,label:e})),Vp=Object.values(Pe).map(e=>({value:e,label:e})),Uv=Object.values(Hi).map(e=>({value:e,label:e})),Fp=Object.values(qs).map(e=>({value:e,label:e})),Mv=Object.values(gu).map(e=>({value:e,label:e})),Xp=Object.values(Y).map(e=>({value:e,label:e})),Qp=Object.values(Kn).map(e=>({value:e,label:e})),Lv=[{value:"Call",label:"Call"},{value:"Sample",label:"Sample Sent"},{value:"Email",label:"Email"},{value:"Meeting",label:"Meeting"}],zv=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),xu=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),Kp=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),Zn=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Ii=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),Zp=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75c0 .621-.504 1.125-1.125 1.125h-2.25A1.125 1.125 0 013 21v-7.875zM12.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v12.375c0 .621-.504 1.125-1.125 1.125h-2.25A1.125 1.125 0 0112.75 21V8.625zM21 4.125C21 3.504 21.504 3 22.125 3h2.25c.621 0 1.125.504 1.125 1.125v16.875A1.125 1.125 0 0124.375 21h-2.25A1.125 1.125 0 0121 19.875V4.125z"})}),Ta=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Jn=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),Wn=e=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),On=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),ih=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),qv=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),rh={companyName:"",contactPerson:"",country:"",email:"",phone:"",preferredOrigin:Qn.SIDAMA,certificationsRequired:[],status:Pe.LEAD,assignedSalesRep:"",notes:"",nextFollowUpDate:void 0},Bv={date:new Date().toISOString().split("T")[0],type:"Call",notes:""},Hv=({customer:e,onSave:t,onClose:a})=>{const[s,n]=N.useState(()=>e?{...e}:rh);N.useEffect(()=>{n(e?{...e}:rh)},[e]);const l=o=>{const{name:u,value:d}=o.target;n(f=>({...f,[u]:d}))},r=o=>{const{name:u,options:d}=o.target,f=[];for(let h=0,p=d.length;h<p;h++)d[h].selected&&f.push(d[h].value);n(h=>({...h,[u]:f}))},c=o=>{o.preventDefault(),t(e?{...e,...s}:s)};return i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700",children:"Company Name"}),i.jsx("input",{type:"text",name:"companyName",id:"companyName",value:s.companyName,onChange:l,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"contactPerson",className:"block text-sm font-medium text-gray-700",children:"Contact Person"}),i.jsx("input",{type:"text",name:"contactPerson",id:"contactPerson",value:s.contactPerson,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),i.jsx("input",{type:"text",name:"country",id:"country",value:s.country,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),i.jsx("input",{type:"email",name:"email",id:"email",value:s.email,onChange:l,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",id:"phone",value:s.phone,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"preferredOrigin",className:"block text-sm font-medium text-gray-700",children:"Preferred Coffee Origin"}),i.jsx("select",{name:"preferredOrigin",id:"preferredOrigin",value:s.preferredOrigin,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:Yp.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Customer Status"}),i.jsx("select",{name:"status",id:"status",value:s.status,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:Vp.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"certificationsRequired",className:"block text-sm font-medium text-gray-700",children:"Certifications Required"}),i.jsx("select",{name:"certificationsRequired",id:"certificationsRequired",multiple:!0,value:s.certificationsRequired,onChange:r,className:"mt-1 block w-full h-32 border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:Uv.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"assignedSalesRep",className:"block text-sm font-medium text-gray-700",children:"Assigned Sales Rep"}),i.jsx("input",{type:"text",name:"assignedSalesRep",id:"assignedSalesRep",value:s.assignedSalesRep,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"nextFollowUpDate",className:"block text-sm font-medium text-gray-700",children:"Next Follow-Up Date"}),i.jsx("input",{type:"date",name:"nextFollowUpDate",id:"nextFollowUpDate",value:s.nextFollowUpDate||"",onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),i.jsx("textarea",{name:"notes",id:"notes",value:s.notes,onChange:l,rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:"Save Customer"})]})]})},Iv=({customerId:e,onClose:t})=>{const{logInteraction:a}=Ks(),[s,n]=N.useState(Bv),l=c=>{const{name:o,value:u}=c.target;n(d=>({...d,[o]:u}))},r=c=>{c.preventDefault(),a(e,s),t()};return i.jsxs("form",{onSubmit:r,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),i.jsx("input",{type:"date",name:"date",id:"date",value:s.date,onChange:l,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Type"}),i.jsx("select",{name:"type",id:"type",value:s.type,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:Lv.map(c=>i.jsx("option",{value:c.value,children:c.label},c.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),i.jsx("textarea",{name:"notes",id:"notes",value:s.notes,onChange:l,required:!0,rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Log Interaction"})]})]})},$v=()=>{const{customers:e,addCustomer:t,updateCustomer:a}=Ks(),[s,n]=N.useState(!1),[l,r]=N.useState(!1),[c,o]=N.useState(!1),[u,d]=N.useState(void 0),[f,h]=N.useState(void 0),[p,_]=N.useState(""),[m,S]=N.useState(""),[g,y]=N.useState("card"),v=()=>{d(void 0),n(!0)},j=w=>{d(w),n(!0)},E=w=>{d(w),o(!0)},C=w=>{"id"in w?a(w):t(w),n(!1)},x=w=>{h(w),r(!0)},b=e.filter(w=>{const k=p?w.status===p:!0,T=m?w.preferredOrigin===m:!0;return k&&T}),O=new Date().toISOString().split("T")[0];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(xu,{className:"w-8 h-8 mr-2"}),"Customer Relationship Management"]}),i.jsxs("button",{onClick:v,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Ta,{className:"w-5 h-5 mr-2"})," Add New Customer"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterStatus",className:"block text-sm font-medium text-gray-700",children:"Filter by Status"}),i.jsxs("select",{id:"filterStatus",value:p,onChange:w=>_(w.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Statuses"}),Vp.map(w=>i.jsx("option",{value:w.value,children:w.label},w.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterOrigin",className:"block text-sm font-medium text-gray-700",children:"Filter by Origin"}),i.jsxs("select",{id:"filterOrigin",value:m,onChange:w=>S(w.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Origins"}),Yp.map(w=>i.jsx("option",{value:w.value,children:w.label},w.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"View Layout"}),i.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[i.jsx("button",{onClick:()=>y("list"),className:`px-3 py-2 rounded-l-md border border-gray-300 ${g==="list"?"bg-primary text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"List"}),i.jsx("button",{onClick:()=>y("card"),className:`px-3 py-2 rounded-r-md border border-gray-300 -ml-px ${g==="card"?"bg-primary text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Card"})]})]})]})}),b.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No customers found."}),g==="card"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(w=>i.jsx("div",{className:"bg-surface rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-transform duration-200",children:i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h3",{className:"text-xl font-semibold text-primary mb-1",children:w.companyName}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${w.status===Pe.ACTIVE?"bg-green-100 text-green-700":w.status===Pe.LEAD?"bg-yellow-100 text-yellow-700":w.status===Pe.REPEAT?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:w.status})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[w.contactPerson," - ",w.country]}),i.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:[w.email," | ",w.phone]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("p",{className:"text-xs text-gray-500",children:["Origin: ",i.jsx("span",{className:"font-medium text-secondary",children:w.preferredOrigin})]}),w.certificationsRequired.length>0&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Certs: ",i.jsx("span",{className:"font-medium text-secondary",children:w.certificationsRequired.join(", ")})]})]}),w.nextFollowUpDate&&i.jsxs("p",{className:`text-sm mb-3 ${w.nextFollowUpDate<O?"text-red-500 font-semibold":"text-gray-700"}`,children:["Follow-up: ",new Date(w.nextFollowUpDate).toLocaleDateString(),w.nextFollowUpDate<O&&i.jsx("span",{className:"ml-1",children:"(Overdue)"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>E(w),className:"text-sm bg-accent text-primary px-3 py-1 rounded-md hover:opacity-80 flex items-center",children:[i.jsx(Wn,{className:"w-4 h-4 mr-1"})," Details"]}),i.jsxs("button",{onClick:()=>j(w),className:"text-sm bg-gray-200 text-gray-700 px-3 py-1 rounded-md hover:bg-gray-300 flex items-center",children:[i.jsx(Jn,{className:"w-4 h-4 mr-1"})," Edit"]}),i.jsxs("button",{onClick:()=>x(w.id),className:"text-sm bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 flex items-center",children:[i.jsx(Ta,{className:"w-4 h-4 mr-1"})," Log"]})]})]})},w.id))}):i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origin"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Follow-Up"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(w=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.companyName}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.contactPerson}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w.status===Pe.ACTIVE?"bg-green-100 text-green-800":w.status===Pe.LEAD?"bg-yellow-100 text-yellow-800":w.status===Pe.REPEAT?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:w.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.preferredOrigin}),i.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${w.nextFollowUpDate&&w.nextFollowUpDate<O?"text-red-600 font-semibold":"text-gray-500"}`,children:[w.nextFollowUpDate?new Date(w.nextFollowUpDate).toLocaleDateString():"N/A",w.nextFollowUpDate&&w.nextFollowUpDate<O&&" (Overdue)"]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>E(w),className:"text-accent hover:text-primary",children:i.jsx(Wn,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>j(w),className:"text-secondary hover:text-primary",children:i.jsx(Jn,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>x(w.id),className:"text-blue-600 hover:text-blue-800",children:i.jsx(Ta,{className:"w-5 h-5 inline"})})]})]},w.id))})]})}),i.jsx(Ut,{isOpen:s,onClose:()=>n(!1),title:u?"Edit Customer":"Add New Customer",children:i.jsx(Hv,{customer:u,onSave:C,onClose:()=>n(!1)})}),f&&i.jsx(Ut,{isOpen:l,onClose:()=>r(!1),title:"Log Interaction",children:i.jsx(Iv,{customerId:f,onClose:()=>r(!1)})}),u&&i.jsx(Ut,{isOpen:c,onClose:()=>o(!1),title:`${u.companyName} - Details`,size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Contact Person:"})," ",u.contactPerson]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Country:"})," ",u.country]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",u.email]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Phone:"})," ",u.phone]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Preferred Origin:"})," ",u.preferredOrigin]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Certifications:"})," ",u.certificationsRequired.join(", ")||"None"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"})," ",u.status]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Sales Rep:"})," ",u.assignedSalesRep]}),u.nextFollowUpDate&&i.jsxs("p",{className:u.nextFollowUpDate<O?"text-red-500 font-bold":"",children:[i.jsx("strong",{children:"Next Follow-Up:"})," ",new Date(u.nextFollowUpDate).toLocaleDateString()," ",u.nextFollowUpDate<O?"(Overdue Reminder!)":""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Notes:"})," ",u.notes||"N/A"]}),i.jsx("h4",{className:"text-lg font-semibold text-primary mt-4 pt-4 border-t",children:"Interaction History"}),u.interactions.length>0?i.jsx("ul",{className:"space-y-3 max-h-60 overflow-y-auto",children:[...u.interactions].reverse().map(w=>i.jsxs("li",{className:"p-3 bg-gray-50 rounded-md",children:[i.jsxs("p",{className:"font-semibold text-secondary",children:[w.type," - ",new Date(w.date).toLocaleDateString()]}),i.jsx("p",{className:"text-sm text-gray-600",children:w.notes})]},w.id))}):i.jsx("p",{className:"text-gray-500",children:"No interactions logged yet."}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsxs("button",{onClick:()=>{x(u.id),o(!1)},className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 flex items-center",children:[i.jsx(Ta,{className:"w-5 h-5 mr-2"})," Add New Interaction"]})})]})})]})},oh={customerId:"",product:"",grade:"",quantityKg:0,unitPrice:0,shippingStatus:qs.PENDING,orderDate:new Date().toISOString().split("T")[0]},Gv=({order:e,customers:t,onSave:a,onClose:s})=>{const[n,l]=N.useState(()=>e?{...e}:oh);N.useEffect(()=>{l(e?{...e}:oh)},[e]);const r=o=>{const{name:u,value:d}=o.target,f=u==="quantityKg"||u==="unitPrice"?parseFloat(d):d;l(h=>({...h,[u]:f}))},c=o=>{if(o.preventDefault(),n.customerId===""){alert("Please select a customer.");return}a(n)};return i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"customerId",className:"block text-sm font-medium text-gray-700",children:"Customer"}),i.jsxs("select",{name:"customerId",id:"customerId",value:n.customerId,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",disabled:!0,children:"Select Customer"}),t.map(o=>i.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700",children:"Product (e.g., Green Coffee Beans)"}),i.jsx("input",{type:"text",name:"product",id:"product",value:n.product,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"grade",className:"block text-sm font-medium text-gray-700",children:"Grade (e.g., G1, G2)"}),i.jsx("input",{type:"text",name:"grade",id:"grade",value:n.grade,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"quantityKg",className:"block text-sm font-medium text-gray-700",children:"Quantity (kg)"}),i.jsx("input",{type:"number",name:"quantityKg",id:"quantityKg",value:n.quantityKg,onChange:r,required:!0,min:"0",step:"0.1",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"unitPrice",className:"block text-sm font-medium text-gray-700",children:"Unit Price (USD)"}),i.jsx("input",{type:"number",name:"unitPrice",id:"unitPrice",value:n.unitPrice,onChange:r,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"orderDate",className:"block text-sm font-medium text-gray-700",children:"Order Date"}),i.jsx("input",{type:"date",name:"orderDate",id:"orderDate",value:n.orderDate,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"shippingStatus",className:"block text-sm font-medium text-gray-700",children:"Shipping Status"}),i.jsx("select",{name:"shippingStatus",id:"shippingStatus",value:n.shippingStatus,onChange:r,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:Fp.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),i.jsx("div",{children:i.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Total Amount: USD ",(n.quantityKg*n.unitPrice).toFixed(2)]})}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Order"})]})]})},Pv=()=>{const{salesOrders:e,addSalesOrder:t,updateSalesOrder:a,customers:s,generateInvoiceForOrder:n,invoices:l}=Ks(),[r,c]=N.useState(!1),[o,u]=N.useState(!1),[d,f]=N.useState(void 0),[h,p]=N.useState(""),[_,m]=N.useState(""),S=()=>{f(void 0),c(!0)},g=x=>{f(x),c(!0)},y=x=>{f(x),u(!0)},v=x=>{"id"in x?a(x):t(x),c(!1)},j=x=>{if(n(x),d&&d.id===x.id){const b=e.find(O=>O.id===x.id);b&&f(b)}},E=x=>{var b;return((b=s.find(O=>O.id===x))==null?void 0:b.companyName)||"Unknown Customer"},C=e.filter(x=>{const b=h?x.customerId===h:!0,O=_?x.shippingStatus===_:!0;return b&&O});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(Kp,{className:"w-8 h-8 mr-2"}),"Sales Log"]}),i.jsxs("button",{onClick:S,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Ta,{className:"w-5 h-5 mr-2"})," Create New Order"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCustomer",className:"block text-sm font-medium text-gray-700",children:"Filter by Customer"}),i.jsxs("select",{id:"filterCustomer",value:h,onChange:x=>p(x.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Customers"}),s.map(x=>i.jsx("option",{value:x.id,children:x.companyName},x.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterShippingStatus",className:"block text-sm font-medium text-gray-700",children:"Filter by Shipping Status"}),i.jsxs("select",{id:"filterShippingStatus",value:_,onChange:x=>m(x.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Statuses"}),Fp.map(x=>i.jsx("option",{value:x.value,children:x.label},x.value))]})]})]})}),C.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No sales orders found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipping Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(x=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[x.id.substring(0,8),"..."]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(x.customerId)}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[x.product," (",x.grade,")"]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",x.totalAmount.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.orderDate).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.shippingStatus===qs.DELIVERED?"bg-green-100 text-green-800":x.shippingStatus===qs.SHIPPED?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:x.shippingStatus})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>y(x),className:"text-accent hover:text-primary",children:i.jsx(Wn,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>g(x),className:"text-secondary hover:text-primary",children:i.jsx(Jn,{className:"w-5 h-5 inline"})}),!x.linkedInvoiceId&&i.jsx("button",{onClick:()=>j(x),title:"Generate Invoice",className:"text-green-600 hover:text-green-800",children:i.jsx(Zn,{className:"w-5 h-5 inline"})})]})]},x.id))})]})}),i.jsx(Ut,{isOpen:r,onClose:()=>c(!1),title:d?"Edit Sales Order":"Create New Sales Order",size:"lg",children:i.jsx(Gv,{order:d,customers:s,onSave:v,onClose:()=>c(!1)})}),d&&i.jsx(Ut,{isOpen:o,onClose:()=>u(!1),title:"Order Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Order ID:"})," ",d.id]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Customer:"})," ",E(d.customerId)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Product:"})," ",d.product," (Grade: ",d.grade,")"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Quantity:"})," ",d.quantityKg," kg"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Unit Price:"})," USD ",d.unitPrice.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Total Amount:"})," USD ",d.totalAmount.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Order Date:"})," ",new Date(d.orderDate).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Shipping Status:"})," ",d.shippingStatus]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Linked Invoice ID:"})," ",d.linkedInvoiceId||"N/A"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Documents:"}),d.documents.length>0?i.jsx("ul",{className:"list-disc list-inside ml-4",children:d.documents.map(x=>i.jsxs("li",{children:[x.name," (",x.type,")"]},x.name))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded."}),i.jsxs("div",{className:"mt-2",children:[i.jsx("label",{htmlFor:"docUpload",className:"text-sm text-gray-600",children:"Upload Document (mock):"}),i.jsx("input",{type:"file",id:"docUpload",className:"text-sm",onChange:()=>alert("File upload is a demo feature.")})]})]}),!d.linkedInvoiceId&&i.jsx("div",{className:"pt-4 border-t mt-4",children:i.jsxs("button",{onClick:()=>{var b;j(d);const x={...d,linkedInvoiceId:((b=l.find(O=>O.orderId===d.id))==null?void 0:b.id)||"pending..."};f(x)},className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center justify-center",children:[i.jsx(Zn,{className:"w-5 h-5 mr-2"})," Generate Invoice"]})})]})})]})},ch={orderId:"",customerId:"",dateIssued:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],amountDue:0,amountPaid:0,paymentMethod:void 0,datePaid:void 0,status:Y.UNPAID},Yv=({invoice:e,customers:t,salesOrders:a,onSave:s,onClose:n})=>{var f;const[l,r]=N.useState(()=>e?{...e}:ch);N.useEffect(()=>{r(e?{...e}:ch)},[e]);const c=h=>{const p=h.target.value,_=a.find(m=>m.id===p);_&&r(m=>({...m,orderId:_.id,customerId:_.customerId,amountDue:_.totalAmount}))},o=h=>{const{name:p,value:_}=h.target,m=p==="amountDue"||p==="amountPaid"?parseFloat(_):_;if(r(S=>({...S,[p]:m})),p==="amountPaid"&&l.amountDue>0){const S=parseFloat(_);S===0?r(g=>({...g,status:Y.UNPAID})):S<l.amountDue?r(g=>({...g,status:Y.PARTIAL})):r(g=>({...g,status:Y.PAID}))}},u=h=>{if(h.preventDefault(),l.orderId===""||l.customerId===""){alert("Please select an order and customer.");return}s(l)},d=!!e;return i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"orderId",className:"block text-sm font-medium text-gray-700",children:"Related Order"}),i.jsxs("select",{name:"orderId",id:"orderId",value:l.orderId,onChange:c,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",disabled:d,children:[i.jsx("option",{value:"",disabled:!0,children:"Select Order"}),a.filter(h=>!h.linkedInvoiceId||e&&h.id===e.orderId).map(h=>{var p;return i.jsxs("option",{value:h.id,children:[h.id.substring(0,8),"... - ",(p=t.find(_=>_.id===h.customerId))==null?void 0:p.companyName]},h.id)})]}),d&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Order cannot be changed after invoice creation."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Customer"}),i.jsx("input",{type:"text",value:((f=t.find(h=>h.id===l.customerId))==null?void 0:f.companyName)||"N/A",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm p-2"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dateIssued",className:"block text-sm font-medium text-gray-700",children:"Date Issued"}),i.jsx("input",{type:"date",name:"dateIssued",id:"dateIssued",value:l.dateIssued,onChange:o,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700",children:"Due Date"}),i.jsx("input",{type:"date",name:"dueDate",id:"dueDate",value:l.dueDate,onChange:o,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amountDue",className:"block text-sm font-medium text-gray-700",children:"Amount Due (USD)"}),i.jsx("input",{type:"number",name:"amountDue",id:"amountDue",value:l.amountDue,onChange:o,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm p-2",readOnly:d})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700",children:"Amount Paid (USD)"}),i.jsx("input",{type:"number",name:"amountPaid",id:"amountPaid",value:l.amountPaid,onChange:o,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),i.jsxs("select",{name:"paymentMethod",id:"paymentMethod",value:l.paymentMethod||"",onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",children:"Select Method"}),Mv.map(h=>i.jsx("option",{value:h.value,children:h.label},h.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"datePaid",className:"block text-sm font-medium text-gray-700",children:"Date Paid"}),i.jsx("input",{type:"date",name:"datePaid",id:"datePaid",value:l.datePaid||"",onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsx("select",{name:"status",id:"status",value:l.status,onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:Xp.map(h=>i.jsx("option",{value:h.value,children:h.label},h.value))})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Invoice"})]})]})},Vv=()=>{const{invoices:e,addInvoice:t,updateInvoice:a,customers:s,salesOrders:n}=Ks(),[l,r]=N.useState(!1),[c,o]=N.useState(!1),[u,d]=N.useState(void 0),[f,h]=N.useState(""),[p,_]=N.useState(""),m=()=>{d(void 0),r(!0)},S=x=>{d(x),r(!0)},g=x=>{d(x),o(!0)},y=x=>{"id"in x?a(x):t(x),r(!1)},v=x=>{var b;return((b=s.find(O=>O.id===x))==null?void 0:b.companyName)||"Unknown Customer"},j=new Date().toISOString().split("T")[0],E=e.map(x=>(x.status===Y.UNPAID||x.status===Y.PARTIAL)&&x.dueDate<j?{...x,status:Y.OVERDUE}:x).filter(x=>{const b=f?x.status===f:!0,O=p?x.customerId===p:!0;return b&&O}),C=x=>{switch(x){case Y.PAID:return"bg-green-100 text-green-800";case Y.PARTIAL:return"bg-yellow-100 text-yellow-800";case Y.UNPAID:return"bg-red-100 text-red-800";case Y.OVERDUE:return"bg-pink-200 text-pink-800 font-bold";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(Zn,{className:"w-8 h-8 mr-2"}),"Invoices & Payments"]}),i.jsxs("button",{onClick:m,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Ta,{className:"w-5 h-5 mr-2"})," Create New Invoice"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterStatus",className:"block text-sm font-medium text-gray-700",children:"Filter by Status"}),i.jsxs("select",{id:"filterStatus",value:f,onChange:x=>h(x.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Statuses"}),Xp.map(x=>i.jsx("option",{value:x.value,children:x.label},x.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCustomer",className:"block text-sm font-medium text-gray-700",children:"Filter by Customer"}),i.jsxs("select",{id:"filterCustomer",value:p,onChange:x=>_(x.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Customers"}),s.map(x=>i.jsx("option",{value:x.id,children:x.companyName},x.id))]})]})]})}),E.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No invoices found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Due"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Paid"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(x=>i.jsxs("tr",{className:`hover:bg-gray-50 ${x.status===Y.UNPAID||x.status===Y.OVERDUE?"border-l-4 border-red-500":x.status===Y.PARTIAL?"border-l-4 border-yellow-500":""}`,children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.invoiceNumber}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v(x.customerId)}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",x.amountDue.toFixed(2)]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",x.amountPaid.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.dueDate).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${C(x.status)}`,children:x.status})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>g(x),className:"text-accent hover:text-primary",children:i.jsx(Wn,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>S(x),className:"text-secondary hover:text-primary",children:i.jsx(Jn,{className:"w-5 h-5 inline"})})]})]},x.id))})]})}),i.jsx(Ut,{isOpen:l,onClose:()=>r(!1),title:u?"Edit Invoice":"Create New Invoice",size:"lg",children:i.jsx(Yv,{invoice:u,customers:s,salesOrders:n,onSave:y,onClose:()=>r(!1)})}),u&&i.jsx(Ut,{isOpen:c,onClose:()=>o(!1),title:"Invoice Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Invoice Number:"})," ",u.invoiceNumber]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Order ID:"})," ",u.orderId]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Customer:"})," ",v(u.customerId)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Date Issued:"})," ",new Date(u.dateIssued).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Due Date:"})," ",new Date(u.dueDate).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount Due:"})," USD ",u.amountDue.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount Paid:"})," USD ",u.amountPaid.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Remaining Balance:"})," USD ",(u.amountDue-u.amountPaid).toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Payment Method:"})," ",u.paymentMethod||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Date Paid:"})," ",u.datePaid?new Date(u.datePaid).toLocaleDateString():"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"})," ",i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${C(u.status)}`,children:u.status})]}),u.status===Y.OVERDUE&&i.jsx("p",{className:"text-red-600 font-bold",children:"This invoice is overdue!"})]})})]})},uh={expenseType:Kn.LOGISTICS,date:new Date().toISOString().split("T")[0],amount:0,paidTo:"",relatedOrderId:void 0,receiptUrl:void 0,isApproved:!1,description:""},Fv=({expense:e,salesOrders:t,onSave:a,onClose:s})=>{const[n,l]=N.useState(()=>e?{...e}:uh);N.useEffect(()=>{l(e?{...e}:uh)},[e]);const r=o=>{const{name:u,value:d,type:f}=o.target;if(f==="checkbox"){const{checked:h}=o.target;l(p=>({...p,[u]:h}))}else{const h=u==="amount"?parseFloat(d):d;l(p=>({...p,[u]:h}))}},c=o=>{o.preventDefault(),a(n)};return i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"expenseType",className:"block text-sm font-medium text-gray-700",children:"Expense Type"}),i.jsx("select",{name:"expenseType",id:"expenseType",value:n.expenseType,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:Qp.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),i.jsx("input",{type:"date",name:"date",id:"date",value:n.date,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount (USD)"}),i.jsx("input",{type:"number",name:"amount",id:"amount",value:n.amount,onChange:r,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"paidTo",className:"block text-sm font-medium text-gray-700",children:"Paid To"}),i.jsx("input",{type:"text",name:"paidTo",id:"paidTo",value:n.paidTo,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"relatedOrderId",className:"block text-sm font-medium text-gray-700",children:"Related Order (Optional)"}),i.jsxs("select",{name:"relatedOrderId",id:"relatedOrderId",value:n.relatedOrderId||"",onChange:r,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",children:"None"}),t.map(o=>i.jsxs("option",{value:o.id,children:[o.id.substring(0,8),"... (",o.product,")"]},o.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),i.jsx("textarea",{name:"description",id:"description",value:n.description,onChange:r,rows:2,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"receiptUrl",className:"block text-sm font-medium text-gray-700",children:"Upload Receipt (mock)"}),i.jsx("input",{type:"file",name:"receiptUrl",id:"receiptUrl",onChange:()=>alert("File upload is a demo feature. Path will not be stored."),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-accent file:text-primary hover:file:bg-secondary"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"isApproved",id:"isApproved",checked:n.isApproved,onChange:r,className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-accent"}),i.jsx("label",{htmlFor:"isApproved",className:"ml-2 block text-sm text-gray-900",children:"Mark as Approved"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Expense"})]})]})},Xv=()=>{const{expenses:e,addExpense:t,updateExpense:a,salesOrders:s}=Ks(),[n,l]=N.useState(!1),[r,c]=N.useState(!1),[o,u]=N.useState(void 0),[d,f]=N.useState(""),[h,p]=N.useState(""),[_,m]=N.useState(""),S=()=>{u(void 0),l(!0)},g=b=>{u(b),l(!0)},y=b=>{u(b),c(!0)},v=b=>{"id"in b?a(b):t(b),l(!1)},j=b=>{a({...b,isApproved:!b.isApproved})},E=e.filter(b=>{const O=d?b.expenseType===d:!0,w=h?b.date.startsWith(h):!0,k=_?b.relatedOrderId===_:!0;return O&&w&&k}).sort((b,O)=>new Date(O.date).getTime()-new Date(b.date).getTime()),C=E.reduce((b,O)=>{const w=O.date.substring(0,7);return b[w]=(b[w]||0)+O.amount,b},{}),x=E.reduce((b,O)=>{const w=O.date.substring(0,4);return b[w]=(b[w]||0)+O.amount,b},{});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(Ii,{className:"w-8 h-8 mr-2"}),"Expenses Management"]}),i.jsxs("button",{onClick:S,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Ta,{className:"w-5 h-5 mr-2"})," Log New Expense"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCategory",className:"block text-sm font-medium text-gray-700",children:"Filter by Category"}),i.jsxs("select",{id:"filterCategory",value:d,onChange:b=>f(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Categories"}),Qp.map(b=>i.jsx("option",{value:b.value,children:b.label},b.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-gray-700",children:"Filter by Date (YYYY or YYYY-MM)"}),i.jsx("input",{type:"text",id:"filterDate",placeholder:"e.g. 2024 or 2024-07",value:h,onChange:b=>p(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterOrder",className:"block text-sm font-medium text-gray-700",children:"Filter by Related Order"}),i.jsxs("select",{id:"filterOrder",value:_,onChange:b=>m(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Orders"}),s.map(b=>i.jsxs("option",{value:b.id,children:[b.id.substring(0,8),"... (",b.product,")"]},b.id))]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Monthly Summary"}),Object.keys(C).length>0?i.jsx("ul",{className:"text-sm space-y-1",children:Object.entries(C).map(([b,O])=>i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[b,":"]})," ",i.jsxs("span",{className:"font-medium",children:["USD ",O.toFixed(2)]})]},b))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No expenses for summary."})]}),i.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Yearly Summary"}),Object.keys(x).length>0?i.jsx("ul",{className:"text-sm space-y-1",children:Object.entries(x).map(([b,O])=>i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[b,":"]})," ",i.jsxs("span",{className:"font-medium",children:["USD ",O.toFixed(2)]})]},b))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No expenses for summary."})]})]}),E.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No expenses found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid To"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(b=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(b.date).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.expenseType}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",b.amount.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.paidTo}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsx("button",{onClick:()=>j(b),className:`p-1 rounded-full ${b.isApproved?"text-success":"text-error"}`,children:b.isApproved?i.jsx(On,{className:"w-5 h-5"}):i.jsx(ih,{className:"w-5 h-5"})})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>y(b),className:"text-accent hover:text-primary",children:i.jsx(Wn,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>g(b),className:"text-secondary hover:text-primary",children:i.jsx(Jn,{className:"w-5 h-5 inline"})})]})]},b.id))})]})}),i.jsx(Ut,{isOpen:n,onClose:()=>l(!1),title:o?"Edit Expense":"Log New Expense",size:"lg",children:i.jsx(Fv,{expense:o,salesOrders:s,onSave:v,onClose:()=>l(!1)})}),o&&i.jsx(Ut,{isOpen:r,onClose:()=>c(!1),title:"Expense Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Date:"})," ",new Date(o.date).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Type:"})," ",o.expenseType]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount:"})," USD ",o.amount.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Paid To:"})," ",o.paidTo]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Description:"})," ",o.description||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Related Order ID:"})," ",o.relatedOrderId||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Approved:"})," ",o.isApproved?i.jsx(On,{className:"w-5 h-5 inline text-success"}):i.jsx(ih,{className:"w-5 h-5 inline text-error"})]}),o.receiptUrl&&i.jsxs("p",{children:[i.jsx("strong",{children:"Receipt:"})," ",i.jsx("a",{href:o.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"View Receipt (mock)"})]}),!o.isApproved&&o.amount>1e3&&i.jsx("div",{className:"pt-4 border-t mt-4",children:i.jsxs("button",{onClick:()=>{j(o),u(b=>b?{...b,isApproved:!b.isApproved}:void 0)},className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center justify-center",children:[i.jsx(On,{className:"w-5 h-5 mr-2"})," Approve Expense"]})})]})})]})},Pl=({title:e,value:t,icon:a,color:s="bg-primary"})=>i.jsxs("div",{className:`${s} text-white p-6 rounded-xl shadow-lg flex items-center space-x-4 transform hover:scale-105 transition-transform duration-200`,children:[i.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full",children:ll.cloneElement(a,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm uppercase tracking-wide",children:e}),i.jsx("p",{className:"text-3xl font-bold",children:typeof t=="number"&&!e.toLowerCase().includes("customer")&&!e.toLowerCase().includes("active")?`USD ${t.toFixed(2)}`:t})]})]}),Qv=()=>{const{salesOrders:e,invoices:t,expenses:a,customers:s,updateExpense:n}=Ks(),l=e.reduce((m,S)=>{const g=t.find(y=>y.orderId===S.id);return g&&(g.status===Y.PAID||g.status===Y.PARTIAL)?m+g.amountPaid:m},0),r=t.filter(m=>m.status===Y.UNPAID||m.status===Y.PARTIAL||m.status===Y.OVERDUE).reduce((m,S)=>m+(S.amountDue-S.amountPaid),0),c=a.filter(m=>new Date(m.date).getMonth()===new Date().getMonth()&&new Date(m.date).getFullYear()===new Date().getFullYear()&&m.isApproved).reduce((m,S)=>m+S.amount,0),o=s.map(m=>{const S=e.filter(g=>g.customerId===m.id).reduce((g,y)=>{const v=t.find(j=>j.orderId===y.id&&(j.status===Y.PAID||j.status===Y.PARTIAL));return g+(v?v.amountPaid:0)},0);return{name:m.companyName,totalSales:S}}).filter(m=>m.totalSales>0).sort((m,S)=>S.totalSales-m.totalSales).slice(0,5),u=new Date,d=new Date;d.setDate(u.getDate()-30);const f=t.filter(m=>(m.status===Y.UNPAID||m.status===Y.PARTIAL||m.status===Y.OVERDUE)&&new Date(m.dueDate)<d&&new Date(m.dueDate)<u),h=a.filter(m=>!m.isApproved&&m.amount>500),p=e.map(m=>{const S=a.filter(j=>j.relatedOrderId===m.id&&j.isApproved).reduce((j,E)=>j+E.amount,0),g=t.find(j=>j.orderId===m.id&&(j.status===Y.PAID||j.status===Y.PARTIAL)),y=g?g.amountPaid:0,v=y-S;return{orderId:m.id,product:m.product,profit:v,totalRevenue:y,totalExpenses:S}}).filter(m=>m.totalRevenue>0||m.totalExpenses>0),_=m=>{const S=a.find(g=>g.id===m);S&&n({...S,isApproved:!S.isApproved})};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(Zp,{className:"w-8 h-8 mr-2"}),"Manager Dashboard"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsx(Pl,{title:"Monthly Revenue (Paid/Partial)",value:l,icon:i.jsx(Zn,{}),color:"bg-green-500"}),i.jsx(Pl,{title:"Outstanding Payments",value:r,icon:i.jsx(Ii,{}),color:"bg-yellow-500"}),i.jsx(Pl,{title:"Total Approved Expenses (This Month)",value:c,icon:i.jsx(Ii,{}),color:"bg-red-500"}),i.jsx(Pl,{title:"Active Customers",value:s.filter(m=>m.status===Pe.ACTIVE||m.status===Pe.REPEAT).length,icon:i.jsx(xu,{}),color:"bg-blue-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Profit Per Shipment (Based on Paid Invoices & Approved Expenses)"}),p.length>0?i.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:p.map(m=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md text-sm",children:[i.jsxs("p",{className:"font-medium",children:[m.product," (Order: ",m.orderId.substring(0,6),"...)"]}),i.jsxs("p",{children:["Revenue (Paid): ",i.jsxs("span",{className:"text-green-600",children:["USD ",m.totalRevenue.toFixed(2)]})]}),i.jsxs("p",{children:["Approved Expenses: ",i.jsxs("span",{className:"text-red-600",children:["USD ",m.totalExpenses.toFixed(2)]})]}),i.jsxs("p",{children:["Profit: ",i.jsxs("span",{className:`font-bold ${m.profit>=0?"text-green-700":"text-red-700"}`,children:["USD ",m.profit.toFixed(2)]})]})]},m.orderId))}):i.jsx("p",{className:"text-gray-500",children:"No shipment data with paid invoices to display profit."})]}),i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Top Performing Customers (by Paid Sales)"}),o.length>0?i.jsx("ul",{className:"space-y-2",children:o.map(m=>i.jsxs("li",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-md text-sm",children:[i.jsx("span",{className:"font-medium text-secondary",children:m.name}),i.jsxs("span",{className:"text-green-600 font-semibold",children:["USD ",m.totalSales.toFixed(2)]})]},m.name))}):i.jsx("p",{className:"text-gray-500",children:"No customer sales data (paid invoices) available."})]})]}),i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsxs("h2",{className:"text-xl font-semibold text-primary mb-4 flex items-center",children:[i.jsx(qv,{className:"w-6 h-6 mr-2 text-red-500"})," Alerts & Approvals"]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-yellow-600 mb-2",children:"Unpaid Invoices (Older than 30 days past due)"}),f.length>0?i.jsx("ul",{className:"space-y-2 text-sm",children:f.map(m=>{var S;return i.jsxs("li",{className:"p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded-md",children:["Invoice ",i.jsx("span",{className:"font-semibold",children:m.invoiceNumber})," for ",(S=s.find(g=>g.id===m.customerId))==null?void 0:S.companyName," (USD ",(m.amountDue-m.amountPaid).toFixed(2),") due on ",new Date(m.dueDate).toLocaleDateString(),"."]},m.id)})}):i.jsx("p",{className:"text-gray-500 text-sm",children:"No invoices older than 30 days past due."})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-medium text-blue-600 mb-2",children:["High-Value Expenses Awaiting Approval (>","USD 500",")"]}),h.length>0?i.jsx("ul",{className:"space-y-2 text-sm",children:h.map(m=>i.jsxs("li",{className:"p-3 bg-blue-50 border-l-4 border-blue-400 rounded-md flex justify-between items-center",children:[i.jsxs("div",{children:["Expense for ",i.jsx("span",{className:"font-semibold",children:m.paidTo})," (USD ",m.amount.toFixed(2),") on ",new Date(m.date).toLocaleDateString()," - ",m.description,"."]}),i.jsxs("button",{onClick:()=>_(m.id),className:"bg-green-500 text-white px-3 py-1 rounded-md hover:bg-green-600 text-xs flex items-center",children:[i.jsx(On,{className:"w-4 h-4 mr-1"})," Approve"]})]},m.id))}):i.jsx("p",{className:"text-gray-500 text-sm",children:"No high-value expenses awaiting approval."})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-lg font-medium text-green-600 mb-2",children:"Recently Approved High-Value Expenses"}),a.filter(m=>m.isApproved&&m.amount>500).slice(-5).reverse().map(m=>i.jsxs("li",{className:"p-3 bg-green-50 border-l-4 border-green-400 rounded-md flex justify-between items-center text-sm",children:[i.jsxs("div",{children:["Expense for ",i.jsx("span",{className:"font-semibold",children:m.paidTo})," (USD ",m.amount.toFixed(2),") on ",new Date(m.date).toLocaleDateString()," - ",m.description,"."]}),i.jsxs("span",{className:"text-green-700 flex items-center",children:[i.jsx(On,{className:"w-4 h-4 mr-1"})," Approved"]})]},m.id)),a.filter(m=>m.isApproved&&m.amount>500).length===0&&i.jsx("p",{className:"text-gray-500 text-sm",children:"No high-value expenses recently approved."})]})]})]})},Kv="modulepreload",Zv=function(e){return"/coffee-manager-dashboard/"+e},dh={},Sl=function(t,a,s){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),c=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));n=Promise.allSettled(a.map(o=>{if(o=Zv(o),o in dh)return;dh[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Kv,u||(f.as="script"),f.crossOrigin="",f.href=o,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function l(r){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r}return n.then(r=>{for(const c of r||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})},Jv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>Sl(async()=>{const{default:s}=await Promise.resolve().then(()=>Xs);return{default:s}},void 0).then(({default:s})=>s(...a)):t=fetch,(...a)=>t(...a)};class yu extends Error{constructor(t,a="FunctionsError",s){super(t),this.name=a,this.context=s}}class Wv extends yu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class eb extends yu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tb extends yu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nc||(nc={}));var ab=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function c(d){try{u(s.next(d))}catch(f){r(f)}}function o(d){try{u(s.throw(d))}catch(f){r(f)}}function u(d){d.done?l(d.value):n(d.value).then(c,o)}u((s=s.apply(e,t||[])).next())})};class sb{constructor(t,{headers:a={},customFetch:s,region:n=nc.Any}={}){this.url=t,this.headers=a,this.region=n,this.fetch=Jv(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,a={}){var s;return ab(this,void 0,void 0,function*(){try{const{headers:n,method:l,body:r}=a;let c={},{region:o}=a;o||(o=this.region),o&&o!=="any"&&(c["x-region"]=o);let u;r&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=r):typeof r=="string"?(c["Content-Type"]="text/plain",u=r):typeof FormData<"u"&&r instanceof FormData?u=r:(c["Content-Type"]="application/json",u=JSON.stringify(r)));const d=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),n),body:u}).catch(_=>{throw new Wv(_)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new eb(d);if(!d.ok)throw new tb(d);let h=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}var qe={},vu={},cr={},Nl={},ur={},dr={},nb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bs=nb();const lb=Bs.fetch,Jp=Bs.fetch.bind(Bs),Wp=Bs.Headers,ib=Bs.Request,rb=Bs.Response,Xs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wp,Request:ib,Response:rb,default:Jp,fetch:lb},Symbol.toStringTag,{value:"Module"})),ob=z0(Xs);var hr={};Object.defineProperty(hr,"__esModule",{value:!0});let cb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};hr.default=cb;var e0=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dr,"__esModule",{value:!0});const ub=e0(ob),db=e0(hr);let hb=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ub.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,a){return this.headers=Object.assign({},this.headers),this.headers[t]=a,this}then(t,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var r,c,o;let u=null,d=null,f=null,h=l.status,p=l.statusText;if(l.ok){if(this.method!=="HEAD"){const g=await l.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const m=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),S=(c=l.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&S&&S.length>1&&(f=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await l.text();try{u=JSON.parse(m),Array.isArray(u)&&l.status===404&&(d=[],u=null,h=200,p="OK")}catch{l.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new db.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(n=n.catch(l=>{var r,c,o;return{error:{message:`${(r=l==null?void 0:l.name)!==null&&r!==void 0?r:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(c=l==null?void 0:l.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(o=l==null?void 0:l.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,a)}returns(){return this}overrideTypes(){return this}};dr.default=hb;var fb=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ur,"__esModule",{value:!0});const mb=fb(dr);let pb=class extends mb.default{select(t){let a=!1;const s=(t??"*").split("").map(n=>/\s/.test(n)&&!a?"":(n==='"'&&(a=!a),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:a=!0,nullsFirst:s,foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.order`:"order",c=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${c?`${c},`:""}${t}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:a,referencedTable:s=a}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,a,{foreignTable:s,referencedTable:n=s}={}){const l=typeof n>"u"?"offset":`${n}.offset`,r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(r,`${a-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:a=!1,settings:s=!1,buffers:n=!1,wal:l=!1,format:r="text"}={}){var c;const o=[t?"analyze":null,a?"verbose":null,s?"settings":null,n?"buffers":null,l?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${u}"; options=${o};`,r==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ur.default=pb;var gb=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nl,"__esModule",{value:!0});const xb=gb(ur);let yb=class extends xb.default{eq(t,a){return this.url.searchParams.append(t,`eq.${a}`),this}neq(t,a){return this.url.searchParams.append(t,`neq.${a}`),this}gt(t,a){return this.url.searchParams.append(t,`gt.${a}`),this}gte(t,a){return this.url.searchParams.append(t,`gte.${a}`),this}lt(t,a){return this.url.searchParams.append(t,`lt.${a}`),this}lte(t,a){return this.url.searchParams.append(t,`lte.${a}`),this}like(t,a){return this.url.searchParams.append(t,`like.${a}`),this}likeAllOf(t,a){return this.url.searchParams.append(t,`like(all).{${a.join(",")}}`),this}likeAnyOf(t,a){return this.url.searchParams.append(t,`like(any).{${a.join(",")}}`),this}ilike(t,a){return this.url.searchParams.append(t,`ilike.${a}`),this}ilikeAllOf(t,a){return this.url.searchParams.append(t,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(t,a){return this.url.searchParams.append(t,`ilike(any).{${a.join(",")}}`),this}is(t,a){return this.url.searchParams.append(t,`is.${a}`),this}in(t,a){const s=Array.from(new Set(a)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cs.{${a.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(a)}`),this}containedBy(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cd.{${a.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(a)}`),this}rangeGt(t,a){return this.url.searchParams.append(t,`sr.${a}`),this}rangeGte(t,a){return this.url.searchParams.append(t,`nxl.${a}`),this}rangeLt(t,a){return this.url.searchParams.append(t,`sl.${a}`),this}rangeLte(t,a){return this.url.searchParams.append(t,`nxr.${a}`),this}rangeAdjacent(t,a){return this.url.searchParams.append(t,`adj.${a}`),this}overlaps(t,a){return typeof a=="string"?this.url.searchParams.append(t,`ov.${a}`):this.url.searchParams.append(t,`ov.{${a.join(",")}}`),this}textSearch(t,a,{config:s,type:n}={}){let l="";n==="plain"?l="pl":n==="phrase"?l="ph":n==="websearch"&&(l="w");const r=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${l}fts${r}.${a}`),this}match(t){return Object.entries(t).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(t,a,s){return this.url.searchParams.append(t,`not.${a}.${s}`),this}or(t,{foreignTable:a,referencedTable:s=a}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,a,s){return this.url.searchParams.append(t,`${a}.${s}`),this}};Nl.default=yb;var vb=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cr,"__esModule",{value:!0});const rn=vb(Nl);let bb=class{constructor(t,{headers:a={},schema:s,fetch:n}){this.url=t,this.headers=a,this.schema=s,this.fetch=n}select(t,{head:a=!1,count:s}={}){const n=a?"HEAD":"GET";let l=!1;const r=(t??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",r),s&&(this.headers.Prefer=`count=${s}`),new rn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:a,defaultToNull:s=!0}={}){const n="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const r=t.reduce((c,o)=>c.concat(Object.keys(o)),[]);if(r.length>0){const c=[...new Set(r)].map(o=>`"${o}"`);this.url.searchParams.set("columns",c.join(","))}}return new rn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:a,ignoreDuplicates:s=!1,count:n,defaultToNull:l=!0}={}){const r="POST",c=[`resolution=${s?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&c.push(this.headers.Prefer),n&&c.push(`count=${n}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const o=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(o.length>0){const u=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new rn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:a}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),a&&n.push(`count=${a}`),this.headers.Prefer=n.join(","),new rn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const a="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new rn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};cr.default=bb;var fr={},mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.version=void 0;mr.version="0.0.0-automated";Object.defineProperty(fr,"__esModule",{value:!0});fr.DEFAULT_HEADERS=void 0;const jb=mr;fr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jb.version}`};var t0=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vu,"__esModule",{value:!0});const wb=t0(cr),Sb=t0(Nl),Nb=fr;let _b=class a0{constructor(t,{headers:a={},schema:s,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},Nb.DEFAULT_HEADERS),a),this.schemaName=s,this.fetch=n}from(t){const a=new URL(`${this.url}/${t}`);return new wb.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new a0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:s=!1,get:n=!1,count:l}={}){let r;const c=new URL(`${this.url}/rpc/${t}`);let o;s||n?(r=s?"HEAD":"GET",Object.entries(a).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{c.searchParams.append(d,f)})):(r="POST",o=a);const u=Object.assign({},this.headers);return l&&(u.Prefer=`count=${l}`),new Sb.default({method:r,url:c,headers:u,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};vu.default=_b;var Qs=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const s0=Qs(vu);qe.PostgrestClient=s0.default;const n0=Qs(cr);qe.PostgrestQueryBuilder=n0.default;const l0=Qs(Nl);qe.PostgrestFilterBuilder=l0.default;const i0=Qs(ur);qe.PostgrestTransformBuilder=i0.default;const r0=Qs(dr);qe.PostgrestBuilder=r0.default;const o0=Qs(hr);qe.PostgrestError=o0.default;var Eb=qe.default={PostgrestClient:s0.default,PostgrestQueryBuilder:n0.default,PostgrestFilterBuilder:l0.default,PostgrestTransformBuilder:i0.default,PostgrestBuilder:r0.default,PostgrestError:o0.default};const{PostgrestClient:Ab,PostgrestQueryBuilder:Gj,PostgrestFilterBuilder:Pj,PostgrestTransformBuilder:Yj,PostgrestBuilder:Vj,PostgrestError:Fj}=Eb;let lc;typeof window>"u"?lc=require("ws"):lc=window.WebSocket;const Ob="2.11.10",Tb={"X-Client-Info":`realtime-js/${Ob}`},Db="1.0.0",c0=1e4,Cb=1e3;var Es;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Es||(Es={}));var De;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(De||(De={}));var ot;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ot||(ot={}));var ic;(function(e){e.websocket="websocket"})(ic||(ic={}));var Oa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Oa||(Oa={}));class kb{constructor(){this.HEADER_LENGTH=1}decode(t,a){return t.constructor===ArrayBuffer?a(this._binaryDecode(t)):a(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const a=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,a,s)}_decodeBroadcast(t,a,s){const n=a.getUint8(1),l=a.getUint8(2);let r=this.HEADER_LENGTH+2;const c=s.decode(t.slice(r,r+n));r=r+n;const o=s.decode(t.slice(r,r+l));r=r+l;const u=JSON.parse(s.decode(t.slice(r,t.byteLength)));return{ref:null,topic:c,event:o,payload:u}}}class u0{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const hh=(e,t,a={})=>{var s;const n=(s=a.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((l,r)=>(l[r]=Rb(r,e,t,n),l),{})},Rb=(e,t,a,s)=>{const n=t.find(c=>c.name===e),l=n==null?void 0:n.type,r=a[e];return l&&!s.includes(l)?d0(l,r):rc(r)},d0=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return zb(t,a)}switch(e){case ee.bool:return Ub(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return Mb(t);case ee.json:case ee.jsonb:return Lb(t);case ee.timestamp:return qb(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return rc(t);default:return rc(t)}},rc=e=>e,Ub=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Mb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Lb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zb=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,s=e[a];if(e[0]==="{"&&s==="}"){let l;const r=e.slice(1,a);try{l=JSON.parse("["+r+"]")}catch{l=r?r.split(","):[]}return l.map(c=>d0(t,c))}return e},qb=e=>typeof e=="string"?e.replace(" ","T"):e,h0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Wr{constructor(t,a,s={},n=c0){this.channel=t,this.event=a,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var s;return this._hasReceived(t)&&a((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fh||(fh={}));class Tn{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:l,onLeave:r,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tn.syncState(this.state,n,l,r),this.pendingDiffs.forEach(o=>{this.state=Tn.syncDiff(this.state,o,l,r)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},n=>{const{onJoin:l,onLeave:r,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Tn.syncDiff(this.state,n,l,r),c())}),this.onJoin((n,l,r)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:l,newPresences:r})}),this.onLeave((n,l,r)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:l,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,s,n){const l=this.cloneDeep(t),r=this.transformState(a),c={},o={};return this.map(l,(u,d)=>{r[u]||(o[u]=d)}),this.map(r,(u,d)=>{const f=l[u];if(f){const h=d.map(S=>S.presence_ref),p=f.map(S=>S.presence_ref),_=d.filter(S=>p.indexOf(S.presence_ref)<0),m=f.filter(S=>h.indexOf(S.presence_ref)<0);_.length>0&&(c[u]=_),m.length>0&&(o[u]=m)}else c[u]=d}),this.syncDiff(l,{joins:c,leaves:o},s,n)}static syncDiff(t,a,s,n){const{joins:l,leaves:r}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(l,(c,o)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(o),d.length>0){const f=t[c].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[c].unshift(...h)}s(c,d,o)}),this.map(r,(c,o)=>{let u=t[c];if(!u)return;const d=o.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[c]=u,n(c,u,o),u.length===0&&delete t[c]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(s=>a(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,s)=>{const n=t[s];return"metas"in n?a[s]=n.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):a[s]=n,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mh||(mh={}));var ph;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ph||(ph={}));var _t;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_t||(_t={}));class bu{constructor(t,a={config:{}},s){this.topic=t,this.params=a,this.socket=s,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Wr(this,ot.join,this.params,this.timeout),this.rejoinTimer=new u0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(n,l)=>{this._trigger(this._replyEventName(l),n)}),this.presence=new Tn(this),this.broadcastEndpointURL=h0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,a=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:r,private:c}}=this.params;this._onError(d=>t==null?void 0:t(_t.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(_t.CLOSED));const o={},u={broadcast:l,presence:r,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&n!==void 0?n:[],private:c};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},o)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(_t.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,_=[];for(let m=0;m<p;m++){const S=h[m],{filter:{event:g,schema:y,table:v,filter:j}}=S,E=d&&d[m];if(E&&E.event===g&&E.schema===y&&E.table===v&&E.filter===j)_.push(Object.assign(Object.assign({},S),{id:E.id}));else{this.unsubscribe(),this.state=De.errored,t==null||t(_t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(_t.SUBSCRIBED);return}}).receive("error",d=>{this.state=De.errored,t==null||t(_t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,s){return this._on(t,a,s)}async send(t,a={}){var s,n;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var r,c,o;const u=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(c=(r=this.params)===null||r===void 0?void 0:r.config)===null||c===void 0?void 0:c.broadcast)===null||o===void 0)&&o.ack)&&l("ok"),u.receive("ok",()=>l("ok")),u.receive("error",()=>l("error")),u.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=De.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(s=>{const n=new Wr(this,ot.leave,{},t);n.receive("ok",()=>{a(),s("ok")}).receive("timeout",()=>{a(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,a,s){const n=new AbortController,l=setTimeout(()=>n.abort(),s),r=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:n.signal}));return clearTimeout(l),r}_push(t,a,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Wr(this,t,a,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,a,s){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,s){var n,l;const r=t.toLocaleLowerCase(),{close:c,error:o,leave:u,join:d}=ot;if(s&&[c,o,u,d].indexOf(r)>=0&&s!==this._joinRef())return;let h=this._onMessage(r,a,s);if(a&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var _,m,S;return((_=p.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(m=p.filter)===null||m===void 0?void 0:m.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===r}).map(p=>p.callback(h,s)):(l=this.bindings[r])===null||l===void 0||l.filter(p=>{var _,m,S,g,y,v;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in p){const j=p.id,E=(_=p.filter)===null||_===void 0?void 0:_.event;return j&&((m=a.ids)===null||m===void 0?void 0:m.includes(j))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((S=a.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const j=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((v=a==null?void 0:a.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===r}).map(p=>{if(typeof h=="object"&&"ids"in h){const _=h.data,{schema:m,table:S,commit_timestamp:g,type:y,errors:v}=_;h=Object.assign(Object.assign({},{schema:m,table:S,commit_timestamp:g,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(_))}p.callback(h,s)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,s){const n=t.toLocaleLowerCase(),l={type:n,filter:a,callback:s};return this.bindings[n]?this.bindings[n].push(l):this.bindings[n]=[l],this}_off(t,a){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var l;return!(((l=n.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&bu.isEqual(n.filter,a))}),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const s in t)if(t[s]!==a[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ot.close,{},t)}_onError(t){this._on(ot.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=hh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=hh(t.columns,t.old_record)),a}}const gh=()=>{},Bb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hb{constructor(t,a){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Tb,this.params={},this.timeout=c0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gh,this.ref=0,this.logger=gh,this.conn=null,this.sendBuffer=[],this.serializer=new kb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let r;return l?r=l:typeof fetch>"u"?r=(...c)=>Sl(async()=>{const{default:o}=await Promise.resolve().then(()=>Xs);return{default:o}},void 0).then(({default:o})=>o(...c)):r=fetch,(...c)=>r(...c)},this.endPoint=`${t}/${ic.websocket}`,this.httpEndpoint=h0(t),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.headers&&(this.headers=Object.assign(Object.assign({},this.headers),a.headers)),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const n=(s=a==null?void 0:a.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(l,r)=>r(JSON.stringify(l)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new u0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=lc),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Ib(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Db}))}disconnect(t,a){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels=this.channels.filter(s=>s._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,s){this.logger(t,a,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Es.connecting:return Oa.Connecting;case Es.open:return Oa.Open;case Es.closing:return Oa.Closing;default:return Oa.Closed}}isConnected(){return this.connectionState()===Oa.Open}channel(t,a={config:{}}){const s=`realtime:${t}`,n=this.getChannels().find(l=>l.topic===s);if(n)return n;{const l=new bu(`realtime:${t}`,a,this);return this.channels.push(l),l}}push(t){const{topic:a,event:s,payload:n,ref:l}=t,r=()=>{this.encode(t,c=>{var o;(o=this.conn)===null||o===void 0||o.send(c)})};this.log("push",`${a} ${s} (${l})`,n),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let a=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(s=>{a&&s.updateJoinPayload({access_token:a,version:this.headers&&this.headers["X-Client-Info"]}),s.joinedOnce&&s._isJoined()&&s._push(ot.access_token,{access_token:a})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Cb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,a=>{let{topic:s,event:n,payload:l,ref:r}=a;s==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${n} ${r&&"("+r+")"||""}`,l),Array.from(this.channels).filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,l,r)),this.stateChangeCallbacks.message.forEach(c=>c(a))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ot.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const s=t.match(/\?/)?"&":"?",n=new URLSearchParams(a);return`${t}${s}${n}`}_workerObjectUrl(t){let a;if(t)a=t;else{const s=new Blob([Bb],{type:"application/javascript"});a=URL.createObjectURL(s)}return a}}class Ib{constructor(t,a,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Es.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class ju extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $b extends ju{constructor(t,a){super(t),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class oc extends ju{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}var Gb=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function c(d){try{u(s.next(d))}catch(f){r(f)}}function o(d){try{u(s.throw(d))}catch(f){r(f)}}function u(d){d.done?l(d.value):n(d.value).then(c,o)}u((s=s.apply(e,t||[])).next())})};const f0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>Sl(async()=>{const{default:s}=await Promise.resolve().then(()=>Xs);return{default:s}},void 0).then(({default:s})=>s(...a)):t=fetch,(...a)=>t(...a)},Pb=()=>Gb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sl(()=>Promise.resolve().then(()=>Xs),void 0)).Response:Response}),cc=e=>{if(Array.isArray(e))return e.map(a=>cc(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,s])=>{const n=a.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[n]=cc(s)}),t};var Qa=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function c(d){try{u(s.next(d))}catch(f){r(f)}}function o(d){try{u(s.throw(d))}catch(f){r(f)}}function u(d){d.done?l(d.value):n(d.value).then(c,o)}u((s=s.apply(e,t||[])).next())})};const eo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yb=(e,t,a)=>Qa(void 0,void 0,void 0,function*(){const s=yield Pb();e instanceof s&&!(a!=null&&a.noResolveJson)?e.json().then(n=>{t(new $b(eo(n),e.status||500))}).catch(n=>{t(new oc(eo(n),n))}):t(new oc(eo(e),e))}),Vb=(e,t,a,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),a))};function _l(e,t,a,s,n,l){return Qa(this,void 0,void 0,function*(){return new Promise((r,c)=>{e(a,Vb(t,s,n,l)).then(o=>{if(!o.ok)throw o;return s!=null&&s.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>Yb(o,c,s))})})}function $i(e,t,a,s){return Qa(this,void 0,void 0,function*(){return _l(e,"GET",t,a,s)})}function Xt(e,t,a,s,n){return Qa(this,void 0,void 0,function*(){return _l(e,"POST",t,s,n,a)})}function Fb(e,t,a,s,n){return Qa(this,void 0,void 0,function*(){return _l(e,"PUT",t,s,n,a)})}function Xb(e,t,a,s){return Qa(this,void 0,void 0,function*(){return _l(e,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),s)})}function m0(e,t,a,s,n){return Qa(this,void 0,void 0,function*(){return _l(e,"DELETE",t,s,n,a)})}var Ue=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function c(d){try{u(s.next(d))}catch(f){r(f)}}function o(d){try{u(s.throw(d))}catch(f){r(f)}}function u(d){d.done?l(d.value):n(d.value).then(c,o)}u((s=s.apply(e,t||[])).next())})};const Qb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kb{constructor(t,a={},s,n){this.url=t,this.headers=a,this.bucketId=s,this.fetch=f0(n)}uploadOrUpdate(t,a,s,n){return Ue(this,void 0,void 0,function*(){try{let l;const r=Object.assign(Object.assign({},xh),n);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",r.cacheControl),o&&l.append("metadata",this.encodeMetadata(o)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",r.cacheControl),o&&l.append("metadata",this.encodeMetadata(o))):(l=s,c["cache-control"]=`max-age=${r.cacheControl}`,c["content-type"]=r.contentType,o&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),n!=null&&n.headers&&(c=Object.assign(Object.assign({},c),n.headers));const u=this._removeEmptyFolders(a),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:l,headers:c},r!=null&&r.duplex?{duplex:r.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ve(l))return{data:null,error:l};throw l}})}upload(t,a,s){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,s)})}uploadToSignedUrl(t,a,s,n){return Ue(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),r=this._getFinalPath(l),c=new URL(this.url+`/object/upload/sign/${r}`);c.searchParams.set("token",a);try{let o;const u=Object.assign({upsert:xh.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",u.cacheControl)):(o=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(c.toString(),{method:"PUT",body:o,headers:d}),h=yield f.json();return f.ok?{data:{path:l,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(ve(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,a){return Ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const n=Object.assign({},this.headers);a!=null&&a.upsert&&(n["x-upsert"]="true");const l=yield Xt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),r=new URL(this.url+l.url),c=r.searchParams.get("token");if(!c)throw new ju("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:c},error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}update(t,a,s){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,s)})}move(t,a,s){return Ue(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}copy(t,a,s){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Xt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}createSignedUrl(t,a,s){return Ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),l=yield Xt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:a},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${r}`)},{data:l,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}createSignedUrls(t,a,s){return Ue(this,void 0,void 0,function*(){try{const n=yield Xt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${l}`):null})),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}download(t,a){return Ue(this,void 0,void 0,function*(){const n=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),r=l?`?${l}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield $i(this.fetch,`${this.url}/${n}/${c}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(ve(c))return{data:null,error:c};throw c}})}info(t){return Ue(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const s=yield $i(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:cc(s),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}exists(t){return Ue(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield Xb(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ve(s)&&s instanceof oc){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,a){const s=this._getFinalPath(t),n=[],l=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";l!==""&&n.push(l);const c=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});o!==""&&n.push(o);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${u}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield m0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(ve(a))return{data:null,error:a};throw a}})}list(t,a,s){return Ue(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Qb),a),{prefix:t||""});return{data:yield Xt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const Zb="2.7.1",Jb={"X-Client-Info":`storage-js/${Zb}`};var Ja=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function c(d){try{u(s.next(d))}catch(f){r(f)}}function o(d){try{u(s.throw(d))}catch(f){r(f)}}function u(d){d.done?l(d.value):n(d.value).then(c,o)}u((s=s.apply(e,t||[])).next())})};class Wb{constructor(t,a={},s){this.url=t,this.headers=Object.assign(Object.assign({},Jb),a),this.fetch=f0(s)}listBuckets(){return Ja(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}getBucket(t){return Ja(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(ve(a))return{data:null,error:a};throw a}})}createBucket(t,a={public:!1}){return Ja(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}updateBucket(t,a){return Ja(this,void 0,void 0,function*(){try{return{data:yield Fb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Ja(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(ve(a))return{data:null,error:a};throw a}})}deleteBucket(t){return Ja(this,void 0,void 0,function*(){try{return{data:yield m0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(ve(a))return{data:null,error:a};throw a}})}}class e1 extends Wb{constructor(t,a={},s){super(t,a,s)}from(t){return new Kb(this.url,this.headers,t,this.fetch)}}const t1="2.49.10";let hn="";typeof Deno<"u"?hn="deno":typeof document<"u"?hn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hn="react-native":hn="node";const a1={"X-Client-Info":`supabase-js-${hn}/${t1}`},s1={headers:a1},n1={schema:"public"},l1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i1={};var r1=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function c(d){try{u(s.next(d))}catch(f){r(f)}}function o(d){try{u(s.throw(d))}catch(f){r(f)}}function u(d){d.done?l(d.value):n(d.value).then(c,o)}u((s=s.apply(e,t||[])).next())})};const o1=e=>{let t;return e?t=e:typeof fetch>"u"?t=Jp:t=fetch,(...a)=>t(...a)},c1=()=>typeof Headers>"u"?Wp:Headers,u1=(e,t,a)=>{const s=o1(a),n=c1();return(l,r)=>r1(void 0,void 0,void 0,function*(){var c;const o=(c=yield t())!==null&&c!==void 0?c:e;let u=new n(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),s(l,Object.assign(Object.assign({},r),{headers:u}))})};var d1=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function c(d){try{u(s.next(d))}catch(f){r(f)}}function o(d){try{u(s.throw(d))}catch(f){r(f)}}function u(d){d.done?l(d.value):n(d.value).then(c,o)}u((s=s.apply(e,t||[])).next())})};function h1(e){return e.endsWith("/")?e:e+"/"}function f1(e,t){var a,s;const{db:n,auth:l,realtime:r,global:c}=e,{db:o,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},u),l),realtime:Object.assign(Object.assign({},d),r),global:Object.assign(Object.assign(Object.assign({},f),c),{headers:Object.assign(Object.assign({},(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{}),(s=c==null?void 0:c.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>d1(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const p0="2.69.1",ls=30*1e3,uc=3,to=uc*ls,m1="http://localhost:9999",p1="supabase.auth.token",g1={"X-Client-Info":`gotrue-js/${p0}`},dc="X-Supabase-Api-Version",g0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},x1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,y1=6e5;class wu extends Error{constructor(t,a,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=s}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class v1 extends wu{constructor(t,a,s){super(t,a,s),this.name="AuthApiError",this.status=a,this.code=s}}function b1(e){return z(e)&&e.name==="AuthApiError"}class x0 extends wu{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class ba extends wu{constructor(t,a,s,n){super(t,s,n),this.name=a,this.status=s}}class Pt extends ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function j1(e){return z(e)&&e.name==="AuthSessionMissingError"}class ao extends ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yl extends ba{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vl extends ba{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function w1(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class yh extends ba{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hc extends ba{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function so(e){return z(e)&&e.name==="AuthRetryableFetchError"}class vh extends ba{constructor(t,a,s){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=s}}class Dn extends ba{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jh=` 	
\r=`.split(""),S1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jh.length;t+=1)e[jh[t].charCodeAt(0)]=-2;for(let t=0;t<bh.length;t+=1)e[bh[t].charCodeAt(0)]=t;return e})();function y0(e,t,a){const s=S1[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wh(e){const t=[],a=r=>{t.push(String.fromCodePoint(r))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},l=r=>{E1(r,s,a)};for(let r=0;r<e.length;r+=1)y0(e.charCodeAt(r),n,l);return t.join("")}function N1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _1(e,t){for(let a=0;a<e.length;a+=1){let s=e.charCodeAt(a);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(e.charCodeAt(a+1)-56320&65535|n)+65536,a+=1}N1(s,t)}}function E1(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function A1(e){const t=[],a={queue:0,queuedBits:0},s=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)y0(e.charCodeAt(n),a,s);return new Uint8Array(t)}function O1(e){const t=[];return _1(e,a=>t.push(a)),new Uint8Array(t)}function T1(e){return Math.round(Date.now()/1e3)+e}function D1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const mt=()=>typeof window<"u"&&typeof document<"u",Sa={tested:!1,writable:!1},Cn=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sa.tested)return Sa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Sa.tested=!0,Sa.writable=!0}catch{Sa.tested=!0,Sa.writable=!1}return Sa.writable};function C1(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((n,l)=>{t[l]=n})}catch{}return a.searchParams.forEach((s,n)=>{t[n]=s}),t}const v0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>Sl(async()=>{const{default:s}=await Promise.resolve().then(()=>Xs);return{default:s}},void 0).then(({default:s})=>s(...a)):t=fetch,(...a)=>t(...a)},k1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",b0=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},Fl=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Xl=async(e,t)=>{await e.removeItem(t)};class pr{constructor(){this.promise=new pr.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}pr.promiseConstructor=Promise;function no(e){const t=e.split(".");if(t.length!==3)throw new Dn("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!x1.test(t[s]))throw new Dn("JWT not in base64url format");return{header:JSON.parse(wh(t[0])),payload:JSON.parse(wh(t[1])),signature:A1(t[2]),raw:{header:t[0],payload:t[1]}}}async function R1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function U1(e,t){return new Promise((s,n)=>{(async()=>{for(let l=0;l<1/0;l++)try{const r=await e(l);if(!t(l,null,r)){s(r);return}}catch(r){if(!t(l,r)){n(r);return}}})()})}function M1(e){return("0"+e.toString(16)).substr(-2)}function L1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=a.length;let n="";for(let l=0;l<56;l++)n+=a.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(t),Array.from(t,M1).join("")}async function z1(e){const a=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",a),n=new Uint8Array(s);return Array.from(n).map(l=>String.fromCharCode(l)).join("")}async function q1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await z1(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wa(e,t,a=!1){const s=L1();let n=s;a&&(n+="/PASSWORD_RECOVERY"),await b0(e,`${t}-code-verifier`,n);const l=await q1(s);return[l,s===l?"plain":"s256"]}const B1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H1(e){const t=e.headers.get(dc);if(!t||!t.match(B1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function I1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var G1=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(a[s[n]]=e[s[n]]);return a};const Aa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),P1=[502,503,504];async function Sh(e){var t;if(!k1(e))throw new hc(Aa(e),0);if(P1.includes(e.status))throw new hc(Aa(e),e.status);let a;try{a=await e.json()}catch(l){throw new x0(Aa(l),l)}let s;const n=H1(e);if(n&&n.getTime()>=g0["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?s=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(s=a.error_code),s){if(s==="weak_password")throw new vh(Aa(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Pt}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0))throw new vh(Aa(a),e.status,a.weak_password.reasons);throw new v1(Aa(a),e.status||500,s)}const Y1=(e,t,a,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),a))};async function $(e,t,a,s){var n;const l=Object.assign({},s==null?void 0:s.headers);l[dc]||(l[dc]=g0["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const r=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(r.redirect_to=s.redirectTo);const c=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await V1(e,t,a+c,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(o):{data:Object.assign({},o),error:null}}async function V1(e,t,a,s,n,l){const r=Y1(t,s,n,l);let c;try{c=await e(a,Object.assign({},r))}catch(o){throw console.error(o),new hc(Aa(o),0)}if(c.ok||await Sh(c),s!=null&&s.noResolveJson)return c;try{return await c.json()}catch(o){await Sh(o)}}function Yt(e){var t;let a=null;K1(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=T1(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:s},error:null}}function Nh(e){const t=Yt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function F1(e){return{data:e,error:null}}function X1(e){const{action_link:t,email_otp:a,hashed_token:s,redirect_to:n,verification_type:l}=e,r=G1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:a,hashed_token:s,redirect_to:n,verification_type:l},o=Object.assign({},r);return{data:{properties:c,user:o},error:null}}function Q1(e){return e}function K1(e){return e.access_token&&e.refresh_token&&e.expires_in}var Z1=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(a[s[n]]=e[s[n]]);return a};class J1{constructor({url:t="",headers:a={},fetch:s}){this.url=t,this.headers=a,this.fetch=v0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,a="global"){try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,a={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Wt})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:a}=t,s=Z1(t,["options"]),n=Object.assign(Object.assign({},s),a);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:X1,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(z(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wt})}catch(a){if(z(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,s,n,l,r,c,o;try{const u={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(l=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:""},xform:Q1});if(d.error)throw d.error;const f=await d.json(),h=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,p=(o=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(_=>{const m=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);u[`${S}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wt})}catch(a){if(z(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Wt})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,a=!1){try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Wt})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:a,error:s}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:a,error:s}}catch(a){if(z(a))return{data:null,error:a};throw a}}async _deleteFactor(t){try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(z(a))return{data:null,error:a};throw a}}}const W1={getItem:e=>Cn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Cn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Cn()&&globalThis.localStorage.removeItem(e)}};function _h(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}function ej(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const es={debug:!!(globalThis&&Cn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class j0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tj extends j0{}async function aj(e,t,a){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await a()}finally{es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(es.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}ej();const sj={url:m1,storageKey:p1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:g1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Eh(e,t,a){return await a()}class el{constructor(t){var a,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=el.nextInstanceID,el.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},sj),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new J1({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=v0(n.fetch),this.lock=n.lock||Eh,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:mt()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=aj:this.lock=Eh,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Cn()?this.storage=W1:(this.memoryStorage={},this.storage=_h(this.memoryStorage)):(this.memoryStorage={},this.storage=_h(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${p0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const a=C1(window.location.href);let s="none";if(this._isImplicitGrantCallback(a)?s="implicit":await this._isPKCECallback(a)&&(s="pkce"),mt()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:l}=await this._getSessionFromURL(a,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),w1(l)){const o=(t=l.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:r,redirectType:c}=n;return this._debug("#_initialize()","detected session in URL",r,"redirect type",c),await this._saveSession(r),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return z(a)?{error:a}:{error:new x0("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,s,n;try{const l=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Yt}),{data:r,error:c}=l;if(c||!r)return{data:{user:null,session:null},error:c};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var a,s,n;try{let l;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await Wa(this.storage,this.storageKey)),l=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:_},xform:Yt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;l=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(n=h==null?void 0:h.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Yt})}else throw new Yl("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c||!r)return{data:{user:null,session:null},error:c};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let a;if("email"in t){const{email:l,password:r,options:c}=t;a=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:r,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Nh})}else if("phone"in t){const{phone:l,password:r,options:c}=t;a=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:r,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Nh})}else throw new Yl("You must provide either an email or phone number and a password");const{data:s,error:n}=a;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ao}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(t){var a,s,n,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const a=await Fl(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(a??"").split("/");try{const{data:l,error:r}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Yt});if(await Xl(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new ao}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:n??null}),error:r})}catch(l){if(z(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:a,provider:s,token:n,access_token:l,nonce:r}=t,c=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:l,nonce:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yt}),{data:o,error:u}=c;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ao}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(t){var a,s,n,l,r;try{if("email"in t){const{email:c,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wa(this.storage,this.storageKey));const{error:f}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(a=o==null?void 0:o.data)!==null&&a!==void 0?a:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:c,options:o}=t,{data:u,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(l=o==null?void 0:o.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Yl("You must provide either an email or phone number.")}catch(c){if(z(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var a,s;try{let n,l;"options"in t&&(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo,l=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:r,error:c}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:n,xform:Yt});if(c)throw c;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,u=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var a,s,n;try{let l=null,r=null;return this.flowType==="pkce"&&([l,r]=await Wa(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:r}),headers:this.headers,xform:F1})}catch(l){if(z(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:s}=t;if(s)throw s;if(!a)throw new Pt;const{error:n}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:s,type:n,options:l}=t,{error:r}=await $(this.fetch,"POST",a,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:s,type:n,options:l}=t,{data:r,error:c}=await $(this.fetch,"POST",a,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:c}}throw new Yl("You must provide either an email or phone number and a type")}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await a()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=a();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await Fl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<to:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let r=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,u,d)=>(!r&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,d))})}return{data:{session:t},error:null}}const{session:n,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wt}):await this._useSession(async a=>{var s,n,l;const{data:r,error:c}=a;if(c)throw c;return!(!((s=r.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&l!==void 0?l:void 0,xform:Wt})})}catch(a){if(z(a))return j1(a)&&(await this._removeSession(),await Xl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async s=>{const{data:n,error:l}=s;if(l)throw l;if(!n.session)throw new Pt;const r=n.session;let c=null,o=null;this.flowType==="pkce"&&t.email!=null&&([c,o]=await Wa(this.storage,this.storageKey));const{data:u,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:o}),jwt:r.access_token,xform:Wt});if(d)throw d;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pt;const a=Date.now()/1e3;let s=a,n=!0,l=null;const{payload:r}=no(t.access_token);if(r.exp&&(s=r.exp,n=s<=a),n){const{session:c,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!c)return{data:{user:null,session:null},error:null};l=c}else{const{data:c,error:o}=await this._getUser(t.access_token);if(o)throw o;l={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:s-a,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(a){if(z(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var s;if(!t){const{data:r,error:c}=a;if(c)throw c;t=(s=r.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Pt;const{session:n,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(t,a){try{if(!mt())throw new Vl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new yh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vl("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yh("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:l,refresh_token:r,expires_in:c,expires_at:o,token_type:u}=t;if(!l||!c||!r||!u)throw new Vl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(c);let h=d+f;o&&(h=parseInt(o));const p=h-d;p*1e3<=ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const _=h-f;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,h,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,h,d);const{data:m,error:S}=await this._getUser(l);if(S)throw S;const g={provider_token:s,provider_refresh_token:n,access_token:l,expires_in:f,expires_at:h,refresh_token:r,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(s){if(z(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await Fl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var s;const{data:n,error:l}=a;if(l)return{error:l};const r=(s=n.session)===null||s===void 0?void 0:s.access_token;if(r){const{error:c}=await this.admin.signOut(r,t);if(c&&!(b1(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Xl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const a=D1(),s={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async a=>{var s,n;try{const{data:{session:l},error:r}=a;if(r)throw r;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,a={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Wa(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(l){if(z(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:a,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(a){if(z(a))return{data:null,error:a};throw a}}async linkIdentity(t){var a;try{const{data:s,error:n}=await this._useSession(async l=>{var r,c,o,u,d;const{data:f,error:h}=l;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return mt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(z(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async a=>{var s,n;const{data:l,error:r}=a;if(r)throw r;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(a){if(z(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const s=Date.now();return await U1(async n=>(n>0&&await R1(200*Math.pow(2,n-1)),this._debug(a,"refreshing attempt",n),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yt})),(n,l)=>{const r=200*Math.pow(2,n);return l&&so(l)&&Date.now()+r-s<ls})}catch(s){if(this._debug(a,"error",s),z(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",s),mt()&&!a.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await Fl(this.storage,this.storageKey);if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const n=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<to;if(this._debug(a,`session has${n?"":" not"} expired with margin of ${to}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),so(l)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var a,s;if(!t)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new pr;const{data:l,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!l.session)throw new Pt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const c={session:l.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(l){if(this._debug(n,"error",l),z(l)){const r={session:null,error:l};return so(l)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(r),r}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,a,s=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",a,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:a});const l=[],r=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,a)}catch(o){l.push(o)}});if(await Promise.all(r),l.length>0){for(let c=0;c<l.length;c+=1)console.error(l[c]);throw l[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await b0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Xl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ls);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:s}}=a;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-t)/ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ls}ms, refresh threshold is ${uc} ticks`),n<=uc&&await this._callRefreshToken(s.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof j0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,s){const n=[`provider=${encodeURIComponent(a)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,r]=await Wa(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(r)}`});n.push(c.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);n.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var s;const{data:n,error:l}=a;return l?{data:null,error:l}:await $(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(z(a))return{data:null,error:a};throw a}}async _enroll(t){try{return await this._useSession(async a=>{var s,n;const{data:l,error:r}=a;if(r)return{data:null,error:r};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=o==null?void 0:o.totp)===null||n===void 0)&&n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(a){if(z(a))return{data:null,error:a};throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:n,error:l}=a;if(l)return{data:null,error:l};const{data:r,error:c}=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:c})})}catch(a){if(z(a))return{data:null,error:a};throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:n,error:l}=a;return l?{data:null,error:l}:await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(z(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(t){const{data:a,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){const{data:{user:t},error:a}=await this.getUser();if(a)return{data:null,error:a};const s=(t==null?void 0:t.factors)||[],n=s.filter(r=>r.factor_type==="totp"&&r.status==="verified"),l=s.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:s,totp:n,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var a,s;const{data:{session:n},error:l}=t;if(l)return{data:null,error:l};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=no(n.access_token);let c=null;r.aal&&(c=r.aal);let o=c;((s=(a=n.user.factors)===null||a===void 0?void 0:a.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(o="aal2");const d=r.amr||[];return{data:{currentLevel:c,nextLevel:o,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,a={keys:[]}){let s=a.keys.find(r=>r.kid===t);if(s||(s=this.jwks.keys.find(r=>r.kid===t),s&&this.jwks_cached_at+y1>Date.now()))return s;const{data:n,error:l}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!n.keys||n.keys.length===0)throw new Dn("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),s=n.keys.find(r=>r.kid===t),!s)throw new Dn("No matching signing key found in JWKS");return s}async getClaims(t,a={keys:[]}){try{let s=t;if(!s){const{data:p,error:_}=await this.getSession();if(_||!p.session)return{data:null,error:_};s=p.session.access_token}const{header:n,payload:l,signature:r,raw:{header:c,payload:o}}=no(s);if(I1(l.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:l,header:n,signature:r},error:null}}const u=$1(n.alg),d=await this.fetchJwk(n.kid,a),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,r,O1(`${c}.${o}`)))throw new Dn("Invalid JWT signature");return{data:{claims:l,header:n,signature:r},error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}}}el.nextInstanceID=0;const nj=el;class lj extends nj{constructor(t){super(t)}}var ij=function(e,t,a,s){function n(l){return l instanceof a?l:new a(function(r){r(l)})}return new(a||(a=Promise))(function(l,r){function c(d){try{u(s.next(d))}catch(f){r(f)}}function o(d){try{u(s.throw(d))}catch(f){r(f)}}function u(d){d.done?l(d.value):n(d.value).then(c,o)}u((s=s.apply(e,t||[])).next())})};class rj{constructor(t,a,s){var n,l,r;if(this.supabaseUrl=t,this.supabaseKey=a,!t)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const c=h1(t),o=new URL(c);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:n1,realtime:i1,auth:Object.assign(Object.assign({},l1),{storageKey:u}),global:s1},f=f1(s??{},d);this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(l=f.global.headers)!==null&&l!==void 0?l:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=f.auth)!==null&&r!==void 0?r:{},this.headers,f.global.fetch),this.fetch=u1(a,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Ab(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new sb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new e1(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,a={},s={}){return this.rest.rpc(t,a,s)}channel(t,a={config:{}}){return this.realtime.channel(t,a)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,a;return ij(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(a=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:a,detectSessionInUrl:s,storage:n,storageKey:l,flowType:r,lock:c,debug:o},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lj({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:l,autoRefreshToken:t,persistSession:a,detectSessionInUrl:s,storage:n,flowType:r,lock:c,debug:o,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Hb(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,s)=>{this._handleTokenChanged(a,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,a,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oj=(e,t,a)=>new rj(e,t,a),cj="https://ewcfggvvuzmzdbzpfkjq.supabase.co",uj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV3Y2ZnZ3Z2dXptemRienBma2pxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxMzAwMjMsImV4cCI6MjA2NDcwNjAyM30.bS1vAokazyIodQ_Eou86ANuGrVKSEb7matsPELhUh9o",ma=oj(cj,uj);window.supabase=ma;var Su=(e=>(e.SIDAMA="Sidama",e.YIRGACHEFFE="Yirgacheffe",e.GUJI="Guji",e.HARRAR="Harrar",e.LIMU="Limu",e.OTHER="Other",e))(Su||{}),ct=(e=>(e.LEAD="Lead",e.ACTIVE="Active",e.REPEAT="Repeat",e.DORMANT="Dormant",e))(ct||{}),w0=(e=>(e.ORGANIC="Organic",e.FAIR_TRADE="Fair Trade",e.RAINFOREST_ALLIANCE="Rainforest Alliance",e.UTZ="UTZ Certified",e))(w0||{}),tl=(e=>(e.PENDING="Pending",e.SHIPPED="Shipped",e.DELIVERED="Delivered",e))(tl||{}),Nu=(e=>(e.LC="Letter of Credit",e.WIRE="Wire Transfer",e.CASH="Cash",e))(Nu||{}),X=(e=>(e.PAID="Paid",e.PARTIAL="Partial",e.UNPAID="Unpaid",e.OVERDUE="Overdue",e))(X||{}),_u=(e=>(e.LOGISTICS="Logistics",e.FARMER_PAYMENT="Farmer Payment",e.ADMIN="Admin",e.PACKAGING="Packaging",e.MARKETING="Marketing",e.OTHER="Other",e))(_u||{});const S0=Object.values(Su).map(e=>({value:e,label:e})),N0=Object.values(ct).map(e=>({value:e,label:e})),dj=Object.values(w0).map(e=>({value:e,label:e})),_0=Object.values(tl).map(e=>({value:e,label:e})),hj=Object.values(Nu).map(e=>({value:e,label:e})),E0=Object.values(X).map(e=>({value:e,label:e})),A0=Object.values(_u).map(e=>({value:e,label:e})),fj=[{value:"Call",label:"Call"},{value:"Sample",label:"Sample Sent"},{value:"Email",label:"Email"},{value:"Meeting",label:"Meeting"}],O0=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),Eu=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),T0=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),al=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Gi=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),D0=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75c0 .621-.504 1.125-1.125 1.125h-2.25A1.125 1.125 0 013 21v-7.875zM12.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v12.375c0 .621-.504 1.125-1.125 1.125h-2.25A1.125 1.125 0 0112.75 21V8.625zM21 4.125C21 3.504 21.504 3 22.125 3h2.25c.621 0 1.125.504 1.125 1.125v16.875A1.125 1.125 0 0124.375 21h-2.25A1.125 1.125 0 0121 19.875V4.125z"})}),Da=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),sl=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),nl=e=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),kn=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ah=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),mj=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),C0=()=>{const[e,t]=N.useState(""),[a,s]=N.useState(""),[n,l]=N.useState(!1),[r,c]=N.useState(null),[o,u]=N.useState(null),d=async h=>{h.preventDefault(),l(!0),c(null),u(null);const{error:p}=await ma.auth.signInWithPassword({email:e,password:a});p?c(p.message):u("Login successful! Redirecting…"),l(!1)},f=async()=>{l(!0),c(null);const{error:h}=await ma.auth.signInWithOAuth({provider:"google"});h&&(c(h.message),l(!1))};return i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-light-gray p-4",children:i.jsxs("div",{className:"bg-surface p-8 md:p-12 rounded-xl shadow-2xl w-full max-w-md",children:[i.jsxs("div",{className:"flex flex-col items-center mb-8",children:[i.jsx(O0,{className:"w-16 h-16 text-primary mb-3"}),i.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Coffee Export Manager"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Sign in to access your dashboard"})]}),r&&i.jsx("div",{className:"mb-4 p-3 bg-error bg-opacity-10 text-error border border-error rounded-md text-sm",children:r}),o&&i.jsx("div",{className:"mb-4 p-3 bg-success bg-opacity-10 text-success border border-success rounded-md text-sm",children:o}),i.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:h=>t(h.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm",placeholder:"you@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:h=>s(h.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm",placeholder:"••••••••"})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent disabled:opacity-50",children:n?"Signing in…":"Sign in"})})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-surface text-gray-500",children:"Or continue with"})})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("button",{onClick:f,disabled:n,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.477 0 10c0 4.419 2.865 8.166 6.839 9.49.5.092.682-.217.682-.483 0-.237-.009-.868-.013-1.703-2.782.602-3.369-1.34-3.369-1.34-.455-1.156-1.11-1.465-1.11-1.465-.909-.62.069-.608.069-.608 1.004.074 1.532 1.03 1.532 1.03.891 1.526 2.335 1.085 2.904.83.092-.645.348-1.085.635-1.334-2.22-.251-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.032-2.682-.104-.252-.448-1.27.098-2.642 0 0 .84-.269 2.75 1.026A9.564 9.564 0 0110 4.817c.852 0 1.707.114 2.504.337 1.909-1.295 2.748-1.026 2.748-1.026.548 1.372.204 2.39.1 2.642.64.698 1.03 1.591 1.03 2.682 0 3.842-2.337 4.687-4.565 4.935.358.307.678.917.678 1.85 0 1.334-.012 2.41-.012 2.736 0 .269.18.579.688.48A10.001 10.001 0 0020 10c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),"Sign in with Google"]})})]}),i.jsxs("p",{className:"mt-8 text-center text-sm text-gray-500",children:["For demo purposes, you can try with:",i.jsx("br",{}),"Email:"," ",i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"user@example.com"})," ",i.jsx("br",{}),"Password:"," ",i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"password"}),i.jsx("br",{})," (Note: Replace with your actual Supabase user credentials)"]})]})})},pj=[{id:"cust_1",companyName:"Beans & Brews",contactPerson:"Alice Smith",country:"USA",email:"alice@bnb.com",phone:"555-1234",preferredOrigin:Qn.YIRGACHEFFE,certificationsRequired:[Hi.ORGANIC,Hi.FAIR_TRADE],status:Pe.ACTIVE,assignedSalesRep:"John Doe",notes:"Loves bright, acidic coffees.",nextFollowUpDate:"2024-08-15",interactions:[{id:"int_1",date:"2024-07-10",type:"Call",notes:"Discussed new Yirgacheffe crop."}]},{id:"cust_2",companyName:"Global Coffee Importers",contactPerson:"Bob Johnson",country:"Germany",email:"bob@gci.de",phone:"555-5678",preferredOrigin:Qn.SIDAMA,certificationsRequired:[],status:Pe.LEAD,assignedSalesRep:"Jane Roe",notes:"Interested in bulk Sidama, price sensitive.",interactions:[]}],gj=[{id:"ord_1",customerId:"cust_1",product:"Yirgacheffe G1 Washed",grade:"G1",quantityKg:500,unitPrice:8.5,totalAmount:4250,shippingStatus:qs.SHIPPED,orderDate:"2024-07-01",documents:[],linkedInvoiceId:"inv_1"}],xj=[{id:"inv_1",orderId:"ord_1",customerId:"cust_1",invoiceNumber:"INV-2024-001",dateIssued:"2024-07-02",dueDate:"2024-08-01",amountDue:4250,amountPaid:2e3,status:Y.PARTIAL,paymentMethod:gu.WIRE,datePaid:"2024-07-15"}],yj=[{id:"exp_1",expenseType:Kn.LOGISTICS,date:"2024-07-03",amount:300,paidTo:"Global Shipping Co.",relatedOrderId:"ord_1",isApproved:!0,description:"Shipping for ORD_1"},{id:"exp_2",expenseType:Kn.FARMER_PAYMENT,date:"2024-06-20",amount:2e3,paidTo:"Yirgacheffe Coop",isApproved:!0,description:"Payment for Yirgacheffe beans"}],k0=N.createContext(null),Ks=()=>{const e=N.useContext(k0);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},vj=()=>{const[e,t]=N.useState(null),[a,s]=N.useState(!0),[n,l]=N.useState(pj),[r,c]=N.useState(gj),[o,u]=N.useState(xj),[d,f]=N.useState(yj),h=Fs(),p=pu();N.useEffect(()=>{(async()=>{const{data:{session:P}}=await ma.auth.getSession();t(P),s(!1)})();const{data:R}=ma.auth.onAuthStateChange((P,Ne)=>{t(Ne),Ne||p("/")});return()=>{R==null||R.subscription.unsubscribe()}},[p]);const _=async()=>{const{error:T}=await ma.auth.signOut();T?(console.error("Error logging out:",T),alert(`Error logging out: ${T.message}`)):t(null)},m=T=>`${T}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,S=N.useCallback(T=>{l(R=>[...R,{...T,id:m("cust"),interactions:[]}])},[]),g=N.useCallback(T=>{l(R=>R.map(P=>P.id===T.id?T:P))},[]),y=N.useCallback((T,R)=>{l(P=>P.map(Ne=>Ne.id===T?{...Ne,interactions:[...Ne.interactions,{...R,id:m("int")}]}:Ne))},[]),v=N.useCallback(T=>{const R={...T,id:m("ord"),totalAmount:T.quantityKg*T.unitPrice,documents:[]};return c(P=>[...P,R]),R.id},[]),j=N.useCallback(T=>{c(R=>R.map(P=>P.id===T.id?{...T,totalAmount:T.quantityKg*T.unitPrice}:P))},[]),E=N.useCallback(T=>{const R=`INV-${new Date().getFullYear()}-${(o.length+1).toString().padStart(3,"0")}`;u(P=>[...P,{...T,id:m("inv"),invoiceNumber:R}])},[o.length]),C=N.useCallback(T=>{u(R=>R.map(P=>P.id===T.id?T:P))},[]),x=N.useCallback(T=>{if(T.linkedInvoiceId&&o.find(M=>M.id===T.linkedInvoiceId)){alert("Invoice already exists for this order.");return}const R=m("inv"),P=`INV-${new Date().getFullYear()}-${(o.length+1).toString().padStart(3,"0")}`,Ne=new Date(T.orderDate);Ne.setDate(Ne.getDate()+30);const D={id:R,orderId:T.id,customerId:T.customerId,invoiceNumber:P,dateIssued:new Date().toISOString().split("T")[0],dueDate:Ne.toISOString().split("T")[0],amountDue:T.totalAmount,amountPaid:0,status:Y.UNPAID};u(M=>[...M,D]),c(M=>M.map(L=>L.id===T.id?{...L,linkedInvoiceId:R}:L))},[o]),b=N.useCallback(T=>{f(R=>[...R,{...T,id:m("exp")}])},[]),O=N.useCallback(T=>{f(R=>R.map(P=>P.id===T.id?T:P))},[]),w={session:e,logout:_,customers:n,setCustomers:l,addCustomer:S,updateCustomer:g,logInteraction:y,salesOrders:r,setSalesOrders:c,addSalesOrder:v,updateSalesOrder:j,invoices:o,setInvoices:u,addInvoice:E,updateInvoice:C,generateInvoiceForOrder:x,expenses:d,setExpenses:f,addExpense:b,updateExpense:O},k=[{path:"/",label:"Dashboard",icon:i.jsx(Zp,{className:"w-5 h-5 mr-2"})},{path:"/crm",label:"CRM",icon:i.jsx(xu,{className:"w-5 h-5 mr-2"})},{path:"/sales",label:"Sales Log",icon:i.jsx(Kp,{className:"w-5 h-5 mr-2"})},{path:"/invoices",label:"Invoices",icon:i.jsx(Zn,{className:"w-5 h-5 mr-2"})},{path:"/expenses",label:"Expenses",icon:i.jsx(Ii,{className:"w-5 h-5 mr-2"})}];return a?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-light-gray",children:i.jsx("p",{className:"text-xl text-primary",children:"Loading application..."})}):i.jsx(k0.Provider,{value:w,children:e?i.jsxs("div",{className:"min-h-screen flex flex-col bg-light-gray",children:[i.jsx("header",{className:"bg-primary text-white shadow-md",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(zv,{className:"w-8 h-8 mr-3 text-accent"}),i.jsx("h1",{className:"text-2xl font-semibold",children:"Coffee Export Manager"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("nav",{className:"flex space-x-1",children:k.map(T=>i.jsxs(Pp,{to:T.path,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150 ease-in-out ${h.pathname===T.path?"bg-accent text-primary":"text-gray-200 hover:bg-secondary hover:text-white"}`,children:[T.icon,T.label]},T.path))}),i.jsx("button",{onClick:_,className:"px-3 py-2 rounded-md text-sm font-medium bg-error hover:bg-red-700 text-white transition-colors",children:"Logout"})]})]})}),i.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:i.jsxs($p,{children:[i.jsx(ut,{path:"/",element:i.jsx(Qv,{})}),i.jsx(ut,{path:"/crm",element:i.jsx($v,{})}),i.jsx(ut,{path:"/sales",element:i.jsx(Pv,{})}),i.jsx(ut,{path:"/invoices",element:i.jsx(Vv,{})}),i.jsx(ut,{path:"/expenses",element:i.jsx(Xv,{})})]})}),i.jsxs("footer",{className:"bg-primary text-white text-center py-4",children:[i.jsxs("p",{children:["© ",new Date().getFullYear()," Coffee Export Solutions. All rights reserved."]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Data is stored in-memory and will be lost on page refresh (Demo purposes)."})]})]}):i.jsx(C0,{})})},R0=document.getElementById("root");if(!R0)throw new Error("Could not find root element to mount to");const bj=Dp.createRoot(R0);bj.render(i.jsx(ll.StrictMode,{children:i.jsx(Gp,{children:i.jsx(vj,{})})}));const Ql=({title:e,value:t,icon:a,color:s="bg-primary"})=>i.jsxs("div",{className:`${s} text-white p-6 rounded-xl shadow-lg flex items-center space-x-4 transform hover:scale-105 transition-transform duration-200`,children:[i.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full",children:ll.cloneElement(a,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm uppercase tracking-wide",children:e}),i.jsx("p",{className:"text-3xl font-bold",children:typeof t=="number"&&!e.toLowerCase().includes("customer")&&!e.toLowerCase().includes("active")?`USD ${t.toFixed(2)}`:t})]})]}),jj=()=>{const{salesOrders:e,invoices:t,expenses:a,customers:s,updateExpense:n}=Zs(),l=e.reduce((m,S)=>{const g=t.find(y=>y.orderId===S.id);return g&&(g.status===X.PAID||g.status===X.PARTIAL)?m+g.amountPaid:m},0),r=t.filter(m=>m.status===X.UNPAID||m.status===X.PARTIAL||m.status===X.OVERDUE).reduce((m,S)=>m+(S.amountDue-S.amountPaid),0),c=a.filter(m=>new Date(m.date).getMonth()===new Date().getMonth()&&new Date(m.date).getFullYear()===new Date().getFullYear()&&m.isApproved).reduce((m,S)=>m+S.amount,0),o=s.map(m=>{const S=e.filter(g=>g.customerId===m.id).reduce((g,y)=>{const v=t.find(j=>j.orderId===y.id&&(j.status===X.PAID||j.status===X.PARTIAL));return g+(v?v.amountPaid:0)},0);return{name:m.companyName,totalSales:S}}).filter(m=>m.totalSales>0).sort((m,S)=>S.totalSales-m.totalSales).slice(0,5),u=new Date,d=new Date;d.setDate(u.getDate()-30);const f=t.filter(m=>(m.status===X.UNPAID||m.status===X.PARTIAL||m.status===X.OVERDUE)&&new Date(m.dueDate)<d&&new Date(m.dueDate)<u),h=a.filter(m=>!m.isApproved&&m.amount>500),p=e.map(m=>{const S=a.filter(j=>j.relatedOrderId===m.id&&j.isApproved).reduce((j,E)=>j+E.amount,0),g=t.find(j=>j.orderId===m.id&&(j.status===X.PAID||j.status===X.PARTIAL)),y=g?g.amountPaid:0,v=y-S;return{orderId:m.id,product:m.product,profit:v,totalRevenue:y,totalExpenses:S}}).filter(m=>m.totalRevenue>0||m.totalExpenses>0),_=m=>{const S=a.find(g=>g.id===m);S&&n({...S,isApproved:!S.isApproved})};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(D0,{className:"w-8 h-8 mr-2"}),"Manager Dashboard"]}),i.jsx("button",{onClick:async()=>{await supabase.auth.signOut(),window.location.reload()},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm",children:"Logout"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsx(Ql,{title:"Monthly Revenue (Paid/Partial)",value:l,icon:i.jsx(al,{}),color:"bg-green-500"}),i.jsx(Ql,{title:"Outstanding Payments",value:r,icon:i.jsx(Gi,{}),color:"bg-yellow-500"}),i.jsx(Ql,{title:"Total Approved Expenses (This Month)",value:c,icon:i.jsx(Gi,{}),color:"bg-red-500"}),i.jsx(Ql,{title:"Active Customers",value:s.filter(m=>m.status===ct.ACTIVE||m.status===ct.REPEAT).length,icon:i.jsx(Eu,{}),color:"bg-blue-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Profit Per Shipment (Based on Paid Invoices & Approved Expenses)"}),p.length>0?i.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:p.map(m=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-md text-sm",children:[i.jsxs("p",{className:"font-medium",children:[m.product," (Order: ",m.orderId.substring(0,6),"...)"]}),i.jsxs("p",{children:["Revenue (Paid): ",i.jsxs("span",{className:"text-green-600",children:["USD ",m.totalRevenue.toFixed(2)]})]}),i.jsxs("p",{children:["Approved Expenses: ",i.jsxs("span",{className:"text-red-600",children:["USD ",m.totalExpenses.toFixed(2)]})]}),i.jsxs("p",{children:["Profit: ",i.jsxs("span",{className:`font-bold ${m.profit>=0?"text-green-700":"text-red-700"}`,children:["USD ",m.profit.toFixed(2)]})]})]},m.orderId))}):i.jsx("p",{className:"text-gray-500",children:"No shipment data with paid invoices to display profit."})]}),i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Top Performing Customers (by Paid Sales)"}),o.length>0?i.jsx("ul",{className:"space-y-2",children:o.map(m=>i.jsxs("li",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-md text-sm",children:[i.jsx("span",{className:"font-medium text-secondary",children:m.name}),i.jsxs("span",{className:"text-green-600 font-semibold",children:["USD ",m.totalSales.toFixed(2)]})]},m.name))}):i.jsx("p",{className:"text-gray-500",children:"No customer sales data (paid invoices) available."})]})]}),i.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-lg",children:[i.jsxs("h2",{className:"text-xl font-semibold text-primary mb-4 flex items-center",children:[i.jsx(mj,{className:"w-6 h-6 mr-2 text-red-500"})," Alerts & Approvals"]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-yellow-600 mb-2",children:"Unpaid Invoices (Older than 30 days past due)"}),f.length>0?i.jsx("ul",{className:"space-y-2 text-sm",children:f.map(m=>{var S;return i.jsxs("li",{className:"p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded-md",children:["Invoice ",i.jsx("span",{className:"font-semibold",children:m.invoiceNumber})," for ",(S=s.find(g=>g.id===m.customerId))==null?void 0:S.companyName," (USD ",(m.amountDue-m.amountPaid).toFixed(2),") due on ",new Date(m.dueDate).toLocaleDateString(),"."]},m.id)})}):i.jsx("p",{className:"text-gray-500 text-sm",children:"No invoices older than 30 days past due."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-blue-600 mb-2",children:"High-Value Expenses Awaiting Approval (> USD 500)"}),h.length>0?i.jsx("ul",{className:"space-y-2 text-sm",children:h.map(m=>i.jsxs("li",{className:"p-3 bg-blue-50 border-l-4 border-blue-400 rounded-md flex justify-between items-center",children:[i.jsxs("div",{children:["Expense for ",i.jsx("span",{className:"font-semibold",children:m.paidTo})," (USD ",m.amount.toFixed(2),") on ",new Date(m.date).toLocaleDateString()," - ",m.description,"."]}),i.jsxs("button",{onClick:()=>_(m.id),className:"bg-green-500 text-white px-3 py-1 rounded-md hover:bg-green-600 text-xs flex items-center",children:[i.jsx(kn,{className:"w-4 h-4 mr-1"})," Approve"]})]},m.id))}):i.jsx("p",{className:"text-gray-500 text-sm",children:"No high-value expenses awaiting approval."})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-lg font-medium text-green-600 mb-2",children:"Recently Approved High-Value Expenses"}),a.filter(m=>m.isApproved&&m.amount>500).slice(-5).reverse().map(m=>i.jsxs("li",{className:"p-3 bg-green-50 border-l-4 border-green-400 rounded-md flex justify-between items-center text-sm",children:[i.jsxs("div",{children:["Expense for ",i.jsx("span",{className:"font-semibold",children:m.paidTo})," (USD ",m.amount.toFixed(2),") on ",new Date(m.date).toLocaleDateString()," - ",m.description,"."]}),i.jsxs("span",{className:"text-green-700 flex items-center",children:[i.jsx(kn,{className:"w-4 h-4 mr-1"})," Approved"]})]},m.id)),a.filter(m=>m.isApproved&&m.amount>500).length===0&&i.jsx("p",{className:"text-gray-500 text-sm",children:"No high-value expenses recently approved."})]})]})]})},Mt=({isOpen:e,onClose:t,title:a,children:s,size:n="md"})=>{if(!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 transition-opacity duration-300 ease-in-out",children:[i.jsxs("div",{className:`bg-surface rounded-lg shadow-xl w-full ${l[n]} p-6 transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modalShow`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-primary",children:a}),i.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Close modal",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{children:s})]}),i.jsx("style",{children:`
        @keyframes modalShow {
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animate-modalShow {
          animation: modalShow 0.3s forwards;
        }
      `})]})},Oh={companyName:"",contactPerson:"",country:"",email:"",phone:"",preferredOrigin:Su.SIDAMA,certificationsRequired:[],status:ct.LEAD,assignedSalesRep:"",notes:"",nextFollowUpDate:void 0},wj={date:new Date().toISOString().split("T")[0],type:"Call",notes:""},Sj=({customer:e,onSave:t,onClose:a})=>{const[s,n]=N.useState(()=>e?{...e}:Oh);N.useEffect(()=>{n(e?{...e}:Oh)},[e]);const l=o=>{const{name:u,value:d}=o.target;n(f=>({...f,[u]:d}))},r=o=>{const{name:u,options:d}=o.target,f=[];for(let h=0,p=d.length;h<p;h++)d[h].selected&&f.push(d[h].value);n(h=>({...h,[u]:f}))},c=o=>{o.preventDefault(),t(e?{...e,...s}:s)};return i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700",children:"Company Name"}),i.jsx("input",{type:"text",name:"companyName",id:"companyName",value:s.companyName,onChange:l,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"contactPerson",className:"block text-sm font-medium text-gray-700",children:"Contact Person"}),i.jsx("input",{type:"text",name:"contactPerson",id:"contactPerson",value:s.contactPerson,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),i.jsx("input",{type:"text",name:"country",id:"country",value:s.country,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),i.jsx("input",{type:"email",name:"email",id:"email",value:s.email,onChange:l,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",id:"phone",value:s.phone,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"preferredOrigin",className:"block text-sm font-medium text-gray-700",children:"Preferred Coffee Origin"}),i.jsx("select",{name:"preferredOrigin",id:"preferredOrigin",value:s.preferredOrigin,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:S0.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Customer Status"}),i.jsx("select",{name:"status",id:"status",value:s.status,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:N0.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"certificationsRequired",className:"block text-sm font-medium text-gray-700",children:"Certifications Required"}),i.jsx("select",{name:"certificationsRequired",id:"certificationsRequired",multiple:!0,value:s.certificationsRequired,onChange:r,className:"mt-1 block w-full h-32 border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:dj.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"assignedSalesRep",className:"block text-sm font-medium text-gray-700",children:"Assigned Sales Rep"}),i.jsx("input",{type:"text",name:"assignedSalesRep",id:"assignedSalesRep",value:s.assignedSalesRep,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"nextFollowUpDate",className:"block text-sm font-medium text-gray-700",children:"Next Follow-Up Date"}),i.jsx("input",{type:"date",name:"nextFollowUpDate",id:"nextFollowUpDate",value:s.nextFollowUpDate||"",onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),i.jsx("textarea",{name:"notes",id:"notes",value:s.notes,onChange:l,rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:"Save Customer"})]})]})},Nj=({customerId:e,onClose:t})=>{const{logInteraction:a}=Zs(),[s,n]=N.useState(wj),l=c=>{const{name:o,value:u}=c.target;n(d=>({...d,[o]:u}))},r=c=>{c.preventDefault(),a(e,s),t()};return i.jsxs("form",{onSubmit:r,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),i.jsx("input",{type:"date",name:"date",id:"date",value:s.date,onChange:l,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Type"}),i.jsx("select",{name:"type",id:"type",value:s.type,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:fj.map(c=>i.jsx("option",{value:c.value,children:c.label},c.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),i.jsx("textarea",{name:"notes",id:"notes",value:s.notes,onChange:l,required:!0,rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Log Interaction"})]})]})},_j=()=>{const{customers:e,addCustomer:t,updateCustomer:a}=Zs(),[s,n]=N.useState(!1),[l,r]=N.useState(!1),[c,o]=N.useState(!1),[u,d]=N.useState(void 0),[f,h]=N.useState(void 0),[p,_]=N.useState(""),[m,S]=N.useState(""),[g,y]=N.useState("card"),v=()=>{d(void 0),n(!0)},j=w=>{d(w),n(!0)},E=w=>{d(w),o(!0)},C=w=>{"id"in w?a(w):t(w),n(!1)},x=w=>{h(w),r(!0)},b=e.filter(w=>{const k=p?w.status===p:!0,T=m?w.preferredOrigin===m:!0;return k&&T}),O=new Date().toISOString().split("T")[0];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(Eu,{className:"w-8 h-8 mr-2"}),"Customer Relationship Management"]}),i.jsxs("button",{onClick:v,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Da,{className:"w-5 h-5 mr-2"})," Add New Customer"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterStatus",className:"block text-sm font-medium text-gray-700",children:"Filter by Status"}),i.jsxs("select",{id:"filterStatus",value:p,onChange:w=>_(w.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Statuses"}),N0.map(w=>i.jsx("option",{value:w.value,children:w.label},w.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterOrigin",className:"block text-sm font-medium text-gray-700",children:"Filter by Origin"}),i.jsxs("select",{id:"filterOrigin",value:m,onChange:w=>S(w.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Origins"}),S0.map(w=>i.jsx("option",{value:w.value,children:w.label},w.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"View Layout"}),i.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[i.jsx("button",{onClick:()=>y("list"),className:`px-3 py-2 rounded-l-md border border-gray-300 ${g==="list"?"bg-primary text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"List"}),i.jsx("button",{onClick:()=>y("card"),className:`px-3 py-2 rounded-r-md border border-gray-300 -ml-px ${g==="card"?"bg-primary text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Card"})]})]})]})}),b.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No customers found."}),g==="card"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(w=>i.jsx("div",{className:"bg-surface rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-transform duration-200",children:i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h3",{className:"text-xl font-semibold text-primary mb-1",children:w.companyName}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${w.status===ct.ACTIVE?"bg-green-100 text-green-700":w.status===ct.LEAD?"bg-yellow-100 text-yellow-700":w.status===ct.REPEAT?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:w.status})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[w.contactPerson," - ",w.country]}),i.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:[w.email," | ",w.phone]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("p",{className:"text-xs text-gray-500",children:["Origin: ",i.jsx("span",{className:"font-medium text-secondary",children:w.preferredOrigin})]}),w.certificationsRequired.length>0&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Certs: ",i.jsx("span",{className:"font-medium text-secondary",children:w.certificationsRequired.join(", ")})]})]}),w.nextFollowUpDate&&i.jsxs("p",{className:`text-sm mb-3 ${w.nextFollowUpDate<O?"text-red-500 font-semibold":"text-gray-700"}`,children:["Follow-up: ",new Date(w.nextFollowUpDate).toLocaleDateString(),w.nextFollowUpDate<O&&i.jsx("span",{className:"ml-1",children:"(Overdue)"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>E(w),className:"text-sm bg-accent text-primary px-3 py-1 rounded-md hover:opacity-80 flex items-center",children:[i.jsx(nl,{className:"w-4 h-4 mr-1"})," Details"]}),i.jsxs("button",{onClick:()=>j(w),className:"text-sm bg-gray-200 text-gray-700 px-3 py-1 rounded-md hover:bg-gray-300 flex items-center",children:[i.jsx(sl,{className:"w-4 h-4 mr-1"})," Edit"]}),i.jsxs("button",{onClick:()=>x(w.id),className:"text-sm bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 flex items-center",children:[i.jsx(Da,{className:"w-4 h-4 mr-1"})," Log"]})]})]})},w.id))}):i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origin"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Follow-Up"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(w=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.companyName}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.contactPerson}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w.status===ct.ACTIVE?"bg-green-100 text-green-800":w.status===ct.LEAD?"bg-yellow-100 text-yellow-800":w.status===ct.REPEAT?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:w.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.preferredOrigin}),i.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${w.nextFollowUpDate&&w.nextFollowUpDate<O?"text-red-600 font-semibold":"text-gray-500"}`,children:[w.nextFollowUpDate?new Date(w.nextFollowUpDate).toLocaleDateString():"N/A",w.nextFollowUpDate&&w.nextFollowUpDate<O&&" (Overdue)"]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>E(w),className:"text-accent hover:text-primary",children:i.jsx(nl,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>j(w),className:"text-secondary hover:text-primary",children:i.jsx(sl,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>x(w.id),className:"text-blue-600 hover:text-blue-800",children:i.jsx(Da,{className:"w-5 h-5 inline"})})]})]},w.id))})]})}),i.jsx(Mt,{isOpen:s,onClose:()=>n(!1),title:u?"Edit Customer":"Add New Customer",children:i.jsx(Sj,{customer:u,onSave:C,onClose:()=>n(!1)})}),f&&i.jsx(Mt,{isOpen:l,onClose:()=>r(!1),title:"Log Interaction",children:i.jsx(Nj,{customerId:f,onClose:()=>r(!1)})}),u&&i.jsx(Mt,{isOpen:c,onClose:()=>o(!1),title:`${u.companyName} - Details`,size:"lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Contact Person:"})," ",u.contactPerson]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Country:"})," ",u.country]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",u.email]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Phone:"})," ",u.phone]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Preferred Origin:"})," ",u.preferredOrigin]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Certifications:"})," ",u.certificationsRequired.join(", ")||"None"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"})," ",u.status]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Sales Rep:"})," ",u.assignedSalesRep]}),u.nextFollowUpDate&&i.jsxs("p",{className:u.nextFollowUpDate<O?"text-red-500 font-bold":"",children:[i.jsx("strong",{children:"Next Follow-Up:"})," ",new Date(u.nextFollowUpDate).toLocaleDateString()," ",u.nextFollowUpDate<O?"(Overdue Reminder!)":""]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Notes:"})," ",u.notes||"N/A"]}),i.jsx("h4",{className:"text-lg font-semibold text-primary mt-4 pt-4 border-t",children:"Interaction History"}),u.interactions.length>0?i.jsx("ul",{className:"space-y-3 max-h-60 overflow-y-auto",children:[...u.interactions].reverse().map(w=>i.jsxs("li",{className:"p-3 bg-gray-50 rounded-md",children:[i.jsxs("p",{className:"font-semibold text-secondary",children:[w.type," - ",new Date(w.date).toLocaleDateString()]}),i.jsx("p",{className:"text-sm text-gray-600",children:w.notes})]},w.id))}):i.jsx("p",{className:"text-gray-500",children:"No interactions logged yet."}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsxs("button",{onClick:()=>{x(u.id),o(!1)},className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 flex items-center",children:[i.jsx(Da,{className:"w-5 h-5 mr-2"})," Add New Interaction"]})})]})})]})},Th={customerId:"",product:"",grade:"",quantityKg:0,unitPrice:0,shippingStatus:tl.PENDING,orderDate:new Date().toISOString().split("T")[0]},Ej=({order:e,customers:t,onSave:a,onClose:s})=>{const[n,l]=N.useState(()=>e?{...e}:Th);N.useEffect(()=>{l(e?{...e}:Th)},[e]);const r=o=>{const{name:u,value:d}=o.target,f=u==="quantityKg"||u==="unitPrice"?parseFloat(d):d;l(h=>({...h,[u]:f}))},c=o=>{if(o.preventDefault(),n.customerId===""){alert("Please select a customer.");return}a(n)};return i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"customerId",className:"block text-sm font-medium text-gray-700",children:"Customer"}),i.jsxs("select",{name:"customerId",id:"customerId",value:n.customerId,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",disabled:!0,children:"Select Customer"}),t.map(o=>i.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700",children:"Product (e.g., Green Coffee Beans)"}),i.jsx("input",{type:"text",name:"product",id:"product",value:n.product,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"grade",className:"block text-sm font-medium text-gray-700",children:"Grade (e.g., G1, G2)"}),i.jsx("input",{type:"text",name:"grade",id:"grade",value:n.grade,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"quantityKg",className:"block text-sm font-medium text-gray-700",children:"Quantity (kg)"}),i.jsx("input",{type:"number",name:"quantityKg",id:"quantityKg",value:n.quantityKg,onChange:r,required:!0,min:"0",step:"0.1",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"unitPrice",className:"block text-sm font-medium text-gray-700",children:"Unit Price (USD)"}),i.jsx("input",{type:"number",name:"unitPrice",id:"unitPrice",value:n.unitPrice,onChange:r,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"orderDate",className:"block text-sm font-medium text-gray-700",children:"Order Date"}),i.jsx("input",{type:"date",name:"orderDate",id:"orderDate",value:n.orderDate,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"shippingStatus",className:"block text-sm font-medium text-gray-700",children:"Shipping Status"}),i.jsx("select",{name:"shippingStatus",id:"shippingStatus",value:n.shippingStatus,onChange:r,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:_0.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),i.jsx("div",{children:i.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Total Amount: USD ",(n.quantityKg*n.unitPrice).toFixed(2)]})}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Order"})]})]})},Aj=()=>{const{salesOrders:e,addSalesOrder:t,updateSalesOrder:a,customers:s,generateInvoiceForOrder:n,invoices:l}=Zs(),[r,c]=N.useState(!1),[o,u]=N.useState(!1),[d,f]=N.useState(void 0),[h,p]=N.useState(""),[_,m]=N.useState(""),S=()=>{f(void 0),c(!0)},g=x=>{f(x),c(!0)},y=x=>{f(x),u(!0)},v=x=>{"id"in x?a(x):t(x),c(!1)},j=x=>{if(n(x),d&&d.id===x.id){const b=e.find(O=>O.id===x.id);b&&f(b)}},E=x=>{var b;return((b=s.find(O=>O.id===x))==null?void 0:b.companyName)||"Unknown Customer"},C=e.filter(x=>{const b=h?x.customerId===h:!0,O=_?x.shippingStatus===_:!0;return b&&O});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(T0,{className:"w-8 h-8 mr-2"}),"Sales Log"]}),i.jsxs("button",{onClick:S,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Da,{className:"w-5 h-5 mr-2"})," Create New Order"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCustomer",className:"block text-sm font-medium text-gray-700",children:"Filter by Customer"}),i.jsxs("select",{id:"filterCustomer",value:h,onChange:x=>p(x.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Customers"}),s.map(x=>i.jsx("option",{value:x.id,children:x.companyName},x.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterShippingStatus",className:"block text-sm font-medium text-gray-700",children:"Filter by Shipping Status"}),i.jsxs("select",{id:"filterShippingStatus",value:_,onChange:x=>m(x.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Statuses"}),_0.map(x=>i.jsx("option",{value:x.value,children:x.label},x.value))]})]})]})}),C.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No sales orders found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipping Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(x=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[x.id.substring(0,8),"..."]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E(x.customerId)}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[x.product," (",x.grade,")"]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",x.totalAmount.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.orderDate).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.shippingStatus===tl.DELIVERED?"bg-green-100 text-green-800":x.shippingStatus===tl.SHIPPED?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:x.shippingStatus})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>y(x),className:"text-accent hover:text-primary",children:i.jsx(nl,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>g(x),className:"text-secondary hover:text-primary",children:i.jsx(sl,{className:"w-5 h-5 inline"})}),!x.linkedInvoiceId&&i.jsx("button",{onClick:()=>j(x),title:"Generate Invoice",className:"text-green-600 hover:text-green-800",children:i.jsx(al,{className:"w-5 h-5 inline"})})]})]},x.id))})]})}),i.jsx(Mt,{isOpen:r,onClose:()=>c(!1),title:d?"Edit Sales Order":"Create New Sales Order",size:"lg",children:i.jsx(Ej,{order:d,customers:s,onSave:v,onClose:()=>c(!1)})}),d&&i.jsx(Mt,{isOpen:o,onClose:()=>u(!1),title:"Order Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Order ID:"})," ",d.id]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Customer:"})," ",E(d.customerId)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Product:"})," ",d.product," (Grade: ",d.grade,")"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Quantity:"})," ",d.quantityKg," kg"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Unit Price:"})," USD ",d.unitPrice.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Total Amount:"})," USD ",d.totalAmount.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Order Date:"})," ",new Date(d.orderDate).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Shipping Status:"})," ",d.shippingStatus]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Linked Invoice ID:"})," ",d.linkedInvoiceId||"N/A"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Documents:"}),d.documents.length>0?i.jsx("ul",{className:"list-disc list-inside ml-4",children:d.documents.map(x=>i.jsxs("li",{children:[x.name," (",x.type,")"]},x.name))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded."}),i.jsxs("div",{className:"mt-2",children:[i.jsx("label",{htmlFor:"docUpload",className:"text-sm text-gray-600",children:"Upload Document (mock):"}),i.jsx("input",{type:"file",id:"docUpload",className:"text-sm",onChange:()=>alert("File upload is a demo feature.")})]})]}),!d.linkedInvoiceId&&i.jsx("div",{className:"pt-4 border-t mt-4",children:i.jsxs("button",{onClick:()=>{var b;j(d);const x={...d,linkedInvoiceId:((b=l.find(O=>O.orderId===d.id))==null?void 0:b.id)||"pending..."};f(x)},className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center justify-center",children:[i.jsx(al,{className:"w-5 h-5 mr-2"})," Generate Invoice"]})})]})})]})},Dh={orderId:"",customerId:"",dateIssued:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],amountDue:0,amountPaid:0,paymentMethod:void 0,datePaid:void 0,status:X.UNPAID},Oj=({invoice:e,customers:t,salesOrders:a,onSave:s,onClose:n})=>{var f;const[l,r]=N.useState(()=>e?{...e}:Dh);N.useEffect(()=>{r(e?{...e}:Dh)},[e]);const c=h=>{const p=h.target.value,_=a.find(m=>m.id===p);_&&r(m=>({...m,orderId:_.id,customerId:_.customerId,amountDue:_.totalAmount}))},o=h=>{const{name:p,value:_}=h.target,m=p==="amountDue"||p==="amountPaid"?parseFloat(_):_;if(r(S=>({...S,[p]:m})),p==="amountPaid"&&l.amountDue>0){const S=parseFloat(_);S===0?r(g=>({...g,status:X.UNPAID})):S<l.amountDue?r(g=>({...g,status:X.PARTIAL})):r(g=>({...g,status:X.PAID}))}},u=h=>{if(h.preventDefault(),l.orderId===""||l.customerId===""){alert("Please select an order and customer.");return}s(l)},d=!!e;return i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"orderId",className:"block text-sm font-medium text-gray-700",children:"Related Order"}),i.jsxs("select",{name:"orderId",id:"orderId",value:l.orderId,onChange:c,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",disabled:d,children:[i.jsx("option",{value:"",disabled:!0,children:"Select Order"}),a.filter(h=>!h.linkedInvoiceId||e&&h.id===e.orderId).map(h=>{var p;return i.jsxs("option",{value:h.id,children:[h.id.substring(0,8),"... - ",(p=t.find(_=>_.id===h.customerId))==null?void 0:p.companyName]},h.id)})]}),d&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Order cannot be changed after invoice creation."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Customer"}),i.jsx("input",{type:"text",value:((f=t.find(h=>h.id===l.customerId))==null?void 0:f.companyName)||"N/A",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm p-2"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dateIssued",className:"block text-sm font-medium text-gray-700",children:"Date Issued"}),i.jsx("input",{type:"date",name:"dateIssued",id:"dateIssued",value:l.dateIssued,onChange:o,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700",children:"Due Date"}),i.jsx("input",{type:"date",name:"dueDate",id:"dueDate",value:l.dueDate,onChange:o,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amountDue",className:"block text-sm font-medium text-gray-700",children:"Amount Due (USD)"}),i.jsx("input",{type:"number",name:"amountDue",id:"amountDue",value:l.amountDue,onChange:o,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm p-2",readOnly:d})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700",children:"Amount Paid (USD)"}),i.jsx("input",{type:"number",name:"amountPaid",id:"amountPaid",value:l.amountPaid,onChange:o,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),i.jsxs("select",{name:"paymentMethod",id:"paymentMethod",value:l.paymentMethod||"",onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",children:"Select Method"}),hj.map(h=>i.jsx("option",{value:h.value,children:h.label},h.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"datePaid",className:"block text-sm font-medium text-gray-700",children:"Date Paid"}),i.jsx("input",{type:"date",name:"datePaid",id:"datePaid",value:l.datePaid||"",onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsx("select",{name:"status",id:"status",value:l.status,onChange:o,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:E0.map(h=>i.jsx("option",{value:h.value,children:h.label},h.value))})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Invoice"})]})]})},Tj=()=>{const{invoices:e,addInvoice:t,updateInvoice:a,customers:s,salesOrders:n}=Zs(),[l,r]=N.useState(!1),[c,o]=N.useState(!1),[u,d]=N.useState(void 0),[f,h]=N.useState(""),[p,_]=N.useState(""),m=()=>{d(void 0),r(!0)},S=x=>{d(x),r(!0)},g=x=>{d(x),o(!0)},y=x=>{"id"in x?a(x):t(x),r(!1)},v=x=>{var b;return((b=s.find(O=>O.id===x))==null?void 0:b.companyName)||"Unknown Customer"},j=new Date().toISOString().split("T")[0],E=e.map(x=>(x.status===X.UNPAID||x.status===X.PARTIAL)&&x.dueDate<j?{...x,status:X.OVERDUE}:x).filter(x=>{const b=f?x.status===f:!0,O=p?x.customerId===p:!0;return b&&O}),C=x=>{switch(x){case X.PAID:return"bg-green-100 text-green-800";case X.PARTIAL:return"bg-yellow-100 text-yellow-800";case X.UNPAID:return"bg-red-100 text-red-800";case X.OVERDUE:return"bg-pink-200 text-pink-800 font-bold";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(al,{className:"w-8 h-8 mr-2"}),"Invoices & Payments"]}),i.jsxs("button",{onClick:m,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Da,{className:"w-5 h-5 mr-2"})," Create New Invoice"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterStatus",className:"block text-sm font-medium text-gray-700",children:"Filter by Status"}),i.jsxs("select",{id:"filterStatus",value:f,onChange:x=>h(x.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Statuses"}),E0.map(x=>i.jsx("option",{value:x.value,children:x.label},x.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCustomer",className:"block text-sm font-medium text-gray-700",children:"Filter by Customer"}),i.jsxs("select",{id:"filterCustomer",value:p,onChange:x=>_(x.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Customers"}),s.map(x=>i.jsx("option",{value:x.id,children:x.companyName},x.id))]})]})]})}),E.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No invoices found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Due"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Paid"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(x=>i.jsxs("tr",{className:`hover:bg-gray-50 ${x.status===X.UNPAID||x.status===X.OVERDUE?"border-l-4 border-red-500":x.status===X.PARTIAL?"border-l-4 border-yellow-500":""}`,children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.invoiceNumber}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v(x.customerId)}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",x.amountDue.toFixed(2)]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",x.amountPaid.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.dueDate).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${C(x.status)}`,children:x.status})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>g(x),className:"text-accent hover:text-primary",children:i.jsx(nl,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>S(x),className:"text-secondary hover:text-primary",children:i.jsx(sl,{className:"w-5 h-5 inline"})})]})]},x.id))})]})}),i.jsx(Mt,{isOpen:l,onClose:()=>r(!1),title:u?"Edit Invoice":"Create New Invoice",size:"lg",children:i.jsx(Oj,{invoice:u,customers:s,salesOrders:n,onSave:y,onClose:()=>r(!1)})}),u&&i.jsx(Mt,{isOpen:c,onClose:()=>o(!1),title:"Invoice Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Invoice Number:"})," ",u.invoiceNumber]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Order ID:"})," ",u.orderId]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Customer:"})," ",v(u.customerId)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Date Issued:"})," ",new Date(u.dateIssued).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Due Date:"})," ",new Date(u.dueDate).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount Due:"})," USD ",u.amountDue.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount Paid:"})," USD ",u.amountPaid.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Remaining Balance:"})," USD ",(u.amountDue-u.amountPaid).toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Payment Method:"})," ",u.paymentMethod||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Date Paid:"})," ",u.datePaid?new Date(u.datePaid).toLocaleDateString():"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"})," ",i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${C(u.status)}`,children:u.status})]}),u.status===X.OVERDUE&&i.jsx("p",{className:"text-red-600 font-bold",children:"This invoice is overdue!"})]})})]})},Ch={expenseType:_u.LOGISTICS,date:new Date().toISOString().split("T")[0],amount:0,paidTo:"",relatedOrderId:void 0,receiptUrl:void 0,isApproved:!1,description:""},Dj=({expense:e,salesOrders:t,onSave:a,onClose:s})=>{const[n,l]=N.useState(()=>e?{...e}:Ch);N.useEffect(()=>{l(e?{...e}:Ch)},[e]);const r=o=>{const{name:u,value:d,type:f}=o.target;if(f==="checkbox"){const{checked:h}=o.target;l(p=>({...p,[u]:h}))}else{const h=u==="amount"?parseFloat(d):d;l(p=>({...p,[u]:h}))}},c=o=>{o.preventDefault(),a(n)};return i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"expenseType",className:"block text-sm font-medium text-gray-700",children:"Expense Type"}),i.jsx("select",{name:"expenseType",id:"expenseType",value:n.expenseType,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:A0.map(o=>i.jsx("option",{value:o.value,children:o.label},o.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),i.jsx("input",{type:"date",name:"date",id:"date",value:n.date,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount (USD)"}),i.jsx("input",{type:"number",name:"amount",id:"amount",value:n.amount,onChange:r,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"paidTo",className:"block text-sm font-medium text-gray-700",children:"Paid To"}),i.jsx("input",{type:"text",name:"paidTo",id:"paidTo",value:n.paidTo,onChange:r,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"relatedOrderId",className:"block text-sm font-medium text-gray-700",children:"Related Order (Optional)"}),i.jsxs("select",{name:"relatedOrderId",id:"relatedOrderId",value:n.relatedOrderId||"",onChange:r,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2",children:[i.jsx("option",{value:"",children:"None"}),t.map(o=>i.jsxs("option",{value:o.id,children:[o.id.substring(0,8),"... (",o.product,")"]},o.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),i.jsx("textarea",{name:"description",id:"description",value:n.description,onChange:r,rows:2,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"receiptUrl",className:"block text-sm font-medium text-gray-700",children:"Upload Receipt (mock)"}),i.jsx("input",{type:"file",name:"receiptUrl",id:"receiptUrl",onChange:()=>alert("File upload is a demo feature. Path will not be stored."),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-accent file:text-primary hover:file:bg-secondary"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"isApproved",id:"isApproved",checked:n.isApproved,onChange:r,className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-accent"}),i.jsx("label",{htmlFor:"isApproved",className:"ml-2 block text-sm text-gray-900",children:"Mark as Approved"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-secondary",children:"Save Expense"})]})]})},Cj=()=>{const{expenses:e,addExpense:t,updateExpense:a,salesOrders:s}=Zs(),[n,l]=N.useState(!1),[r,c]=N.useState(!1),[o,u]=N.useState(void 0),[d,f]=N.useState(""),[h,p]=N.useState(""),[_,m]=N.useState(""),S=()=>{u(void 0),l(!0)},g=b=>{u(b),l(!0)},y=b=>{u(b),c(!0)},v=b=>{"id"in b?a(b):t(b),l(!1)},j=b=>{a({...b,isApproved:!b.isApproved})},E=e.filter(b=>{const O=d?b.expenseType===d:!0,w=h?b.date.startsWith(h):!0,k=_?b.relatedOrderId===_:!0;return O&&w&&k}).sort((b,O)=>new Date(O.date).getTime()-new Date(b.date).getTime()),C=E.reduce((b,O)=>{const w=O.date.substring(0,7);return b[w]=(b[w]||0)+O.amount,b},{}),x=E.reduce((b,O)=>{const w=O.date.substring(0,4);return b[w]=(b[w]||0)+O.amount,b},{});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h1",{className:"text-3xl font-semibold text-primary flex items-center",children:[i.jsx(Gi,{className:"w-8 h-8 mr-2"}),"Expenses Management"]}),i.jsxs("button",{onClick:S,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary flex items-center",children:[i.jsx(Da,{className:"w-5 h-5 mr-2"})," Log New Expense"]})]}),i.jsx("div",{className:"p-4 bg-surface rounded-md shadow",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterCategory",className:"block text-sm font-medium text-gray-700",children:"Filter by Category"}),i.jsxs("select",{id:"filterCategory",value:d,onChange:b=>f(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Categories"}),A0.map(b=>i.jsx("option",{value:b.value,children:b.label},b.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-gray-700",children:"Filter by Date (YYYY or YYYY-MM)"}),i.jsx("input",{type:"text",id:"filterDate",placeholder:"e.g. 2024 or 2024-07",value:h,onChange:b=>p(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterOrder",className:"block text-sm font-medium text-gray-700",children:"Filter by Related Order"}),i.jsxs("select",{id:"filterOrder",value:_,onChange:b=>m(b.target.value),className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{value:"",children:"All Orders"}),s.map(b=>i.jsxs("option",{value:b.id,children:[b.id.substring(0,8),"... (",b.product,")"]},b.id))]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Monthly Summary"}),Object.keys(C).length>0?i.jsx("ul",{className:"text-sm space-y-1",children:Object.entries(C).map(([b,O])=>i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[b,":"]})," ",i.jsxs("span",{className:"font-medium",children:["USD ",O.toFixed(2)]})]},b))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No expenses for summary."})]}),i.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Yearly Summary"}),Object.keys(x).length>0?i.jsx("ul",{className:"text-sm space-y-1",children:Object.entries(x).map(([b,O])=>i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[b,":"]})," ",i.jsxs("span",{className:"font-medium",children:["USD ",O.toFixed(2)]})]},b))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No expenses for summary."})]})]}),E.length===0&&i.jsx("p",{className:"text-center text-gray-500",children:"No expenses found."}),i.jsx("div",{className:"bg-surface shadow overflow-x-auto rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid To"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(b=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(b.date).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.expenseType}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["USD ",b.amount.toFixed(2)]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.paidTo}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsx("button",{onClick:()=>j(b),className:`p-1 rounded-full ${b.isApproved?"text-success":"text-error"}`,children:b.isApproved?i.jsx(kn,{className:"w-5 h-5"}):i.jsx(Ah,{className:"w-5 h-5"})})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[i.jsx("button",{onClick:()=>y(b),className:"text-accent hover:text-primary",children:i.jsx(nl,{className:"w-5 h-5 inline"})}),i.jsx("button",{onClick:()=>g(b),className:"text-secondary hover:text-primary",children:i.jsx(sl,{className:"w-5 h-5 inline"})})]})]},b.id))})]})}),i.jsx(Mt,{isOpen:n,onClose:()=>l(!1),title:o?"Edit Expense":"Log New Expense",size:"lg",children:i.jsx(Dj,{expense:o,salesOrders:s,onSave:v,onClose:()=>l(!1)})}),o&&i.jsx(Mt,{isOpen:r,onClose:()=>c(!1),title:"Expense Details",size:"md",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Date:"})," ",new Date(o.date).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Type:"})," ",o.expenseType]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount:"})," USD ",o.amount.toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Paid To:"})," ",o.paidTo]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Description:"})," ",o.description||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Related Order ID:"})," ",o.relatedOrderId||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Approved:"})," ",o.isApproved?i.jsx(kn,{className:"w-5 h-5 inline text-success"}):i.jsx(Ah,{className:"w-5 h-5 inline text-error"})]}),o.receiptUrl&&i.jsxs("p",{children:[i.jsx("strong",{children:"Receipt:"})," ",i.jsx("a",{href:o.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"View Receipt (mock)"})]}),!o.isApproved&&o.amount>1e3&&i.jsx("div",{className:"pt-4 border-t mt-4",children:i.jsxs("button",{onClick:()=>{j(o),u(b=>b?{...b,isApproved:!b.isApproved}:void 0)},className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center justify-center",children:[i.jsx(kn,{className:"w-5 h-5 mr-2"})," Approve Expense"]})})]})})]})},kj=[],Rj=[],Uj=[],Mj=[],U0=N.createContext(null),Zs=()=>{const e=N.useContext(U0);if(!e)throw new Error("useAppContext must be used within AppContext");return e},Lj=()=>{const[e,t]=N.useState(null),[a,s]=N.useState(!0),[n,l]=N.useState(kj),[r,c]=N.useState(Rj),[o,u]=N.useState(Uj),[d,f]=N.useState(Mj),h=Fs(),p=pu();N.useEffect(()=>{ma.auth.getSession().then(({data:{session:T}})=>{t(T),s(!1)});const{data:k}=ma.auth.onAuthStateChange((T,R)=>{t(R),R||p("/")});return()=>k.subscription.unsubscribe()},[p]);const _=k=>`${k}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,m=N.useCallback(k=>{l(T=>[...T,{...k,id:_("cust"),interactions:[]}])},[]),S=N.useCallback(k=>{l(T=>T.map(R=>R.id===k.id?k:R))},[]),g=N.useCallback((k,T)=>{l(R=>R.map(P=>P.id===k?{...P,interactions:[...P.interactions,{...T,id:_("int")}]}:P))},[]),y=N.useCallback(k=>{const T={...k,id:_("ord"),totalAmount:k.quantityKg*k.unitPrice,documents:[]};return c(R=>[...R,T]),T.id},[]),v=N.useCallback(k=>{c(T=>T.map(R=>R.id===k.id?{...k,totalAmount:k.quantityKg*k.unitPrice}:R))},[]),j=N.useCallback(k=>{const T=`INV-${new Date().getFullYear()}-${(o.length+1).toString().padStart(3,"0")}`;u(R=>[...R,{...k,id:_("inv"),invoiceNumber:T}])},[o.length]),E=N.useCallback(k=>{u(T=>T.map(R=>R.id===k.id?k:R))},[]),C=N.useCallback(k=>{if(k.linkedInvoiceId&&o.find(D=>D.id===k.linkedInvoiceId)){alert("Invoice already exists for this order.");return}const T=_("inv"),R=`INV-${new Date().getFullYear()}-${(o.length+1).toString().padStart(3,"0")}`,P=new Date(k.orderDate);P.setDate(P.getDate()+30);const Ne={id:T,orderId:k.id,customerId:k.customerId,invoiceNumber:R,dateIssued:new Date().toISOString().split("T")[0],dueDate:P.toISOString().split("T")[0],amountDue:k.totalAmount,amountPaid:0,status:X.UNPAID,paymentMethod:Nu.WIRE,datePaid:""};u(D=>[...D,Ne]),c(D=>D.map(M=>M.id===k.id?{...M,linkedInvoiceId:T}:M))},[o]),x=N.useCallback(k=>{f(T=>[...T,{...k,id:_("exp")}])},[]),b=N.useCallback(k=>{f(T=>T.map(R=>R.id===k.id?k:R))},[]);if(a)return i.jsx("div",{style:{padding:20},children:"Loading…"});if(!e)return i.jsx(C0,{});const O={session:e,customers:n,setCustomers:l,addCustomer:m,updateCustomer:S,logInteraction:g,salesOrders:r,setSalesOrders:c,addSalesOrder:y,updateSalesOrder:v,invoices:o,setInvoices:u,addInvoice:j,updateInvoice:E,generateInvoiceForOrder:C,expenses:d,setExpenses:f,addExpense:x,updateExpense:b},w=[{path:"/",label:"Dashboard",icon:i.jsx(D0,{className:"w-5 h-5 mr-2"})},{path:"/crm",label:"CRM",icon:i.jsx(Eu,{className:"w-5 h-5 mr-2"})},{path:"/sales",label:"Sales Log",icon:i.jsx(T0,{className:"w-5 h-5 mr-2"})},{path:"/invoices",label:"Invoices",icon:i.jsx(al,{className:"w-5 h-5 mr-2"})},{path:"/expenses",label:"Expenses",icon:i.jsx(Gi,{className:"w-5 h-5 mr-2"})}];return i.jsx(U0.Provider,{value:O,children:i.jsxs("div",{className:"min-h-screen flex flex-col bg-light-gray",children:[i.jsx("header",{className:"bg-primary text-white shadow-md",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(O0,{className:"w-8 h-8 mr-3 text-accent"}),i.jsx("h1",{className:"text-2xl font-semibold",children:"Coffee Export Manager"})]}),i.jsx("nav",{className:"flex space-x-1",children:w.map(k=>i.jsxs(Pp,{to:k.path,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150 ease-in-out ${h.pathname===k.path?"bg-accent text-primary":"text-gray-200 hover:bg-secondary hover:text-white"}`,children:[k.icon,k.label]},k.path))})]})}),i.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:i.jsxs($p,{children:[i.jsx(ut,{path:"/",element:i.jsx(jj,{})}),i.jsx(ut,{path:"/crm",element:i.jsx(_j,{})}),i.jsx(ut,{path:"/sales",element:i.jsx(Aj,{})}),i.jsx(ut,{path:"/invoices",element:i.jsx(Tj,{})}),i.jsx(ut,{path:"/expenses",element:i.jsx(Cj,{})})]})}),i.jsxs("footer",{className:"bg-primary text-white text-center py-4",children:[i.jsxs("p",{children:["© ",new Date().getFullYear()," Coffee Export Solutions. All rights reserved."]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Data is stored in-memory and will be lost on page refresh (Demo purposes)."})]})]})})},M0=document.getElementById("root");if(!M0)throw new Error("Could not find root element to mount to");const zj=Dp.createRoot(M0);zj.render(i.jsx(ll.StrictMode,{children:i.jsx(Gp,{children:i.jsx(Lj,{})})}));
